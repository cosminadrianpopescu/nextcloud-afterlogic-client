{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack:///src/html/attachments.html","webpack:///src/html/avatar.html","webpack:///src/html/compose.html","webpack:///src/html/editor.html","webpack:///src/html/folders-list.html","webpack:///src/html/home.html","webpack:///src/html/loading.html","webpack:///src/html/main.html","webpack:///src/html/message.html","webpack:///src/html/messages-list.html","webpack:///src/html/playground.html","webpack:///src/html/settings.html","webpack:///src/ts/nextcloud/filepick.html","webpack:///src/assets/scss/attachments.scss","webpack:///src/assets/scss/avatar.scss","webpack:///src/assets/scss/compose.scss","webpack:///src/assets/scss/editor.scss","webpack:///src/assets/scss/folders-list.scss","webpack:///src/assets/scss/home.scss","webpack:///src/assets/scss/main.scss","webpack:///src/assets/scss/message.scss","webpack:///src/assets/scss/messages-list.scss","webpack:///src/assets/scss/settings.scss","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///src/ts/base.ts","webpack:///src/ts/components/attachments.ts","webpack:///src/ts/components/avatar.ts","webpack:///src/ts/components/compose.ts","webpack:///src/ts/components/editor.ts","webpack:///src/ts/components/folders-list.ts","webpack:///src/ts/components/loading.ts","webpack:///src/ts/components/message.ts","webpack:///src/ts/components/messages-list.ts","webpack:///src/ts/decorators.ts","webpack:///src/ts/models.ts","webpack:///src/ts/modules/main.ts","webpack:///src/ts/nextcloud/filepick.scss","webpack:///src/ts/nextcloud/filepick.ts","webpack:///src/ts/nextcloud/filepicker.ts","webpack:///src/ts/nextcloud/models.ts","webpack:///src/ts/nextcloud/nextcloud.ts","webpack:///src/ts/nextcloud/storage.ts","webpack:///src/ts/nextcloud/utils.ts","webpack:///src/ts/nextcloud/webdav.ts","webpack:///src/ts/pages/home.ts","webpack:///src/ts/pages/main.ts","webpack:///src/ts/pages/playground.ts","webpack:///src/ts/pages/settings.ts","webpack:///src/ts/pipes.ts","webpack:///src/ts/routing.ts","webpack:///src/ts/services/api.ts","webpack:///src/ts/services/background.ts","webpack:///src/ts/services/contacts.ts","webpack:///src/ts/services/file.ts","webpack:///src/ts/services/layout.ts","webpack:///src/ts/services/logging.ts","webpack:///src/ts/services/mails.ts","webpack:///src/ts/services/navigation.ts","webpack:///src/ts/services/route-reuse.ts","webpack:///src/ts/services/settings.ts","webpack:///src/ts/services/store.ts","webpack:///src/ts/services/utils.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","map","webpackAsyncContext","__webpack_require__","o","ids","all","slice","webpackAsyncContextKeys","Object","environment","production","logLevel","DEBUG","logStack","bootstrapModule","err","console","log","BlockableComponent","el","prototype","block","target","getBlockableElement","appendChild","mask","nativeElement","style","position","document","body","autoZIndex","zIndex","String","baseZIndex","Statics","BaseClassWithDecorations","protoName","component","callback","name","values","get","Map","Array","isArray","forEach","bind","__resolveDecorations__","__proto__","constructor","obj","injector","replace","c","r","Math","random","v","toString","BaseClass","_logger","logger","__resolveInjectors__","BaseComponent","__cycles__","__subscriptions__","__loadingComponent__","_isValid","set","push","cycle","args","cycles","concat","reverse","method","_runCycle","s","unsubscribe","changes","hideLoading","error","alert","message","ngOnDestroy","ngOnInit","obs","subscribe","url","_router","navigateByUrl","__factoryResolver__","resolveComponentFactory","create","querySelectorAll","length","instance","uuid","UUID","initMe","__appRef__","attachView","hostView","node","rootNodes","detachView","removeChild","title","severity","sticky","_toast","add","summary","detail","key","match","BaseTestUnit","_providers","initialized","resetTestingModule","configureTestingModule","providers","emit","Attachments","attachments","_attDownloading","_isCloud","_nc","isNextcloud","a","where","preview","fileName","Uid","FileName","_api","downloadAttachment","account","result","att","_doDownload","Documents","uri","_intent","startActivity","action","ACTION_VIEW","decodeURIComponent","type","MimeType","idx","findIndex","_a","Actions","view","splice","download","_settings","getServer","server","pickFolder","_platform","is","folder","_mails","accountById","AccountID","getAttachmentContent","content","path","upload","uPath","selector","template","Avatar","Compose","notify","_showCc","_contacts","_convertor","_combinedView","_attaching","_saving","_cloudAttaching","_incloud","_accounts$","accounts$","pipe","accounts","_account","setTimeout","filter","connect","currentAccount$","undefined","_setModel","_start","_waitEditorReady","getMessageType","_type","conv","composeType","currentEmail","Email","_model","convert","Cc","indexOf","Bcc","to","To","isDraftReply","getOriginalDraftReply","orig","InReplyTo","MessageId","reloadAttachments","_contactsService","contacts","_editor","focus","_viewInit","toPromise","_saveSubscription","modelChange","_save","ev","toLowerCase","query","display","validate","_destroy","showLoading","model","sendMessage","saveMessage","DraftUid","NewUid","promises","apply","Attachment","_fileService","_file","files","p","i","uploadAttachment","_doAttach","pickFile","file","contents","f","F","window","File","uploadData","suggestions","selectItem","Editor","_html","innerHTML","FoldersList","_loading","_selected","folderByType","Inbox","inbox","folderChanged$","Folders$","_init","encapsulation","None","Loading","_cd","detectChanges","Message","_quotedText","_isDraft","_detailsHidden","_hasImages","_maxWidth","_actions","label","icon","command","_action","_download","_width","innerWidth","_body","div","querySelector","setAttribute","transformMessageBody","_server","_setMaxWidth","onresize","_zone","run","_transform","_message","Html","Plain","from","href","email","onclick","_emailClick","Collection","_accountId","user","userByEmail","users","CID","img","src","onerror","fetch","headers","Authorization","token","blob","d","URL","createObjectURL","contact","downloadUrl","DownloadAsEmlUrl","IsFlagged","flag","Folder","_originalMessage","n","getAttribute","m","Type","Drafts","getMessageBody","_appendBody","IsSeen","markRead","DEFAULT","MessagesList","fixSearchForm","selectionChanged","_pageSize","_totalRecords","_search","_messages","_combinedMessages","_showSearch","_style","_oldestMessage","_subscriptions","ready$","softRefresh","getPageSize","folderById$","_folder","_reset","_initSubscriptions","previousValue","foldersDiff","currentValue","_initMe","messages","_table","selection","_store","getFolderSearch","_account$","folderById","FoldersOrder","Id","msgChanged","messagesDeleted$","messagesMoved$","refresh$","_messagesRemoved","_loadMessages","first","_background","configure","_checkMailsAuto","emptySearch","Date","_waitNewMails","getMessages","msgs","TimeStampInUTC","_fetchMailsAuto","initialType","_fetch","showNotifications","_setOldestMessage","auto","searchFolder","simple","txt","setFolderSearch","messageInComposedFolder","uids","x","sort","b","reset","lastSearchResults","refreshed$","keyCode","row","clearState","_selectionChanged","_all","_advSearch","TEST_CASES","TEST_CASES_ONLY","METADATA","__decorate","arg","ctor","property","prop","NgInject","NgCycle","deserialize","deserializers","add_to_testcases","which","NgTest","only","COMBINED_ACCOUNT_ID","LogLevel","FolderType","ModelFactory","json","k","find","value","convertor","_primitive","j","_create","promise","data","UserSetting","ServerSetting","HttpResponse","Server","Authentication","Contact","Contacts","Messages","Action","ActionConvertor","SearchConvertor","_add","subject","text","since","till","_date","FoldersConvertor","possibleParents","parts","split","Count","Unread","Name","SubFolders","parentName","parent","arr","JSON","parse","levels","tree","level","items","_addNewFolder","reduce","acc","MessageBody","Account","TypesSet","FoldersInfoResult","SearchModel","MessageNotify","DisplayContact","MessageCompose","DraftInfo","ContactConvertor","DisplayName","ReplyToBodyConvertor","msg","From","ForwardBodyConvertor","join","cc","_collection","Subject","MessageComposeConvertor","_conv","Body","ReplyTo","_convertCollection","References","FileResult","UploadResult","Identity","MessageSave","FetcherID","Importance","SendReadingConfirmation","Sensitivity","MessageSaveConvertor","_mapCollection","Text","IsHtml","TempName","SaveMessageResponse","ComposedResult","FormDataSerialized","LabelValue","AppSetting","AppSettings","ALL_MAIL","Main","declarations","entryComponents","imports","forRoot","preloadingStrategy","useHash","provide","useClass","bootstrap","FilepickInstance","Filepick","choose","_files","_selection","_load","toTreeNode","leaf","children","expanded","filename","_webdav","getFiles","_results","ctrlKey","partialSelected","top","FilePickerType","FilePicker","multiSelect","mimeTypeFilter","modal","directoriesAllowed","mimeTypeFiler","res","rej","OC","dialogs","filepicker","allowDirectoryChooser","getClient","getFileContents","getFileInfo","ext","p2","parseInt","_getPath","_path","putFileContents","fail","appPassword","loginName","location","origin","getBaseUrl","FilePickerBuilder","Choose","ms","allow","getFilePickerBuilder","NextcloudPoll","NextcloudLogin","NextcloudCredentials","NextcloudItem","NextcloudShare","NextcloudShareResult","Nextcloud","_lastPath","_credentials","options","status","statusText","picker","pick","_processLastPath","maximized","header","closable","closeOnEscape","styleClass","ref","_modal","open","close","onDestroy","_isNcSetup","_pickFromApp","_pickFromFrame","_pickFolderNc","_pickFolderOC","basePath","arrayBuffer","bin","_downloadApp","_downloadOC","poll","_rest","endpoint","_poll","credentials","baseUrl","loginData","createElement","login","click","mkdir","exists","setDate","getDate","getMonth","day","getFullYear","params","shareType","expireDate","_shareDate","stringify","btoa","ocs","init","isOC","Storage","_url","response","FormData","_baseUrl","NextcloudUtils","basename","forFiles","selectable","collapsedIcon","fileIcon","expandedIcon","Webdav","_client","_ready$","username","password","next","getDirectoryContents","overwrite","createDirectory","getFileDownloadLink","stat","Home","_route","_isMobile","_row","_spamFolder","_userMenu","_compose","_composer","_composeType","_toolbarVisible","_composeTitle","_mobileViewType","_showSettings","_themeClass","_refreshing","_layout","isMobile","sessionExpired$","u","navigate","_folderNotify","getTheme","theme","dark","buildUserMenu","_onMenu","paramMap","has","param","_newMessage","_list","rows","_messageNotify","_nav","backButton$","_toolbarBack","isSpamFolder","unselect","moveOrDeleteMessages","markSpam","archive","setCurrentAccount","item","_changeAccount","_composeMessage","_composeTo","_refresh","_hideCompose","_mobile","_ready","_initializeApp","ready","_splash","hide","onIntent","Playground","_contact","Settings","_validate","_urlFixed","appSettings","needAuthenticating","setServer","_waitApiReady","getCurrentAccount","saveSettings","reload","nextcloudUrl","setNextcloudLogin","FoldersTree","folders","transform","NcFilesToTree","FolderLabel","_label","folderUpdated$","AttachmentsList","extractCollection","MessageDate","d1","d2","_sameDay","d3","getTime","MessageFrom","MessageFromTxt","MessageFromTxtFull","toSpan","AsHtml","html","_sanitizer","bypassSecurityTrustHtml","ContactsListTxt","collection","ContactsArray","AvatarColor","avatarColor","AccountToContact","FriendlyName","AvatarText","substr","toUpperCase","HumanFileSize","size","floor","pow","toFixed","FileIconPipe","CurrentEmail","BorderRight","_service","borderRight","IsCombinedAccount","HasArchive","folderId","FoldersFlatList","foldersFlatList2","IsOfType","routes","withToolbar","Filesystem","Api","messagesUpdated$","_accounts","serverSet$","parameters","_checkReady","encodeURIComponent","Module","Method","Parameters","append","_http","sendRequest","responseType","ErrorCode","ErrorMessage","Result","_passRequest","Login","Password","pass","SignMe","AuthToken","_login","results","_userByEmail","_handleUserExpired","_request","list","foldersFlatList","_setFoldersTypes","l","Sent","Spam","Trash","Folders","getFoldersInfo","_f","Counts","offset","pageSize","search","filters","withThreads","lastUid","Offset","Limit","Search","Filters","UseThreading","_processMessages","_waitFoldersLoaded","MessageResultCount","Uids","MessageCount","MessageUnseenCount","FolderName","_getMessages","_combinedFoldersResult","isCombinedFolder","Set","accountId","operation","_getPayloadInfos","SetAction","_doFlag","_executeCombinedAccount","factor","_doDeleteMessages","toFolder","ToFolder","_doMoveMessages","fileData","share","shareErr","unshare","openUrl","buf","Blob","reject","reader","FileReader","onloadend","readAsBinaryString","writeFile","directory","setFolderTypes","_getFolders","draft","sent","Hash","trash","deleteMessages","moveMessages","spam","MAX_BACKGROUND_RETRIES","MAX_INTERVAL","Background","_errors","_checkInterval","_callback","getCheckoutEmailInterval","_startMailsCheck","_backgroundTimer","onTimerEvent","_backgroundRun","pause","resume","_stopBackgroundTimer","_startBackgroundTimer","start","_backgroundSuccess","_backgroundFailure","timerInterval","startOnBoot","stopOnTerminate","stop","_run","CONTACTS_KEY","load","_getCollection","what","_c","save","FileService","form","boundary","fileKey","read","Layout","width","Logger","ERROR","includeStack","logged","stack","trace","_log","INFO","LoggingInstance","LocalNotifications","Mails","newEmails$","_subscription","addListener","_messageClicked","notification","extra","getPending","pending","notifications","cancel","subFolders","_retrieveFolderById","addresses","Notification","permission","requestPermission","perm","_getFrom","granted","schedule","lastMsg","ts","_doNotify","getAccounts","Navigation","routeData$","routeParams$","events","root","firstChild","snapshot","addEventListener","stopPropagation","preventDefault","DefaultRouteReuseStrategy","route","detachedTree","future","curr","SERVER_KEY","PAGE_SIZE_KEY","MESSAGE_TYPE_KEY","CHECK_INTERVAL","NEXTCLOUD_CREDENTIALS","CLOUD_PREVIEW","NEXTCLOUD_URL","THEME","EMAIL_INTERVAL_OPTIONS","MESSAGE_TYPE_OPTIONS","PAGE_SIZE","THEME_OPTIONS","initTheme","_initNextcloud","backgroundColor","getNextcloudLogin","servers","settings","setCheckoutEmailInterval","checkEmailInterval","setMessageType","setPageSize","setNextcloudUrl","setCloudPreview","previewInCloud","setTheme","current","_toAppSetting","getNextcloudUrl","getCloudPreview","PREFIX","CURRENT_ACCOUNT","FOLDER_SEARCH","Store","defValue","date","Utils","hash","charCodeAt","h","predicate","_searchFolder","f1","f2","clientWidth","scrollWidth","scale","height","scrollHeight","y"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;ACZA,QAAIC,GAAG,GAAG;AACT,yCAAmC,CAClC,mEADkC,EAElC,QAFkC,EAGlC,CAHkC,CAD1B;AAMT,wCAAkC,CACjC,kEADiC,EAEjC,QAFiC,EAGjC,CAHiC,CANzB;AAWT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,CAH2B,CAXnB;AAgBT,iCAA2B,CAC1B,2DAD0B,EAE1B,QAF0B,EAG1B,CAH0B,CAhBlB;AAqBT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,CAH2B,CArBnB;AA0BT,iCAA2B,CAC1B,2DAD0B,EAE1B,QAF0B,EAG1B,CAH0B,CA1BlB;AA+BT,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,CAH8B,CA/BtB;AAoCT,oCAA8B,CAC7B,8DAD6B,EAE7B,QAF6B,EAG7B,CAH6B,CApCrB;AAyCT,wCAAkC,CACjC,kEADiC,EAEjC,QAFiC,EAGjC,CAHiC,CAzCzB;AA8CT,uCAAiC,CAChC,iEADgC,EAEhC,QAFgC,EAGhC,CAHgC,CA9CxB;AAmDT,qCAA+B,CAC9B,+DAD8B,EAE9B,EAF8B,CAnDtB;AAuDT,oCAA8B,CAC7B,8DAD6B,EAE7B,EAF6B,CAvDrB;AA2DT,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,EAH8B,CA3DtB;AAgET,oCAA8B,CAC7B,8DAD6B,EAE7B,QAF6B,EAG7B,EAH6B,CAhErB;AAqET,mCAA6B,CAC5B,6DAD4B,EAE5B,QAF4B,EAG5B,EAH4B,CArEpB;AA0ET,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CA1EnB;AA+ET,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,EAH8B,CA/EtB;AAoFT,oCAA8B,CAC7B,8DAD6B,EAE7B,QAF6B,EAG7B,EAH6B,CApFrB;AAyFT,iCAA2B,CAC1B,2DAD0B,EAE1B,QAF0B,EAG1B,EAH0B,CAzFlB;AA8FT,gCAA0B,CACzB,0DADyB,EAEzB,QAFyB,EAGzB,EAHyB,CA9FjB;AAmGT,8BAAwB,CACvB,wDADuB,EAEvB,EAFuB,CAnGf;AAuGT,uCAAiC,CAChC,iEADgC,EAEhC,QAFgC,EAGhC,EAHgC,CAvGxB;AA4GT,sCAAgC,CAC/B,gEAD+B,EAE/B,QAF+B,EAG/B,EAH+B,CA5GvB;AAiHT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CAjHnB;AAsHT,iCAA2B,CAC1B,2DAD0B,EAE1B,QAF0B,EAG1B,EAH0B,CAtHlB;AA2HT,4BAAsB,CACrB,sDADqB,EAErB,EAFqB,CA3Hb;AA+HT,8CAAwC,CACvC,wEADuC,EAEvC,EAFuC,CA/H/B;AAmIT,6CAAuC,CACtC,uEADsC,EAEtC,EAFsC,CAnI9B;AAuIT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CAvInB;AA4IT,iCAA2B,CAC1B,2DAD0B,EAE1B,QAF0B,EAG1B,EAH0B,CA5IlB;AAiJT,0CAAoC,CACnC,oEADmC,EAEnC,QAFmC,EAGnC,EAHmC,CAjJ3B;AAsJT,yCAAmC,CAClC,mEADkC,EAElC,QAFkC,EAGlC,EAHkC,CAtJ1B;AA2JT,mCAA6B,CAC5B,6DAD4B,EAE5B,QAF4B,EAG5B,EAH4B,CA3JpB;AAgKT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CAhKnB;AAqKT,oCAA8B,CAC7B,8DAD6B,EAE7B,QAF6B,EAG7B,EAH6B,CArKrB;AA0KT,mCAA6B,CAC5B,6DAD4B,EAE5B,QAF4B,EAG5B,EAH4B,CA1KpB;AA+KT,mCAA6B,CAC5B,6DAD4B,EAE5B,QAF4B,EAG5B,EAH4B,CA/KpB;AAoLT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CApLnB;AAyLT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CAzLnB;AA8LT,iCAA2B,CAC1B,2DAD0B,EAE1B,QAF0B,EAG1B,EAH0B,CA9LlB;AAmMT,8BAAwB,CACvB,wDADuB,EAEvB,QAFuB,EAGvB,EAHuB,CAnMf;AAwMT,oCAA8B,CAC7B,8DAD6B,EAE7B,QAF6B,EAG7B,EAH6B,CAxMrB;AA6MT,mCAA6B,CAC5B,6DAD4B,EAE5B,QAF4B,EAG5B,EAH4B,CA7MpB;AAkNT,yCAAmC,CAClC,mEADkC,EAElC,QAFkC,EAGlC,EAHkC,CAlN1B;AAuNT,wCAAkC,CACjC,kEADiC,EAEjC,QAFiC,EAGjC,EAHiC,CAvNzB;AA4NT,oCAA8B,CAC7B,8DAD6B,EAE7B,QAF6B,EAG7B,EAH6B,CA5NrB;AAiOT,mCAA6B,CAC5B,6DAD4B,EAE5B,QAF4B,EAG5B,EAH4B,CAjOpB;AAsOT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CAtOnB;AA2OT,iCAA2B,CAC1B,2DAD0B,EAE1B,QAF0B,EAG1B,EAH0B,CA3OlB;AAgPT,wCAAkC,CACjC,kEADiC,EAEjC,QAFiC,EAGjC,EAHiC,CAhPzB;AAqPT,uCAAiC,CAChC,iEADgC,EAEhC,QAFgC,EAGhC,EAHgC,CArPxB;AA0PT,sCAAgC,CAC/B,gEAD+B,EAE/B,QAF+B,EAG/B,EAH+B,CA1PvB;AA+PT,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,EAH8B,CA/PtB;AAoQT,sCAAgC,CAC/B,gEAD+B,EAE/B,EAF+B,CApQvB;AAwQT,gCAA0B,CACzB,0DADyB,EAEzB,QAFyB,EAGzB,EAHyB,CAxQjB;AA6QT,sCAAgC,CAC/B,gEAD+B,EAE/B,QAF+B,EAG/B,EAH+B,CA7QvB;AAkRT,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,EAH8B,CAlRtB;AAuRT,sCAAgC,CAC/B,gEAD+B,EAE/B,QAF+B,EAG/B,EAH+B,CAvRvB;AA4RT,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,EAH8B,CA5RtB;AAiST,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,EAH8B,CAjStB;AAsST,oCAA8B,CAC7B,8DAD6B,EAE7B,QAF6B,EAG7B,EAH6B,CAtSrB;AA2ST,oCAA8B,CAC7B,8DAD6B,EAE7B,EAF6B,CA3SrB;AA+ST,mCAA6B,CAC5B,6DAD4B,EAE5B,EAF4B,CA/SpB;AAmTT,gCAA0B,CACzB,0DADyB,EAEzB,QAFyB,EAGzB,EAHyB,CAnTjB;AAwTT,uCAAiC,CAChC,iEADgC,EAEhC,EAFgC,CAxTxB;AA4TT,sCAAgC,CAC/B,gEAD+B,EAE/B,EAF+B,CA5TvB;AAgUT,sCAAgC,CAC/B,gEAD+B,EAE/B,QAF+B,EAG/B,EAH+B,CAhUvB;AAqUT,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,EAH8B,CArUtB;AA0UT,8BAAwB,CACvB,wDADuB,EAEvB,QAFuB,EAGvB,EAHuB,CA1Uf;AA+UT,6BAAuB,CACtB,uDADsB,EAEtB,QAFsB,EAGtB,EAHsB,CA/Ud;AAoVT,qCAA+B,CAC9B,+DAD8B,EAE9B,QAF8B,EAG9B,EAH8B,CApVtB;AAyVT,oCAA8B,CAC7B,8DAD6B,EAE7B,QAF6B,EAG7B,EAH6B,CAzVrB;AA8VT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CA9VnB;AAmWT,iCAA2B,CAC1B,2DAD0B,EAE1B,QAF0B,EAG1B,EAH0B,CAnWlB;AAwWT,mCAA6B,CAC5B,6DAD4B,EAE5B,QAF4B,EAG5B,EAH4B,CAxWpB;AA6WT,kCAA4B,CAC3B,4DAD2B,EAE3B,QAF2B,EAG3B,EAH2B,CA7WnB;AAkXT,uCAAiC,CAChC,iEADgC,EAEhC,EAFgC;AAlXxB,KAAV;;AAuXA,aAASC,mBAAT,CAA6BZ,GAA7B,EAAkC;AACjC,UAAG,CAACa,mBAAmB,CAACC,CAApB,CAAsBH,GAAtB,EAA2BX,GAA3B,CAAJ,EAAqC;AACpC,eAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,cAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,WAAC,CAACE,IAAF,GAAS,kBAAT;AACA,gBAAMF,CAAN;AACA,SAJM,CAAP;AAKA;;AAED,UAAIW,GAAG,GAAGJ,GAAG,CAACX,GAAD,CAAb;AAAA,UAAoBU,EAAE,GAAGK,GAAG,CAAC,CAAD,CAA5B;AACA,aAAOd,OAAO,CAACe,GAAR,CAAYD,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAaN,GAAb,CAAiBE,mBAAmB,CAACT,CAArC,CAAZ,EAAqDD,IAArD,CAA0D,YAAW;AAC3E,eAAOU,mBAAmB,CAACH,EAAD,CAA1B;AACA,OAFM,CAAP;AAGA;;AACDE,uBAAmB,CAACL,IAApB,GAA2B,SAASW,uBAAT,GAAmC;AAC7D,aAAOC,MAAM,CAACZ,IAAP,CAAYI,GAAZ,CAAP;AACA,KAFD;;AAGAC,uBAAmB,CAACF,EAApB,GAAyB,qIAAzB;AACAF,UAAM,CAACC,OAAP,GAAiBG,mBAAjB;;;;;;;;;;;;;;;;ACzYA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,0B,CAAA;AACA;AACA;;;AAIO,QAAMQ,WAAW,GAAG;AACzBC,gBAAU,EAAE,KADa;AAEzBC,cAAQ,EAAE,oDAASC,KAFM;AAGzBC,cAAQ,EAAE;AAHe,KAApB;AAMP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACnBA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAYH,UAAhB,EAA4B;AAC1B;AACD;;AAED,uGAAyBI,eAAzB,CAAyC,qDAAzC,WACS,UAAAC,GAAG;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,KADZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCAMG,kB;;;;;;;8CAEyB;AAC3B,iBAAO,KAAKC,EAAZ;AACD;;;;;;AAGH,4DAAQC,SAAR,CAAkBC,KAAlB,GAA0B;AACxB,UAAI,KAAKC,MAAT,EAAiB;AACf,YAAMH,EAAE,GAAG,KAAKG,MAAL,CAAYC,mBAAZ,GAAkC,KAAKD,MAAL,CAAYC,mBAAZ,EAAlC,GAAsE,KAAKD,MAAtF;AACAH,UAAE,CAACK,WAAH,CAAe,KAAKC,IAAL,CAAUC,aAAzB;AACA,YAAIC,KAAK,GAAG,KAAKL,MAAL,CAAYK,KAAZ,IAAqB,EAAjC;AACAA,aAAK,CAACC,QAAN,GAAiB,UAAjB;AACA,aAAKN,MAAL,CAAYK,KAAZ,GAAoBA,KAApB;AACD,OAND,MAOK;AACHE,gBAAQ,CAACC,IAAT,CAAcN,WAAd,CAA0B,KAAKC,IAAL,CAAUC,aAApC;AACD;;AACD,UAAI,KAAKK,UAAT,EAAqB;AACnB,aAAKN,IAAL,CAAUC,aAAV,CAAwBC,KAAxB,CAA8BK,MAA9B,GAAuCC,MAAM,CAAC,KAAKC,UAAL,GAAmB,KAApB,CAA7C;AACD;AACF,KAdD;;QAgBaC,O;;;;QAIPC,wB;;;;;;;+CAQ6BC,S,EAAmBC,S,EAAgBC,Q,EAAoB;AACtF,cAAID,SAAS,CAACE,IAAV,IAAkB,EAAtB,EAA0B;AACxB;AACD;;AACD,cAAMC,MAAM,GAA+B,qDAASC,GAAT,CAAaJ,SAAb,KAA2B,IAAIK,GAAJ,EAAtE;;AACA,cAAIC,KAAK,CAACC,OAAN,CAAcJ,MAAM,CAACC,GAAP,CAAWL,SAAX,CAAd,CAAJ,EAA0C;AACxCI,kBAAM,CAACC,GAAP,CAAWL,SAAX,EAAsBS,OAAtB,CAAmCP,QAAQ,CAACQ,IAAT,CAAc,IAAd,CAAnC;AACD;;AAED,eAAKC,sBAAL,CAA4BX,SAA5B,EAAuCC,SAAS,CAACW,SAAjD,EAA4DV,QAA5D;AACD;;;+CAEgC;AAAA;;AAC/B,eAAKS,sBAAL,CAA4B,eAA5B,EAA6C,KAAKE,WAAlD,EAA+D,UAACC,GAAD;AAAA,mBAAiB,KAAI,CAACA,GAAG,CAAC,MAAD,CAAJ,CAAJ,GAAoBhB,OAAO,CAACiB,QAAR,CAAiBV,GAAjB,CAAqBS,GAAG,CAAC,KAAD,CAAxB,CAArC;AAAA,WAA/D;AACD;;;+BArBiB;AAChB,iBAAO,mCAAmCE,OAAnC,CAA2C,OAA3C,EAAoD,UAASC,CAAT,EAAY;AACrE,gBAAIC,CAAC,GAAGC,IAAI,CAACC,MAAL,KAAgB,EAAhB,GAAqB,CAA7B;AAAA,gBAAgCC,CAAC,GAAGJ,CAAC,IAAI,GAAL,GAAWC,CAAX,GAAgBA,CAAC,GAAG,GAAJ,GAAU,GAA9D;AACA,mBAAOG,CAAC,CAACC,QAAF,CAAW,EAAX,CAAP;AACD,WAHM,CAAP;AAID;;;;;;QAmBUC,S;;;;;AAIX,2BAAc;AAAA;;AAAA;;AACZ;AAHQ,eAAAC,OAAA,GAAkB,kEAAgBC,MAAlC;;AAIR,eAAKC,oBAAL;;AAFY;AAGb;;;MAP4B3B,wB;;QAUlB4B,a;;;;;AAgBX,+BAAc;AAAA;;AAAA;;AACZ;AAPM,eAAAC,UAAA,GAAyC,IAAItB,GAAJ,EAAzC;AACA,eAAAuB,iBAAA,GAAyC,EAAzC;AACA,eAAAC,oBAAA,GAA0C,IAA1C;AAEE,eAAAC,QAAA,GAAoB,IAApB;;AAIR,eAAKpB,sBAAL,CAA4B,YAA5B,EAA0C,OAAKE,WAA/C,EAA4D,UAACC,GAAD,EAAiB;AAC3E,cAAI,CAAC,OAAKc,UAAL,CAAgBvB,GAAhB,CAAoBS,GAAG,CAAC,KAAD,CAAvB,CAAL,EAAsC;AACpC,mBAAKc,UAAL,CAAgBI,GAAhB,CAAoBlB,GAAG,CAAC,KAAD,CAAvB,EAAgC,EAAhC;AACD;;AACD,iBAAKc,UAAL,CAAgBvB,GAAhB,CAAoBS,GAAG,CAAC,KAAD,CAAvB,EAAgCmB,IAAhC,CAAqCnB,GAAG,CAAC,MAAD,CAAxC;AACD,SALD;;AAFY;AAQb;;;;kCAEiBoB,K,EAAkBC,I,EAAY;AAAA;;AAC9C,cAAMC,MAAM,GAAG,GAAGC,MAAH,CAAU,KAAKT,UAAL,CAAgBvB,GAAhB,CAAoB6B,KAApB,KAA8B,EAAxC,CAAf;AACAE,gBAAM,CAACE,OAAP,GAAiB7B,OAAjB,CAAyB,UAAA8B,MAAM;AAAA,mBAAI,MAAI,CAACA,MAAD,CAAJ,CAAaJ,IAAb,CAAJ;AAAA,WAA/B;AACD;;;sCAEqB;AACpB,eAAKK,SAAL,CAAe,SAAf;;AACA,eAAKX,iBAAL,CAAuBpB,OAAvB,CAA+B,UAAAgC,CAAC;AAAA,mBAAIA,CAAC,CAACC,WAAF,EAAJ;AAAA,WAAhC;AACD;;;0CAEyB;AACxB,eAAKF,SAAL,CAAe,eAAf;AACD;;;oCAEmBG,O,EAAwB;AAC1C,eAAKH,SAAL,CAAe,QAAf,EAAyBG,OAAzB;AACD;;;qCAE4BjE,G,EAAY;;;;;;AACvC,yBAAKkE,WAAL;AACAjE,2BAAO,CAACkE,KAAR,CAAcnE,GAAd;AACA,yBAAKoE,KAAL,CAAWpE,GAAG,CAACqE,OAAJ,IAAerE,GAAG,CAAC,OAAD,CAAlB,IAA+BA,GAAG,CAACyB,IAAnC,IAA2CzB,GAAG,CAACmC,WAAJ,CAAgBV,IAAtE,EAA4E,EAA5E;;;;;;;;;AACD;;;mCAEwB;;;;;;AACvB,yBAAKqC,SAAL,CAAe,MAAf;;;;;;;;;AACD;;;sCAEuB;AACtB,eAAKQ,WAAL;AACA,eAAKC,QAAL;AACD;;;gCAEoBC,G,EAAoBhD,Q,EAA0B;AACjE,eAAK2B,iBAAL,CAAuBI,IAAvB,CAA4BiB,GAAG,CAACC,SAAJ,CAAcjD,QAAd,CAA5B;AACD;;;iCAEkBkD,G,EAAW;AAC5B,iBAAO,KAAKC,OAAL,CAAaC,aAAb,CAA2BF,GAA3B,CAAP;AACD;;;oCAEqBtE,E,EAAsB;AAC1C,eAAKgD,oBAAL,GAA4B,KAAKyB,mBAAL,CAAyBC,uBAAzB,CAAiD,2DAAjD,EAA0DC,MAA1D,CAAiE3D,OAAO,CAACiB,QAAzE,CAA5B;;AACA,cAAI,CAACjC,EAAD,IAAOU,QAAQ,CAACkE,gBAAT,CAA0B,YAA1B,EAAwCC,MAAxC,GAAiD,CAA5D,EAA+D;AAC7D;AACD;;AACD,cAAI7E,EAAJ,EAAQ;AACN,gBAAMmB,SAAS,GAAG,IAAIpB,kBAAJ,EAAlB;AACAoB,qBAAS,CAACnB,EAAV,GAAeA,EAAE,CAACO,aAAlB;AACA,iBAAKyC,oBAAL,CAA0B8B,QAA1B,CAAmC3E,MAAnC,GAA4CgB,SAA5C;AACD;;AACD,eAAK6B,oBAAL,CAA0B8B,QAA1B,CAAmCC,IAAnC,GAA0ClC,aAAa,CAACmC,IAAd,EAA1C;;AACA,eAAKhC,oBAAL,CAA0B8B,QAA1B,CAAmCG,MAAnC;;AACA,eAAKC,UAAL,CAAgBC,UAAhB,CAA2B,KAAKnC,oBAAL,CAA0BoC,QAArD;;AACA,cAAMC,IAAI,GAAI,KAAKrC,oBAAL,CAA0BoC,QAA1B,CAA4DE,SAA5D,CAAsE,CAAtE,CAAd;AACA5E,kBAAQ,CAACC,IAAT,CAAcN,WAAd,CAA0BgF,IAA1B;AACD;;;sCAEuB;AACtB,cAAI,CAAC,KAAKrC,oBAAV,EAAgC;AAC9B;AACD;;AACD,eAAKkC,UAAL,CAAgBK,UAAhB,CAA2B,KAAKvC,oBAAL,CAA0BoC,QAArD;;AACA,cAAMpF,EAAE,GAAGU,QAAQ,CAACkE,gBAAT,CAA0B,YAA1B,CAAX;AACA5E,YAAE,CAAC2B,OAAH,CAAW,UAAArD,CAAC;AAAA,mBAAIoC,QAAQ,CAACC,IAAT,CAAc6E,WAAd,CAA0BlH,CAA1B,CAAJ;AAAA,WAAZ;AACA,eAAK0E,oBAAL,GAA4B,IAA5B;AACD;;;8BAMeyC,K,EAAexB,O,EAAqF;AAAA,cAApEyB,QAAoE,uEAApC,SAAoC;AAAA,cAAzBC,MAAyB,uEAAP,KAAO;;AAClH,eAAKC,MAAL,CAAYC,GAAZ,CAAgB;AAACH,oBAAQ,EAAEA,QAAX;AAAqBI,mBAAO,EAAEL,KAA9B;AAAqCM,kBAAM,EAAE9B,OAA7C;AAAsD+B,eAAG,EAAE,KAA3D;AAAkEL,kBAAM,EAAEA;AAA1E,WAAhB;AACD;;;4BA9Fc;AACb,iBAAO,IAAP;AACD;;;4BAsFsB;AACrB,iBAAO,KAAKpB,OAAL,CAAaD,GAAb,CAAiB2B,KAAjB,CAAuB,MAAvB,IAAiC,IAAjC,GAAwC,KAA/C;AACD;;;;MAhGgCxD,S;;AACf,8DAAjB,6DAAS,sDAAT,CAAiB,G,uBAAA,E,SAAA,E,MAAA;AACuB,8DAAxC,6DAAc,sEAAd,CAAwC,G,uBAAA,E,qBAAA,E,MAAA;AACf,8DAAzB,6DAAS,4DAAT,CAAyB,G,uBAAA,E,YAAA,E,MAAA;AACA,8DAAzB,6DAAS,0DAAT,CAAyB,G,uBAAA,E,QAAA,E,MAAA;;QAmGfyD,Y;;;;;AAEX,4BAAoBC,UAApB,EAAiD;AAAA;;AAAA;;AAC/C;AADkB,eAAAA,UAAA,GAAAA,UAAA;AADV,eAAAC,WAAA,GAAc,IAAI,0DAAJ,EAAd;AACuC;AAEhD;;;;mCAEkB;AACjB,wEAAQC,kBAAR;;AACA,wEAAQC,sBAAR,CAA+B;AAACC,qBAAS,EAAE,KAAKJ;AAAjB,WAA/B;;AACAnF,iBAAO,CAACiB,QAAR,GAAmB,6DAAnB;;AACA,eAAKW,oBAAL;;AACA,eAAKwD,WAAL,CAAiBI,IAAjB;AACD;;;;MAZ+BvF,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9JlC,QAAawF,WAAW;AAAA;;AAAA;;AAAxB;AAAA;;AAAA;;;AACkB,eAAAC,WAAA,GAAiC,EAAjC;AACA,eAAAzC,OAAA,GAAuB,IAAvB;AASN,eAAA0C,eAAA,GAA2B,KAA3B;AACA,eAAAC,QAAA,GAAoB,KAApB;AAZZ;AAyEC;;AAzEuB;AAAA;AAAA,kCAeF;AAClB,eAAKA,QAAL,GAAgB,KAAKC,GAAL,CAASC,WAAzB;AACD;AAjBqB;AAAA;AAAA,oCAmBMC,CAnBN,EAmBqBC,KAnBrB,EAmByE;AAAA,cAAxBC,OAAwB,uEAAL,KAAK;;;;;;;AAC7F,yBAAKN,eAAL,GAAuB,IAAvB;AACMO,4B,GAAW,KAAKjD,OAAL,aAAkB,KAAKA,OAAL,CAAakD,GAA/B,cAAsCJ,CAAC,CAACK,QAAxC,IAAqDL,CAAC,CAACK,Q;;AACzD,2BAAM,KAAKC,IAAL,CAAUC,kBAAV,CAA6B,KAAKC,OAAlC,EAA2CR,CAA3C,EAA8CG,QAA9C,EAAwDF,KAAxD,EAA+D,KAAK/C,OAApE,EAA6EgD,OAA7E,CAAN;;;AAATO,0B;AACN,yBAAKb,eAAL,GAAuB,KAAvB;sDACOa,M;;;;;;;;;AACR;AAzBqB;AAAA;AAAA,4CA2BcC,GA3Bd,EA2B+B;;;;;;;;AACpC,2BAAM,KAAKC,WAAL,CAAiBD,GAAjB,EAAsB,oEAAoBE,SAA1C,CAAN;;;AAATH,0B;;0BACFA,MAAM,IAAI,I;;;;;;;;AAGd,yBAAKxD,KAAL,CAAW,uBAAX,EAAoCwD,MAAM,CAACI,GAA3C;;;;;;;;;AACD;AAjCqB;AAAA;AAAA,wCAmCUb,CAnCV,EAmCyB;;;;;;;;AAC9B,2BAAM,KAAKW,WAAL,CAAiBX,CAAjB,EAAoB,oEAAoBY,SAAxC,EAAmD,IAAnD,CAAN;;;AAATH,0B;;0BACFA,MAAM,IAAI,I;;;;;;;;AAGd,yBAAKK,OAAL,CAAaC,aAAb,CAA2B;AACzBC,4BAAM,EAAE,KAAKF,OAAL,CAAaG,WADI;AAEzB1D,yBAAG,EAAE2D,kBAAkB,CAACT,MAAM,CAACI,GAAR,CAFE;AAGzBM,0BAAI,EAAEnB,CAAC,CAACoB;AAHiB,qBAA3B;;;;;;;;;AAKD;AA7CqB;AAAA;AAAA,0CA+CMpB,CA/CN,EA+CqB;AACzC,cAAMqB,GAAG,GAAG,KAAK1B,WAAL,CAAiB2B,SAAjB,CAA2B,UAAAC,EAAE;AAAA,mBAAIA,EAAE,CAACC,OAAH,CAAWC,IAAX,IAAmBzB,CAAC,CAACwB,OAAF,CAAUC,IAAjC;AAAA,WAA7B,CAAZ;;AACA,cAAIJ,GAAG,IAAI,CAAC,CAAZ,EAAe;AACb,iBAAK1B,WAAL,CAAiB+B,MAAjB,CAAwBL,GAAxB,EAA6B,CAA7B;AACD;AACF;AApDqB;AAAA;AAAA,uCAsDSX,GAtDT,EAsD0B;;;;;;;wBACzC,KAAKxD,O;;;;;;;;wBAILwD,GAAG,CAACc,OAAJ,CAAYG,Q;;;;;0BACT,oB;;;;AAEO,2BAAM,KAAKC,SAAL,CAAeC,SAAf,EAAN;;;AAATC,0B;;AACS,2BAAM,KAAKhC,GAAL,CAASiC,UAAT,CAAoB,KAAKC,SAAL,CAAeC,EAAf,CAAkB,SAAlB,CAApB,CAAN;;;AAATC,0B;;wBACDA,M;;;;;;;;AAGClC,qB,GAAI,KAAKmC,MAAL,CAAYC,WAAZ,CAAwB,KAAKlF,OAAL,CAAamF,SAArC,C;;AACM,2BAAM,KAAK/B,IAAL,CAAUgC,oBAAV,CAA+BtC,CAA/B,YAAqC8B,MAAM,CAACvE,GAA5C,cAAmDmD,GAAG,CAACc,OAAJ,CAAYG,QAA/D,EAAN;;;AAAVY,2B;AACAC,wB,aAAUN,M,cAAUxB,GAAG,CAACL,Q;;AAChB,2BAAM,KAAKP,GAAL,CAAS2C,MAAT,CAAgBD,IAAhB,EAAsBD,OAAtB,CAAN;;;AAARG,yB;AACN,yBAAKzF,KAAL,CAAW,4BAAX,EAAyCyF,KAAzC;;;;;;;;;AACD;AAxEqB;;AAAA;AAAA,MAAS,mDAAT,CAAxB;;AACW,8DAAR,6DAAQ,G,qBAAA,E,aAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,qBAAA,E,SAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,qBAAA,E,SAAA,E,MAAA;AAEM,8DAAd,6DAAS,iDAAT,CAAc,G,qBAAA,E,MAAA,E,MAAA;AACM,8DAApB,6DAAS,sEAAT,CAAoB,G,qBAAA,E,SAAA,E,MAAA;AACA,8DAApB,6DAAS,8DAAT,CAAoB,G,qBAAA,E,KAAA,E,MAAA;AACJ,8DAAhB,6DAAS,qDAAT,CAAgB,G,qBAAA,E,QAAA,E,MAAA;AACG,8DAAnB,6DAAS,2DAAT,CAAmB,G,qBAAA,E,WAAA,E,MAAA;AACA,8DAAnB,6DAAS,wDAAT,CAAmB,G,qBAAA,E,WAAA,E,MAAA;AAKpB,8DADC,4DAAQ,MAAR,CACD,G,qBAAA,E,SAAA,E,IAAA;AAfWhD,eAAW,6DALvB,gEAAU;AACTiD,cAAQ,EAAE,gBADD;AAETC,cAAQ,EAAR;AAAA;AAAA,sFAFS;;;;AAAA,KAAV,CAKuB,GAAXlD,WAAW,CAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRb,QAAamD,MAAM;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,MAAS,+CAAT,CAAnB;;AACW,8DAAR,6DAAQ,G,gBAAA,E,SAAA,E,MAAA;AADEA,UAAM,6DALlB,gEAAU;AACTF,cAAQ,EAAE,WADD;AAETC,cAAQ,EAAR;AAAA;AAAA,iFAFS;;;;AAAA,KAAV,CAKkB,GAANC,MAAM,CAAN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqBb,QAAaC,OAAO;AAAA;;AAAA;;AAApB;AAAA;;AAAA;;;AAKY,eAAAC,MAAA,GAA0C,IAAI,0DAAJ,EAA1C;AAaA,eAAAC,OAAA,GAAmB,KAAnB;AACA,eAAAC,SAAA,GAA8B,EAA9B;AACF,eAAAC,UAAA,GAA+B,IAAI,wDAAJ,EAA/B;AAIE,eAAAC,aAAA,GAAyB,KAAzB;AAGA,eAAAC,UAAA,GAAsB,KAAtB;AACA,eAAAC,OAAA,GAAmB,KAAnB;AACA,eAAAC,eAAA,GAA2B,KAA3B;AACA,eAAAC,QAAA,GAAoB,KAApB;AA9BZ;AA4MC;;AA5MmB;AAAA;AAAA,kCAiCE;AAAA;;AAClB,eAAKC,UAAL,GAAkB,KAAKrB,MAAL,CAAYsB,SAAZ,CAAsBC,IAAtB,CAChB,2DAAI,UAAAC,QAAQ;AAAA,mBAAI,CAAC,MAAI,CAACC,QAAN,IAAkBC,UAAU,CAAC;AAAA,qBAAM,MAAI,CAACD,QAAL,GAAgBD,QAAQ,CAAC,CAAD,CAA9B;AAAA,aAAD,CAAhC;AAAA,WAAZ,CADgB,EAEhB,2DAAI,UAAAA,QAAQ;AAAA,mBAAIA,QAAQ,CAACG,MAAT,CAAgB,UAAA9D,CAAC;AAAA,qBAAIA,CAAC,CAACqC,SAAF,IAAe,2DAAnB;AAAA,aAAjB,CAAJ;AAAA,WAAZ,CAFgB,CAAlB;AAIA,eAAK0B,OAAL,CAAa,KAAK5B,MAAL,CAAY6B,eAAZ,CAA4BN,IAA5B,CAAiC,4DAAK,CAAL,CAAjC,CAAb,EAAwD,UAAMlD,OAAN;AAAA,mBAAiB;AAAA;AAAA;AAAA;AAAA;AACvE,2BAAKoD,QAAL,GAAgB,KAAK1G,OAAL,GAAe,KAAKiF,MAAL,CAAYC,WAAZ,CAAwB,KAAKlF,OAAL,CAAamF,SAArC,CAAf,GAAiE7B,OAAjF;;AACA,0BAAI,KAAKoD,QAAL,CAAcvB,SAAd,IAA2B,2DAA/B,EAAoD;AAClD,6BAAKc,aAAL,GAAqB,IAArB;AACA,6BAAKS,QAAL,GAAgBK,SAAhB;AACD;;AALsE;AAMvE,6BAAM,IAAI7M,OAAJ,CAAY,UAAAC,OAAO;AAAA,+BAAIwM,UAAU,CAACxM,OAAD,CAAd;AAAA,uBAAnB,CAAN;;AANuE;AAOvE,2BAAK6M,SAAL;;AACA,2BAAKC,MAAL;;AACA,2BAAKC,gBAAL;;AATuE;AAU1D,6BAAM,KAAKxC,SAAL,CAAeyC,cAAf,EAAN;;AAV0D;AAUvE,2BAAKC,KAVkE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAjB;AAAA,WAAxD;AAYA,eAAKf,QAAL,GAAgB,KAAKzD,GAAL,CAASC,WAAzB;AACD;AAnDiB;AAAA;AAAA,oCAqDE;AAClB,cAAMwE,IAAI,GAAG,IAAI,+DAAJ,EAAb;AACAA,cAAI,CAACC,WAAL,GAAmB,KAAKA,WAAxB;AACAD,cAAI,CAACE,YAAL,GAAoB,KAAKb,QAAL,GAAgB,KAAKA,QAAL,CAAcc,KAA9B,GAAsC,EAA1D;AACA,eAAKC,MAAL,GAAcJ,IAAI,CAACK,OAAL,CAAa,KAAK1H,OAAlB,CAAd;;AACA,cAAI,KAAKyH,MAAL,CAAYE,EAAZ,IAAkB,CAAC,OAAD,EAAU,SAAV,EAAqBC,OAArB,CAA6B,KAAKN,WAAlC,KAAkD,CAAC,CAAzE,EAA4E;AAC1E,iBAAKG,MAAL,CAAYI,GAAZ,GAAkB,EAAlB;AACA,iBAAKJ,MAAL,CAAYE,EAAZ,GAAiB,EAAjB;AACD;;AACD,cAAInK,KAAK,CAACC,OAAN,CAAc,KAAKqK,EAAnB,KAA0B,KAAKA,EAAL,CAAQlH,MAAR,GAAiB,CAA/C,EAAkD;AAChD,gBAAMyG,KAAI,GAAG,IAAI,wDAAJ,EAAb;;AACA,iBAAKI,MAAL,CAAYM,EAAZ,GAAkB,KAAKD,EAAL,CAAkClN,GAAlC,CAAsC,UAAAsD,CAAC;AAAA,qBAAImJ,KAAI,CAACK,OAAL,CAAaxJ,CAAb,CAAJ;AAAA,aAAvC,CAAlB;AACD;AACF;AAlEiB;AAAA;AAAA,iCAoEK;;;;;;;;;wBAChB,KAAKwI,Q;;;;;;;;AAIV,yBAAKM,SAAL;;AACA,wBAAI,KAAKS,MAAL,CAAYE,EAAZ,CAAe/G,MAAf,GAAwB,CAA5B,EAA+B;AAC7B,2BAAKkF,OAAL,GAAe,IAAf;AACD;;yBACG,uDAAMkC,YAAN,CAAmB,KAAKP,MAAxB,C;;;;;;AACW,2BAAM,KAAKrE,IAAL,CAAU6E,qBAAV,CAAgC,KAAKvB,QAArC,EAA+C,KAAKe,MAApD,CAAN;;;AAAPS,wB;AACN,yBAAKT,MAAL,CAAYU,SAAZ,GAAwBD,IAAI,CAACE,SAA7B;;;;AAEF,2BAAM,KAAKhF,IAAL,CAAUiF,iBAAV,CAA4B,KAAK3B,QAAjC,EAA2C,KAAKe,MAAL,CAAYjF,WAAvD,CAAN;;;AACA,yBAAKuD,SAAL,GAAiB,KAAKuC,gBAAL,CAAsBC,QAAtB,CAA+B3N,GAA/B,CAAmC,UAAAsD,CAAC;AAAA,6BAAI,MAAI,CAAC8H,UAAL,CAAgB0B,OAAhB,CAAwBxJ,CAAxB,CAAJ;AAAA,qBAApC,CAAjB;;;;;;;;;AACD;AAnFiB;AAAA;AAAA,2CAqFS;AAAA;;AACzB,gEAAS,GAAT,EAAcsI,IAAd,CACE,iEAAU;AAAA,mBAAM,CAAC,OAAI,CAACgC,OAAZ;AAAA,WAAV,CADF,EAEE,gEAAS,YAAM;AACb,gBAAI,CAAC,OAAD,EAAU,WAAV,EAAuBZ,OAAvB,CAA+B,OAAI,CAACN,WAApC,KAAoD,CAAC,CAAzD,EAA4D;AAC1D,qBAAI,CAACkB,OAAL,CAAaC,KAAb;AACD;;AACD,mBAAI,CAACC,SAAL;AACD,WALD,CAFF,EAQEC,SARF;AASD;AA/FiB;AAAA;AAAA,oCAiGI;AAAA;;AACpB,eAAKC,iBAAL,GAAyB,KAAKJ,OAAL,CAAaK,WAAb,CAAyBrC,IAAzB,CACvB,oEAAa,IAAb,CADuB,EAEvBpG,SAFuB,CAEb;AAAA,mBAAM,OAAI,CAAC0I,KAAL,EAAN;AAAA,WAFa,CAAzB;AAGD;AArGiB;AAAA;AAAA,mCAwGG;AACnB,cAAI,KAAKF,iBAAT,EAA4B;AAC1B,iBAAKA,iBAAL,CAAuBjJ,WAAvB;AACD;AACF;AA5GiB;AAAA;AAAA,uCA8GOoJ,EA9GP,EA8G4B;AAAA;;AAC5C,eAAKhD,SAAL,GAAiB,KAAKuC,gBAAL,CAAsBC,QAAtB,CACd3B,MADc,CACP,UAAA1I,CAAC;AAAA,mBAAIA,CAAC,CAACsJ,KAAF,CAAQwB,WAAR,GAAsBpB,OAAtB,CAA8BmB,EAAE,CAACE,KAAH,CAASD,WAAT,EAA9B,KAAyD,CAAC,CAA9D;AAAA,WADM,EAEdpO,GAFc,CAEV,UAAAsD,CAAC;AAAA,mBAAI,OAAI,CAAC8H,UAAL,CAAgB0B,OAAhB,CAAwBxJ,CAAxB,CAAJ;AAAA,WAFS,CAAjB;;AAIA,eAAK6H,SAAL,CAAe7G,IAAf,CAAoB,qDAAa2B,QAAb,CAAsC;AAAC2G,iBAAK,EAAEuB,EAAE,CAACE,KAAX;AAAkBC,mBAAO,EAAEH,EAAE,CAACE;AAA9B,WAAtC,EAA4E,sDAA5E,CAApB;AACD;AApHiB;AAAA;AAAA,gCAsHM;;;;;;;0BAClB,KAAKxB,MAAL,CAAYM,EAAZ,CAAenH,MAAf,IAAyB,C;;;;;AAC3B,yBAAKb,KAAL,CAAW,cAAX,EAA2B,8CAA3B;;;;wBAGG,KAAKkF,MAAL,CAAYkE,QAAZ,CAAqB,KAAK1B,MAAL,CAAYM,EAAZ,CAAezI,MAAf,CAAsB,KAAKmI,MAAL,CAAYE,EAAlC,EAAsCrI,MAAtC,CAA6C,KAAKmI,MAAL,CAAYI,GAAzD,CAArB,C;;;;;AACH,yBAAK9H,KAAL,CAAW,iBAAX,EAA8B,6BAA9B;;;;AAGF,yBAAKqJ,QAAL;;AACA,yBAAKC,WAAL;AACMhC,wB,GAAO,IAAI,4DAAJ,E;AACPiC,yB,GAAQjC,IAAI,CAACK,OAAL,CAAa,KAAKD,MAAlB,C,EACd;;AACMlE,0B,GAAS,KAAKH,IAAL,CAAUmG,WAAV,CAAsB,KAAK7C,QAA3B,EAAqC4C,KAArC,C;AACf,yBAAKzJ,WAAL;;wBACK0D,M;;;;;AACH,yBAAKuF,KAAL;;AACA,yBAAK/I,KAAL,CAAW,sBAAX,EAAmC,EAAnC,EAAuC,OAAvC;;;;AAGF,yBAAK8F,MAAL,CAAYtD,IAAZ,CAAiB,MAAjB;;;;;;;;;AACD;AA5IiB;AAAA;AAAA,gCA8IM;;;;;;;AACtB,yBAAK4D,OAAL,GAAe,IAAf;;AACA,yBAAKiD,QAAL;;AACM/B,wB,GAAO,IAAI,4DAAJ,E;AACPiC,yB,GAAQjC,IAAI,CAACK,OAAL,CAAa,KAAKD,MAAlB,C;;AACC,2BAAM,KAAKrE,IAAL,CAAUoG,WAAV,CAAsB,KAAK9C,QAA3B,EAAqC4C,KAArC,CAAN;;;AAAT/F,0B;AACN,yBAAKkE,MAAL,CAAYgC,QAAZ,GAAuBlG,MAAM,CAACmG,MAA9B;;AACA,yBAAKhB,SAAL;;AACA,yBAAKvC,OAAL,GAAe,KAAf;;;;;;;;;AACD;AAvJiB;AAAA;AAAA,kCAyJMwD,QAzJN,EAyJ8C;;;;;;;;AAC1C,2BAAMzP,OAAO,CAACe,GAAR,CAAY0O,QAAZ,CAAN;;;AAAdlH,+B;;AACN,yBAAKgF,MAAL,CAAYjF,WAAZ,CAAwBtD,IAAxB,CAA6B0K,KAA7B,CAAmC,KAAKnC,MAAL,CAAYjF,WAA/C,EAA4DC,WAAW,CAAC7H,GAAZ,CAAgB,UAAAkI,CAAC;AAAA,6BAAIA,CAAC,CAAC+G,UAAN;AAAA,qBAAjB,CAA5D;;;;;;;;;AACD;AA5JiB;AAAA;AAAA,kCA8JQ;;;;;;;;AACV,2BAAM,KAAKC,YAAL,CAAkBxM,GAAlB,CAAsB,KAAKyM,KAAL,CAAWzN,aAAjC,CAAN;;;AAAR0N,yB;AACN,yBAAK9D,UAAL,GAAkB,IAAlB;AACM+D,qB,GAAkC,E;;AACxC,yBAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACpJ,MAA1B,EAAkCsJ,CAAC,EAAnC,EAAuC;AACrCD,uBAAC,CAAC/K,IAAF,CAAO,KAAKkE,IAAL,CAAU+G,gBAAV,CAA2B,KAAKzD,QAAhC,EAA0CsD,KAAK,CAACE,CAAD,CAA/C,CAAP;AACD;;;AACD,2BAAM,KAAKE,SAAL,CAAeH,CAAf,CAAN;;;AACA,yBAAK/D,UAAL,GAAkB,KAAlB;;;;;;;;;AACD;AAvKiB;AAAA;AAAA,uCAyKa;;;;;;;;;;AACf,2BAAM,KAAKtD,GAAL,CAASyH,QAAT,CAAkB,KAAKvF,SAAL,CAAeC,EAAf,CAAkB,SAAlB,CAAlB,CAAN;;;AAARiF,yB;AACN,yBAAK5D,eAAL,GAAuB,IAAvB;AACI6D,qB,GAAI,E;AACRD,yBAAK,CAACtM,OAAN,CAAc,UAAA4M,IAAI,EAAI;AACpBL,uBAAC,CAAC/K,IAAF,CAAO,OAAI,CAAC0D,GAAL,CAAS6B,QAAT,CAAkB6F,IAAlB,CAAP;AACD,qBAFD;;AAGiB,2BAAMpQ,OAAO,CAACe,GAAR,CAAYgP,CAAZ,CAAN;;;AAAXM,4B;AAENN,qBAAC,GAAG,EAAJ;AAEAD,yBAAK,CAACtM,OAAN,CAAc,UAAC4M,IAAD,EAAOnG,GAAP,EAAe;AAC3B,0BAAMqG,CAAC,GAAG,IAAI,kDAAJ,EAAV;AACA,0BAAMC,CAAC,GAAGC,MAAM,CAAC,iBAAD,CAAN,GAA4BA,MAAM,CAAC,iBAAD,CAAlC,GAAwDC,IAAlE;AACAH,uBAAC,CAACnF,OAAF,GAAY,IAAIoF,CAAJ,CAAM,CAACF,QAAQ,CAACpG,GAAD,CAAT,CAAN,EAAuBmG,IAAI,CAACrM,OAAL,CAAa,gBAAb,EAA+B,IAA/B,CAAvB,CAAZ;AACArC,6BAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B2O,CAA1B;AACAP,uBAAC,CAAC/K,IAAF,CAAO,OAAI,CAACkE,IAAL,CAAUwH,UAAV,CAAqB,OAAI,CAAClE,QAA1B,EAAoC8D,CAApC,CAAP;AACD,qBAND;;AAOA,2BAAM,KAAKJ,SAAL,CAAeH,CAAf,CAAN;;;AACA,yBAAK7D,eAAL,GAAuB,KAAvB;;;;;;;;;AACD;AA7LiB;AAAA;AAAA,8BA+LItD,CA/LJ,EA+LqB;;;;;;0BACjCtF,KAAK,CAACC,OAAN,CAAcqF,CAAC,CAAC+H,WAAhB,KAAgC/H,CAAC,CAAC+H,WAAF,CAAcjK,MAAd,GAAuB,C;;;;;;AACzD,2BAAM,IAAI1G,OAAJ,CAAY,UAAAC,OAAO;AAAA,6BAAIwM,UAAU,CAACxM,OAAD,CAAd;AAAA,qBAAnB,CAAN;;;AACA,wBAAI,CAAC2I,CAAC,CAAC2F,KAAP,EAAc;AACZ3F,uBAAC,CAACgI,UAAF,CAAahI,CAAC,CAAC+H,WAAF,CAAc,CAAd,CAAb,EAA+B,KAA/B;AACD;;;AAEH/H,qBAAC,CAAC+H,WAAF,GAAgB,EAAhB;;;;;;;;;AACD;AAvMiB;AAAA;AAAA,+BAyMD/H,CAzMC,EAyMgB;AAChCA,WAAC,CAAC+H,WAAF,GAAgB,EAAhB;AACD;AA3MiB;;AAAA;AAAA,MAAS,mDAAT,CAApB;;AACW,8DAAR,6DAAQ,G,iBAAA,E,SAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,iBAAA,E,IAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,iBAAA,E,aAAA,E,MAAA;AAEC,8DAAT,8DAAS,G,iBAAA,E,QAAA,E,MAAA;AAEU,8DAAnB,6DAAS,2DAAT,CAAmB,G,iBAAA,E,kBAAA,E,MAAA;AACA,8DAAnB,6DAAS,4DAAT,CAAmB,G,iBAAA,E,WAAA,E,MAAA;AACL,8DAAd,6DAAS,iDAAT,CAAc,G,iBAAA,E,MAAA,E,MAAA;AACE,8DAAhB,6DAAS,sDAAT,CAAgB,G,iBAAA,E,QAAA,E,MAAA;AACM,8DAAtB,6DAAS,0DAAT,CAAsB,G,iBAAA,E,cAAA,E,MAAA;AACF,8DAApB,6DAAS,+DAAT,CAAoB,G,iBAAA,E,KAAA,E,MAAA;AACD,8DAAnB,6DAAS,wDAAT,CAAmB,G,iBAAA,E,WAAA,E,MAAA;AAEgB,8DAAnC,gEAAU,MAAV,EAAkB;AAAC,gBAAQ;AAAT,KAAlB,CAAmC,G,iBAAA,E,OAAA,E,MAAA;AACE,8DAArC,gEAAU,QAAV,EAAoB;AAAC,gBAAQ;AAAT,KAApB,CAAqC,G,iBAAA,E,SAAA,E,MAAA;AAiBtC,8DADC,4DAAQ,MAAR,CACD,G,iBAAA,E,SAAA,E,IAAA;AAuEA,8DADC,4DAAQ,SAAR,CACD,G,iBAAA,E,UAAA,E,IAAA;AAxGWjF,WAAO,6DALnB,gEAAU;AACTH,cAAQ,EAAE,YADD;AAETC,cAAQ,EAAR;AAAA;AAAA,kFAFS;;;;AAAA,KAAV,CAKmB,GAAPE,OAAO,CAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBb,QAAamF,MAAM;AAAA;;AAAA;;AAAnB;AAAA;;AAAA;;;AAEmB,gBAAAlC,WAAA,GAAoC,IAAI,0DAAJ,EAApC;AAFnB;AAoBC;;AApBkB;AAAA;AAAA,kCAQG;AAClB,eAAKmC,KAAL,GAAa,KAAK1B,KAAlB;AACD;AAVgB;AAAA;AAAA,iCAYE;AACjB,eAAKA,KAAL,GAAa,KAAKd,OAAL,CAAalM,aAAb,CAA2B2O,SAAxC;AACA,eAAKpC,WAAL,CAAiBtG,IAAjB,CAAsB,KAAK+G,KAA3B;AACD;AAfgB;AAAA;AAAA,gCAiBF;AACb,eAAKd,OAAL,CAAalM,aAAb,CAA2BmM,KAA3B;AACD;AAnBgB;;AAAA;AAAA,MAAS,mDAAT,CAAnB;;AACW,8DAAR,6DAAQ,G,gBAAA,E,OAAA,E,MAAA;AACC,8DAAT,8DAAS,G,gBAAA,E,aAAA,E,MAAA;AAGW,8DAApB,gEAAU,QAAV,CAAoB,G,gBAAA,E,SAAA,E,MAAA;AAGrB,8DADC,4DAAQ,MAAR,CACD,G,gBAAA,E,SAAA,E,IAAA;AARWsC,UAAM,6DALlB,gEAAU;AACTtF,cAAQ,EAAE,WADD;AAETC,cAAQ,EAAR;AAAA;AAAA,iFAFS;;;;AAAA,KAAV,CAKkB,GAANqF,MAAM,CAAN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKb,QAAaG,WAAW;AAAA;;AAAA;;AAAxB;AAAA;;AAAA;;;AAmBY,gBAAAC,QAAA,GAAoB,IAApB;AACA,gBAAAC,SAAA,GAAoB,IAApB;AApBZ;AA+BC;;AA/BuB;AAAA;AAAA,gCAaE;;;;;;;;AACR,2BAAM,KAAKhI,IAAL,CAAUiI,YAAV,CAAuB,mDAAWC,KAAlC,EAAyC,KAAK5E,QAA9C,CAAN;;;AAAR6E,yB;;AACN,yBAAKtG,MAAL,CAAYuG,cAAZ,CAA2BjJ,IAA3B,CAAgCgJ,KAAhC;;;;;;;;;AACD;AAhBqB;AAAA;AAAA,gCAsBJvG,MAtBI,EAsBY;AAChC,cAAI,CAACA,MAAL,EAAa;AACX;AACD;;AAED,eAAKoG,SAAL,GAAiBpG,MAAjB;AACApJ,iBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBmJ,MAAzB;;AACA,eAAKC,MAAL,CAAYuG,cAAZ,CAA2BjJ,IAA3B,CAAgCyC,MAAhC;AACD;AA9BqB;AAAA;AAAA,0BAGMlC,CAHN,EAGkB;AAAA;;AACtC,eAAKqI,QAAL,GAAgB,IAAhB;;AACA,cAAI,CAACrI,CAAL,EAAQ;AACN;AACD;;AACD,eAAK4D,QAAL,GAAgB5D,CAAhB;;AACA,eAAK4D,QAAL,CAAc+E,QAAd,CAAuBjF,IAAvB,CAA4B,4DAAK,CAAL,CAA5B,EAAqCpG,SAArC,CAA+C;AAAA,mBAAM,OAAI,CAAC+K,QAAL,GAAgB,KAAtB;AAAA,WAA/C;;AACA,eAAKO,KAAL;AACD;AAXqB;;AAAA;AAAA,MAAS,mDAAT,CAAxB;;AACmB,8DAAhB,6DAAS,qDAAT,CAAgB,G,qBAAA,E,QAAA,E,MAAA;AACF,8DAAd,6DAAS,iDAAT,CAAc,G,qBAAA,E,MAAA,E,MAAA;AACN,8DAAR,6DAAQ,G,qBAAA,E,SAAA,E,IAAA;AAHER,eAAW,6DANvB,gEAAU;AACTzF,cAAQ,EAAE,iBADD;AAETC,cAAQ,EAAR;AAAA;AAAA,uFAFS;AAITiG,mBAAa,EAAE,gEAAkBC,IAJxB;;;;AAAA,KAAV,CAMuB,GAAXV,WAAW,CAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNb,QAAaW,OAAO;AAGlB,uBAAoBC,GAApB,EAA4C;AAAA;;AAAxB,aAAAA,GAAA,GAAAA,GAAA;AAA0B;;AAH5B;AAAA;AAAA,iCAMF;AAAA;;AACd,cAAI,CAAC,KAAK5P,MAAV,EAAkB;AAChB,iBAAKA,MAAL,GAAmBO,QAAQ,CAACC,IAA5B;AACD;;AACDiK,oBAAU,CAAC;AAAA,mBAAM,OAAI,CAACmF,GAAL,CAASC,aAAT,EAAN;AAAA,WAAD,CAAV;AACD;AAXiB;;AAAA;AAAA,OAApB;;;;cAG2B;;;;AAFhB,8DAAR,6DAAQ,G,iBAAA,E,QAAA,E,MAAA;AAKT,8DADC,4DAAQ,MAAR,CACD,G,iBAAA,E,QAAA,E,IAAA;AANWF,WAAO,6DAJnB,gEAAU;AACTpG,cAAQ,EAAE,YADD;AAETC,cAAQ,EAAR;AAAA;AAAA;AAFS,KAAV,CAImB,GAAPmG,OAAO,CAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWb,QAAaG,OAAO;AAAA;;AAAA;;AAApB;AAAA;;AAAA;;;AAqCmB,gBAAAnG,MAAA,GAAsC,IAAI,0DAAJ,EAAtC;AAGP,gBAAAoG,WAAA,GAAuB,KAAvB;AACA,gBAAAC,QAAA,GAAoB,KAApB;AACA,gBAAAC,cAAA,GAA0B,IAA1B;AAEA,gBAAAC,UAAA,GAAsB,KAAtB;AAIA,gBAAAC,SAAA,GAAoB,IAApB;AAGA,gBAAAC,QAAA,GAA4B,CACpC;AAACC,eAAK,EAAE,WAAR;AAAqBC,cAAI,EAAE,iBAA3B;AAA8CC,iBAAO,EAAE;AAAA,mBAAM,QAAKC,OAAL,CAAa,WAAb,CAAN;AAAA;AAAvD,SADoC,EAEpC;AAACH,eAAK,EAAE,SAAR;AAAmBC,cAAI,EAAE,aAAzB;AAAwCC,iBAAO,EAAE;AAAA,mBAAM,QAAKC,OAAL,CAAa,SAAb,CAAN;AAAA;AAAjD,SAFoC,EAGpC;AAACH,eAAK,EAAE,UAAR;AAAoBC,cAAI,EAAE,gBAA1B;AAA4CC,iBAAO,EAAE;AAAA,mBAAM,QAAKE,SAAL,EAAN;AAAA;AAArD,SAHoC,CAA5B;AAgFA,gBAAAxB,QAAA,GAAoB,IAApB;AAnIZ;AAiLC;;AAjLmB;AAAA;AAAA,uCAyDK;AACrB,eAAKyB,MAAL,GAAclC,MAAM,CAACmC,UAAP,GAAoB,EAAlC;AACA,eAAKR,SAAL,wBAA+B,KAAKO,MAApC;AACD;AA5DiB;AAAA;AAAA,qCA8DG;AAAA;;AACnB,cAAI,CAAC,KAAKE,KAAV,EAAiB;AACf;AACD;;AACD,cAAMC,GAAG,GAAgB,KAAKD,KAAL,CAAWxQ,aAAX,CAAyB0Q,aAAzB,CAAuC,GAAvC,CAAzB;;AACAD,aAAG,CAACE,YAAJ,CAAiB,OAAjB,EAA0B,EAA1B;AACAtG,oBAAU,CAAC;AAAA,mBAAMoG,GAAG,CAACE,YAAJ,CAAiB,OAAjB,EAA0B,uDAAMC,oBAAN,CAA2B,OAAI,CAACN,MAAhC,EAAwCG,GAAxC,CAA1B,CAAN;AAAA,WAAD,CAAV;AACD;AArEiB;AAAA;AAAA,kCAwEQ;;;;;;;;AACxBnR,2BAAO,CAACC,GAAR,CAAY,cAAZ;;AACe,2BAAM,KAAK6I,SAAL,CAAeC,SAAf,EAAN;;;AAAf,yBAAKwI,O;AACLvR,2BAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKsR,OAA9B;;AACA,yBAAKC,YAAL;;AACA1C,0BAAM,CAAC2C,QAAP,GAAkB;AAAA,6BAAM,OAAI,CAACC,KAAL,CAAWC,GAAX,CAAe,YAAM;AAC3C,+BAAI,CAACH,YAAL;;AACA,+BAAI,CAACI,UAAL;AACD,uBAHuB,CAAN;AAAA,qBAAlB;;;;;;;;;AAID;AAjFiB;AAAA;AAAA,sCAmFU;;;;;;;;;AACpBzR,sB,GAAkB,KAAK+Q,KAAL,CAAWxQ,a;AACnC,yBAAK0O,KAAL,GAAa,KAAKyC,QAAL,CAAcC,IAAd,IAAsB,KAAKD,QAAL,CAAcE,KAAjD;AACAhH,8BAAU,CAAC,YAAM;AACf,6BAAI,CAACsF,WAAL,GAAmBlQ,EAAE,CAACiR,aAAH,CAAiB,YAAjB,KAAkC,IAArD;AACA,6BAAI,CAACZ,UAAL,GAAkBrQ,EAAE,CAAC4E,gBAAH,CAAoB,eAApB,EAAqCC,MAArC,GAA8C,CAAhE;AACA,6BAAI,CAACuK,QAAL,GAAgB,KAAhB;AAEA3N,2BAAK,CAACoQ,IAAN,CAAW7R,EAAE,CAAC4E,gBAAH,CAAoB,GAApB,CAAX,EACGiG,MADH,CACU,UAAA7K,EAAE;AAAA,+BAAIA,EAAE,CAAC8R,IAAH,CAAQ7L,KAAR,CAAc,UAAd,CAAJ;AAAA,uBADZ,EAEGtE,OAFH,CAEW,UAAAoF,CAAC,EAAI;AACZ,4BAAMgL,KAAK,GAAGhL,CAAC,CAAC+K,IAAF,CAAO5P,OAAP,CAAe,gBAAf,EAAiC,IAAjC,CAAd;AACA6E,yBAAC,CAAC+K,IAAF,GAAS,cAAT;AACA/K,yBAAC,CAAC5G,MAAF,GAAW,OAAX;;AACA4G,yBAAC,CAACiL,OAAF,GAAY;AAAA,iCAAM,OAAI,CAACC,WAAL,CAAiB,qDAAanN,QAAb,CAAsB;AAAC2G,iCAAK,EAAEsG;AAAR,2BAAtB,EAAsC,+CAAtC,CAAjB,CAAN;AAAA,yBAAZ;AACD,uBAPH;;AASA,6BAAI,CAACN,UAAL;;AAEA,0BAAMhK,GAAG,GAAG,OAAI,CAACiK,QAAL,CAAcjL,WAA1B;;AAEA,0BAAI,CAACgB,GAAD,IAAQ,CAAChG,KAAK,CAACC,OAAN,CAAc+F,GAAG,CAACyK,UAAlB,CAAb,EAA4C;AAC1C;AACD;;AAED,0BAAMnL,CAAC,GAAG,OAAI,CAACmC,MAAL,CAAYC,WAAZ,CAAwB,OAAI,CAACgJ,UAA7B,CAAV;;AACA,0BAAMC,IAAI,GAAG,uDAAMC,WAAN,CAAkB,OAAI,CAACjB,OAAL,CAAakB,KAA/B,EAAsCvL,CAAC,CAAC0E,KAAxC,CAAb;;AACAhE,yBAAG,CAACyK,UAAJ,CACGrH,MADH,CACU,UAAA9D,CAAC;AAAA,+BAAIA,CAAC,CAACwL,GAAN;AAAA,uBADX,EAEG1T,GAFH,CAEO,UAAAkI,CAAC;AAAA,+BAA4C;AAACA,2BAAC,EAAEA,CAAJ;AAAOyL,6BAAG,EAAExS,EAAE,CAACiR,aAAH,8BAAsClK,CAAC,CAACwL,GAAxC;AAAZ,yBAA5C;AAAA,uBAFR,EAGG1H,MAHH,CAGU,UAAA7I,GAAG;AAAA,+BAAI,CAAC,CAACA,GAAG,CAAC+E,CAAN,IAAW,CAAC,CAAC/E,GAAG,CAACwQ,GAArB;AAAA,uBAHb,EAIG7Q,OAJH,CAIW,UAAAK,GAAG,EAAI;AACdA,2BAAG,CAACwQ,GAAJ,CAAQC,GAAR,aAAiB,OAAI,CAACrB,OAAL,CAAa9M,GAA9B,cAAqCtC,GAAG,CAAC+E,CAAJ,CAAMwB,OAAN,CAAcC,IAAnD;;AACAxG,2BAAG,CAACwQ,GAAJ,CAAQE,OAAR,GAAkB,YAAM;AACtBC,+BAAK,WACA,OAAI,CAACvB,OAAL,CAAa9M,GADb,cACoBtC,GAAG,CAAC+E,CAAJ,CAAMwB,OAAN,CAAcC,IADlC,GAEH;AAACoK,mCAAO,EAAE;AAACC,2CAAa,mBAAYT,IAAI,CAACU,KAAjB;AAAd;AAAV,2BAFG,CAAL,CAIGzU,IAJH,CAIQ,UAAAmU,GAAG;AAAA,mCAAIA,GAAG,CAACO,IAAJ,EAAJ;AAAA,2BAJX,EAKG1U,IALH,CAKQ,UAAA2U,CAAC;AAAA,mCAAIhR,GAAG,CAACwQ,GAAJ,CAAQC,GAAR,GAAc9D,MAAM,CAACsE,GAAP,CAAWC,eAAX,CAA2BF,CAA3B,CAAlB;AAAA,2BALT;AAMD,yBAPD;AAQD,uBAdH;;AAgBA,6BAAI,CAAClP,WAAL;AACD,qBAzCS,CAAV;;;;;;;;;AA0CD;AAhIiB;AAAA;AAAA,6CAqIa;AAC7B,eAAKoM,WAAL,GAAmB,KAAnB;AACD;AAvIiB;AAAA;AAAA,oCAyII/N,CAzIJ,EAyIgB;AAChC,cAAM6K,EAAE,GAAG,qDAAalI,QAAb,CAAqC;AAACqO,mBAAO,EAAEhR,CAAV;AAAa+F,gBAAI,EAAE;AAAnB,WAArC,EAAgE,qDAAhE,CAAX;;AACA,eAAK4B,MAAL,CAAYtD,IAAZ,CAAiBwG,EAAjB;AACD;AA5IiB;AAAA;AAAA,gCA8IA9E,IA9IA,EA8ImB;AACnC,cAAM8E,EAAE,GAAG,qDAAalI,QAAb,CAAqC;AAACb,mBAAO,EAAE,KAAKyN,QAAf;AAAyBxJ,gBAAI,EAAEA;AAA/B,WAArC,EAA2E,qDAA3E,CAAX;;AACA,eAAK4B,MAAL,CAAYtD,IAAZ,CAAiBwG,EAAjB;AACD;AAjJiB;AAAA;AAAA,oCAmJU;;;;;;;wBACrB,KAAK0E,Q;;;;;;;;;AAGK,2BAAM,KAAKrK,IAAL,CAAU+L,WAAV,CACnB,KAAKzI,QADc,YACD,KAAKyG,OAAL,CAAa9M,GADZ,cACmB,KAAKoN,QAAL,CAAc2B,gBADjC,aAEhB,KAAK3B,QAAL,CAAcvK,GAFE,WAES,oEAAoBQ,SAF7B,EAEwC,KAAK+J,QAF7C,CAAN;;;AAATlK,0B;;0BAIFA,MAAM,IAAI,I;;;;;;;;AAId,yBAAKxD,KAAL,CAAW,oBAAX,EAAiCwD,MAAM,CAACI,GAAxC;;;;;;;;;AACD;AAhKiB;AAAA;AAAA,gCAkKM;;;;;;0BAClB,CAAC,KAAK8J,QAAN,IAAkB,CAAC,KAAK/G,Q;;;;;;;;AAI5B,yBAAK+G,QAAL,CAAc4B,SAAd,GAA0B,CAAC,KAAK5B,QAAL,CAAc4B,SAAzC;;AACA,2BAAM,KAAKjM,IAAL,CAAUkM,IAAV,CAAe,KAAK5I,QAApB,EAA8B,KAAK+G,QAAL,CAAc8B,MAA5C,EAAoD,CAAC,KAAK9B,QAAN,CAApD,EAAqE,KAAKA,QAAL,CAAc4B,SAAnF,CAAN;;;AACA,yBAAKG,gBAAL,CAAsBH,SAAtB,GAAkC,KAAK5B,QAAL,CAAc4B,SAAhD;;;;;;;;;AACD;AA1KiB;AAAA;AAAA,sCA4KM;AACrB,eAAKvC,KAAL,CAAWxQ,aAAX,CAAyCqE,gBAAzC,CAA0D,eAA1D,EAA2EjD,OAA3E,CAAmF,UAAA+R,CAAC;AAAA,mBAAIA,CAAC,CAACxC,YAAF,CAAe,KAAf,EAAsBwC,CAAC,CAACC,YAAF,CAAe,YAAf,CAAtB,CAAJ;AAAA,WAApF;;AACD,eAAKlC,UAAL;;AACA,eAAKpB,UAAL,GAAkB,KAAlB;AACD;AAhLiB;AAAA;AAAA,0BAMUuD,CANV,EAMoB;AAAA;;AACpC,eAAKlC,QAAL,GAAgBkC,CAAhB;AACA,eAAKH,gBAAL,GAAwBG,CAAxB;AACA,eAAK3E,KAAL,GAAa,EAAb;;AACA,cAAI,CAAC2E,CAAL,EAAQ;AACN;AACD;;AACD,cAAI,KAAK7C,KAAT,EAAgB;AACd,iBAAKA,KAAL,CAAWxQ,aAAX,CAAyB2O,SAAzB,GAAqC,EAArC;AACD;;AACD,eAAKE,QAAL,GAAgB,IAAhB;AACA,eAAKgB,cAAL,GAAsB,IAAtB;AACA,eAAKF,WAAL,GAAmB,KAAnB;AACA,eAAKG,UAAL,GAAkB,KAAlB,CAboC,CAcpC;;AACA,eAAK8B,UAAL,GAAkByB,CAAC,CAACxK,SAApB;AACA,eAAK0B,OAAL,CAAa,KAAK5B,MAAL,CAAYuG,cAAzB,EAAyC,UAAAhB,CAAC;AAAA,mBAAI,OAAI,CAAC0B,QAAL,GAAgB1B,CAAC,CAACoF,IAAF,IAAU,mDAAWC,MAAzC;AAAA,WAA1C;;AACA,eAAK5K,MAAL,CAAY6B,eAAZ,CAA4BN,IAA5B,CACE,4DAAK,CAAL,CADF,EAEE,2DAAI,UAAAlD,OAAO;AAAA,mBAAI,OAAI,CAACoD,QAAL,GAAgBpD,OAApB;AAAA,WAAX,CAFF,EAGE,iEAAU;AAAA,mBAAM,kDAAK,OAAI,CAACF,IAAL,CAAU0M,cAAV,CAAyB,OAAI,CAACpJ,QAA9B,EAAwCiJ,CAAxC,CAAL,CAAN;AAAA,WAAV,CAHF,EAIE,4DAAK,CAAL,CAJF,EAKEvP,SALF,CAKY,UAAA1D,IAAI,EAAI;AAClB,mBAAI,CAAC+Q,QAAL,GAAgB/Q,IAAhB;;AACA,mBAAI,CAACqT,WAAL;;AACA,gBAAI,CAACJ,CAAC,CAACK,MAAP,EAAe;AACb,qBAAI,CAAC5M,IAAL,CAAU6M,QAAV,CAAmB,OAAI,CAACvJ,QAAxB,EAAkCiJ,CAAC,CAACJ,MAApC,EAA4C,CAACI,CAAD,CAA5C,EAAiD,IAAjD;AACD;AACF,WAXD;AAYD;AAnCiB;;AAAA;AAAA,MAAS,mDAAT,CAApB;;AACiB,8DAAd,6DAAS,iDAAT,CAAc,G,iBAAA,E,MAAA,E,MAAA;AACE,8DAAhB,6DAAS,qDAAT,CAAgB,G,iBAAA,E,QAAA,E,MAAA;AACG,8DAAnB,6DAAS,4DAAT,CAAmB,G,iBAAA,E,WAAA,E,MAAA;AACF,8DAAjB,6DAAS,oDAAT,CAAiB,G,iBAAA,E,OAAA,E,MAAA;AACyB,8DAA1C,gEAAU,aAAV,EAAyB;AAAC,gBAAQ;AAAT,KAAzB,CAA0C,G,iBAAA,E,OAAA,E,MAAA;AAClC,8DAAR,6DAAQ,G,iBAAA,E,SAAA,E,IAAA;AA+BC,8DAAT,8DAAS,G,iBAAA,E,QAAA,E,MAAA;AAmCV,8DADC,4DAAQ,MAAR,CACD,G,iBAAA,E,SAAA,E,IAAA;AAxEW3D,WAAO,6DANnB,gEAAU;AACTvG,cAAQ,EAAE,YADD;AAETC,cAAQ,EAAR;AAAA;AAAA,kFAFS;AAITiG,mBAAa,EAAE,gEAAkBC,IAJxB;;;;AAAA,KAAV,CAMmB,GAAPI,OAAO,CAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJb,QAAMkE,OAAO,GAAG,OAAhB;;AAQA,QAAaC,YAAY;AAAA;;AAAA;;AAmCvB,8BAAc;AAAA;;AAAA;;AACZ;AAjCc,gBAAAC,aAAA,GAAyB,KAAzB;AAEC,gBAAAvK,MAAA,GAAgC,IAAI,0DAAJ,EAAhC;AACA,gBAAAwK,gBAAA,GAAiD,IAAI,0DAAJ,EAAjD;AAcP,gBAAAlF,QAAA,GAAoB,IAApB;AACA,gBAAAmF,SAAA,GAAoB,CAApB;AACA,gBAAAC,aAAA,GAAwB,CAAxB;AACA,gBAAAC,OAAA,GAAuB,IAAI,mDAAJ,EAAvB;AAEA,gBAAAC,SAAA,GAA4B,EAA5B;AACA,gBAAAC,iBAAA,GAAoC,EAApC;AACA,gBAAAC,WAAA,GAAuB,KAAvB;AACA,gBAAA1K,aAAA,GAAyB,KAAzB;AACA,gBAAA2K,MAAA,GAAiB,IAAjB;AACF,gBAAAC,cAAA,GAA0B,IAA1B;AAEA,gBAAAC,cAAA,GAA0B,KAA1B;AAGM;AAEb;;AArCsB;AAAA;AAAA,gCAwCC9L,MAxCD,EAwCkB;;;;;;;;;AACvC,yBAAK6B,OAAL,CAAa,KAAKzD,IAAL,CAAU2N,MAAV,CAAiBvK,IAAjB,CAAsB,4DAAK,CAAL,CAAtB,CAAb,EAA6C,YAAM;AACjD,6BAAI,CAACsK,cAAL,GAAsB,KAAtB;;AACA,6BAAI,CAACE,WAAL;AACD,qBAHD;;AAIiB,2BAAM,KAAKtM,SAAL,CAAeuM,WAAf,EAAN;;;AAAjB,yBAAKX,S;;wBACA,KAAKhN,O;;;;;;;;AAGV,yBAAK2C,aAAL,GAAqB,KAAK3C,OAAL,CAAa6B,SAAb,IAA0B,2DAA/C;AACM4J,qB,GAAI,KAAKzL,OAAL,CAAa6B,SAAb,IAA0B,2DAA1B,GAAgD,mDAAWmG,KAA3D,GAAmE4E,O;;AAC9D,2BAAM,KAAKjL,MAAL,CAAYiM,WAAZ,CAAwB,KAAK5N,OAA7B,EAAsC0B,MAAM,IAAI+J,CAAC,CAACxQ,QAAF,EAAhD,EAA8DoK,SAA9D,EAAN;;;AAAf,yBAAKwI,O;AACL,yBAAKV,SAAL,GAAiB,EAAjB;;AACA,yBAAKW,MAAL;;AACA,yBAAKC,kBAAL;;;;;;;;;AACD;AAvDsB;AAAA;AAAA,gCA0DLzR,OA1DK,EA0DmB;AACxC,cAAI,CAAC,KAAK0D,OAAV,EAAmB;AACjB,iBAAKmN,SAAL,GAAiB,EAAjB;AACA;AACD;;AAED,cAAI7Q,OAAO,CAAC,QAAD,CAAP,IAAqBA,OAAO,CAAC,QAAD,CAAP,CAAkB0R,aAAvC,IAAwD,uDAAMC,WAAN,CAAkB3R,OAAO,CAAC,QAAD,CAAP,CAAkB0R,aAApC,EAAmD1R,OAAO,CAAC,QAAD,CAAP,CAAkB4R,YAArE,CAA5D,EAAgJ;AAC9I,iBAAKC,OAAL,CAAa,KAAKzM,MAAlB;;AACA;AACD;;AAED,cAAIpF,OAAO,CAAC,SAAD,CAAX,EAAwB;AACtB,iBAAK6R,OAAL;AACD;AACF;AAxEsB;AAAA;AAAA,yCA0EEC,QA1EF,EA0E4B;AACjD,cAAI,CAACA,QAAD,IAAa,CAAClU,KAAK,CAACC,OAAN,CAAciU,QAAd,CAAlB,EAA2C;AACzC;AACD;;AAED,cAAM9W,GAAG,GAAG8W,QAAQ,CAAC9W,GAAT,CAAa,UAAA+U,CAAC;AAAA,mBAAIA,CAAC,CAACzM,GAAN;AAAA,WAAd,CAAZ;AAEA,eAAKwN,iBAAL,GAAyB,KAAKA,iBAAL,CAAuB9J,MAAvB,CAA8B,UAAA+I,CAAC;AAAA,mBAAI/U,GAAG,CAACgN,OAAJ,CAAY+H,CAAC,CAACzM,GAAd,KAAsB,CAAC,CAA3B;AAAA,WAA/B,CAAzB;AACA,eAAKyO,MAAL,CAAYC,SAAZ,GAAwB,KAAKD,MAAL,CAAYC,SAAZ,CAAsBhL,MAAtB,CAA6B,UAAC+I,CAAD;AAAA,mBAAgB/U,GAAG,CAACgN,OAAJ,CAAY+H,CAAC,CAACzM,GAAd,KAAsB,CAAC,CAAvC;AAAA,WAA7B,CAAxB;AACA,eAAKmN,gBAAL,CAAsB9N,IAAtB,CAA2B,KAAKoP,MAAL,CAAYC,SAAvC;AACD;AApFsB;AAAA;AAAA,6CAsFY;;;;;;;;;yBAC7B,KAAKd,c;;;;;;;;AAGT,yBAAKA,cAAL,GAAsB,IAAtB;;AACU,2BAAM,KAAKe,MAAL,CAAYC,eAAZ,EAAN;;;AAAJtH,qB;AACN,yBAAKuH,SAAL,GAAiB,KAAK9M,MAAL,CAAY6B,eAAZ,CAA4BN,IAA5B,CACf,2DAAI,UAAAlD,OAAO,EAAI;AACb,0BAAMC,MAAM,GAAG,uDAAMyO,UAAN,CAAiB1O,OAAO,CAAC2O,YAAzB,EAAuCzH,CAAvC,CAAf;;AACA,6BAAI,CAACgG,OAAL,CAAaxL,MAAb,GAAsBzB,MAAM,GAAGA,MAAM,CAAC2O,EAAV,GAAe,IAA3C;AACD,qBAHD,CADe,EAKf,8DAAO,UAAA5O,OAAO;AAAA,6BAAI,CAAC,CAACA,OAAN;AAAA,qBAAd,CALe,CAAjB;AAOM6O,8B,GAAa,mDAAM,KAAK/O,IAAL,CAAUgP,gBAAhB,EAAkC,KAAKhP,IAAL,CAAUiP,cAA5C,EAA4D,KAAKpN,MAAL,CAAYqN,QAAxE,C;AACnB,yBAAKzL,OAAL,CACEsL,UAAU,CAAC3L,IAAX,CACE,2DAAI,UAAAkL,QAAQ;AAAA,6BAAI,OAAI,CAACa,gBAAL,CAAsBb,QAAtB,CAAJ;AAAA,qBAAZ,CADF,CADF,EAIE;AAAA,6BAAM,OAAI,CAACc,aAAL,CAAkC;AAACC,6BAAK,EAAE,OAAI,CAACd,MAAL,CAAYc;AAApB,uBAAlC,CAAN;AAAA,qBAJF;;AAMA,yBAAKC,WAAL,CAAiBC,SAAjB,CAA2B,KAAKC,eAAL,CAAqBjV,IAArB,CAA0B,IAA1B,CAA3B;;;AACsB,2BAAM,KAAKkU,MAAL,CAAYC,eAAZ,EAAN;;;AAAtB,yBAAKtB,OAAL,CAAaxL,M;AACbpJ,2BAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAK2U,OAA9B;;;;;;;;;AACD;AA7GsB;AAAA;AAAA,wCA+GF;AACnB,iBAAO,KAAKK,cAAL,IAAuB,KAAKM,OAA5B,IAAuC,KAAKA,OAAL,CAAavB,IAAb,IAAqB,mDAAWtE,KAAvE,IAAgF,uDAAMuH,WAAN,CAAkB,KAAKrC,OAAvB,CAAvF;AACD;AAjHsB;AAAA;AAAA,0CAmHS;;;;;;;;;;AAC9B5U,2BAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,IAAIiX,IAAJ,EAA5C;;wBACK,KAAKC,aAAL,E;;;;;AACHnX,2BAAO,CAACC,GAAR,CAAY,8BAAZ;;;;;AAGkB,2BAAM,mDAAG,KAAKuH,IAAL,CAAU4P,WAAV,CAAsB,KAAK1P,OAA3B,EAAoC,KAAK6N,OAAL,CAAae,EAAjD,EAAqD,CAArD,EAAwD,CAAxD,CAAH,CAAN;;;;;AAAbvW,uB;AAAKsX,wB;;yBACRtX,G;;;;;0BACIA,G;;;AAGRC,2BAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBoX,IAAI,CAACrS,MAA5B,EAAoC,IAAIkS,IAAJ,EAApC;;0BACI,CAAC,KAAKC,aAAL,EAAD,IAAyBE,IAAI,CAACrS,MAAL,IAAe,C;;;;;;;;AAI5C,wBAAIqS,IAAI,CAACrM,MAAL,CAAY,UAAA+I,CAAC;AAAA,6BAAIA,CAAC,CAACuD,cAAF,GAAmB,OAAI,CAACrC,cAAL,CAAoBqC,cAA3C;AAAA,qBAAb,EAAwEtS,MAAxE,GAAiF,CAArF,EAAwF;AACtF,2BAAKuS,eAAL;AACD;;;;;;;;;AACF;AAtIsB;AAAA;AAAA,0CAwIS;;;;;;;wBACzB,KAAKhC,O;;;;;;;;AAGVvV,2BAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,IAAIiX,IAAJ,EAA5C;AACMM,+B,GAAc,KAAKjC,OAAL,CAAavB,I;;AAChB,2BAAM,KAAKyD,MAAL,CAAY,KAAK1B,MAAL,CAAYc,KAAxB,EAA+B,IAA/B,CAAN;;;AAAjB,yBAAKhC,S;AACL7U,2BAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC,KAAK4U,SAAL,CAAe7P,MAA/C;AACMgR,6B,GAAa,CAAC,KAAKD,MAAL,CAAYC,SAAZ,IAAyB,EAA1B,EAAiDhX,GAAjD,CAAqD,UAAA8E,CAAC;AAAA,6BAAIA,CAAC,CAACwD,GAAN;AAAA,qBAAtD,C;;AACnB,wBAAI,KAAKiO,OAAL,CAAavB,IAAb,IAAqB,mDAAWtE,KAAhC,IAAyC8H,WAAW,IAAI,mDAAW9H,KAAvE,EAA8E;AAC5E,2BAAKrG,MAAL,CAAYqO,iBAAZ,CAA8B,KAAKzC,cAAnC,EAAmD,KAAKJ,SAAxD;AACD;;AACD,yBAAK8C,iBAAL;;AACA,yBAAK5B,MAAL,CAAYC,SAAZ,GAAwB,KAAKnB,SAAL,CAAe7J,MAAf,CAAsB,UAAA+I,CAAC;AAAA,6BAAIiC,SAAS,CAAChK,OAAV,CAAkB+H,CAAC,CAACzM,GAApB,KAA4B,CAAC,CAAjC;AAAA,qBAAvB,CAAxB;AACA,yBAAKmN,gBAAL,CAAsB9N,IAAtB,CAA2B,KAAKoP,MAAL,CAAYC,SAAvC;;;;;;;;;AACD;AAvJsB;AAAA;AAAA,4CAyJK;AAC1B,cAAI,KAAKD,MAAL,CAAYc,KAAZ,IAAqB,CAArB,IAA0B,CAAC,KAAKtB,OAAN,IAAiB,KAAKA,OAAL,CAAavB,IAAb,IAAqB,mDAAWtE,KAA3E,IAAoF,CAAC9N,KAAK,CAACC,OAAN,CAAc,KAAKgT,SAAnB,CAArF,IAAsH,KAAKA,SAAL,CAAe7P,MAAf,IAAyB,CAAnJ,EAAsJ;AACpJ;AACD;;AAED,eAAKiQ,cAAL,GAAsB,KAAKJ,SAAL,CAAe,CAAf,CAAtB;AACD;AA/JsB;AAAA;AAAA,+BAiKFgC,KAjKE,EAiKkC;AAAA,cAArBe,IAAqB,uEAAL,KAAK;;;;;;;;4CAC3B,uDAAMC,YAAN,CAAmB,KAAKjD,OAAL,CAAakD,MAAhC,C,qEAArBC,G,8BAAKF,Y;AACN9Y,sB,GAAK8Y,YAAY,IAAI,KAAKtC,OAAL,CAAae,E;;AACpB,2BAAM,mDAAG,KAAK9O,IAAL,CAAU4P,WAAV,CAAsB,KAAK1P,OAA3B,EAAoC3I,EAApC,EAAwC8X,KAAxC,EAA+C,KAAKnC,SAApD,EAA+DqD,GAA/D,EAAoE,EAApE,EAAwEH,IAAxE,CAAH,CAAN;;;;;AAAf7X,uB;AAAK4H,0B;;yBACN5H,G;;;;;AACF,yBAAKoE,KAAL,CAAW,0CAAX,EAAuDpE,GAAG,CAACqE,OAA3D,EAAoE,OAApE;uDACO,E;;;AAET,wBAAI,OAAO,KAAKwQ,OAAL,CAAaxL,MAApB,IAA+B,WAA/B,IAA8C,KAAKwL,OAAL,CAAaxL,MAAb,IAAuB,IAAzE,EAA+E;AAC7E,2BAAK6M,MAAL,CAAY+B,eAAZ,CAA4B,KAAKpD,OAAL,CAAaxL,MAAzC;AACD;;0BACG,KAAKmM,OAAL,CAAae,EAAb,IAAmBvX,EAAnB,IAAyB,CAAC8Y,Y;;;;;uDACrB,KAAKhD,SAAL,CAAe7P,MAAf,GAAwB,CAAxB,IAA6B,KAAKqE,MAAL,CAAY4O,uBAAZ,CAAoC,KAAKpD,SAAL,CAAe,CAAf,CAApC,EAAuD,KAAKU,OAA5D,CAA7B,GAAoG,KAAKV,SAAzG,GAAqH,E;;;0BAE1H,KAAKnN,OAAL,CAAa6B,SAAb,IAA0B,2D;;;;;uDACrB5B,M;;;AAGT,wBAAIkP,KAAK,IAAI,CAAb,EAAgB;AACd,2BAAK/B,iBAAL,GAAyB,EAAzB;AACD;;AAEKoD,wB,GAAOvQ,MAAM,CAAC3I,GAAP,CAAW,UAAAmZ,CAAC;AAAA,6BAAIA,CAAC,CAAC7Q,GAAN;AAAA,qBAAZ,C;AACb,yBAAKwN,iBAAL,GAAyB,KAAKA,iBAAL,CAAuB9J,MAAvB,CAA8B,UAAA+I,CAAC;AAAA,6BAAImE,IAAI,CAAClM,OAAL,CAAa+H,CAAC,CAACzM,GAAf,KAAuB,CAAC,CAA5B;AAAA,qBAA/B,EAA8D5D,MAA9D,CAAqEiE,MAArE,CAAzB;;AACA,yBAAKmN,iBAAL,CAAuBsD,IAAvB,CAA4B,UAAClR,CAAD,EAAImR,CAAJ;AAAA,6BAAUA,CAAC,CAACf,cAAF,GAAmBpQ,CAAC,CAACoQ,cAA/B;AAAA,qBAA5B;;uDACO,KAAKxC,iBAAL,CAAuBxV,KAAvB,CAA6BuX,KAA7B,EAAoCA,KAAK,GAAG,KAAKnC,SAAjD,C;;;;;;;;;AACR;AA3LsB;AAAA;AAAA,iCA6LN;AACf,eAAKI,iBAAL,GAAyB,EAAzB;;AACA,eAAKiB,MAAL,CAAYuC,KAAZ;;AACA,eAAK7D,gBAAL,CAAsB9N,IAAtB,CAA2B,EAA3B;AACA,eAAKoP,MAAL,CAAYC,SAAZ,GAAwB,EAAxB;AACD;AAlMsB;AAAA;AAAA,sCAoMO7I,EApMP,EAoM0B;;;;;;AAC/C,yBAAKoC,QAAL,GAAgB,IAAhB;;0BACI,KAAK7H,OAAL,IAAgB,IAAhB,IAAwB,KAAK6N,OAAL,IAAgB,I;;;;;;;;;AAG3B,2BAAM,KAAKkC,MAAL,CAAYtK,EAAE,CAAC0J,KAAf,CAAN;;;AAAjB,yBAAKhC,S;;AACL,yBAAK8C,iBAAL;;AACA,yBAAKhD,aAAL,GAAqB,KAAKnN,IAAL,CAAU+Q,iBAA/B;AACA,yBAAKhJ,QAAL,GAAgB,KAAhB;;AACA,yBAAKlG,MAAL,CAAYmP,UAAZ,CAAuB7R,IAAvB;;;;;;;;;AACD;AA9MsB;AAAA;AAAA,+BAgNNwG,EAhNM,EAgNa;AAClC,cAAIA,EAAE,CAACsL,OAAH,IAAc,EAAlB,EAAsB;AACpB;AACD;;AACD,eAAKjD,MAAL;AACD;AArNsB;AAAA;AAAA,qCAuNA;AACrB,eAAKT,WAAL,GAAmB,KAAnB;AACA,cAAMtJ,IAAI,GAAG,IAAI,uDAAJ,EAAb;AACA,eAAKmJ,OAAL,CAAakD,MAAb,GAAsBrM,IAAI,CAACK,OAAL,CAAa,KAAK8I,OAAlB,CAAtB;;AACA,eAAKY,MAAL;AACD;AA5NsB;AAAA;AAAA,uCA8NQ;;;;;;AAC7B,yBAAKZ,OAAL,GAAe,IAAI,mDAAJ,EAAf;;AACA,yBAAKY,MAAL;;;AACsB,2BAAM,KAAKS,MAAL,CAAYC,eAAZ,EAAN;;;AAAtB,yBAAKtB,OAAL,CAAaxL,M;;;;;;;;;AACd;AAlOsB;AAAA;AAAA,gCAoOLsP,GApOK,EAoOS;AAC9B,eAAKzO,MAAL,CAAYtD,IAAZ,CAAiB+R,GAAjB;AACA,eAAKlJ,SAAL,GAAiBkJ,GAAjB;AACD;AAvOsB;AAAA;AAAA,4CAyOO;AAC5B,eAAKjE,gBAAL,CAAsB9N,IAAtB,CAA2B,KAAKoP,MAAL,CAAYC,SAAvC;AACD;AA3OsB;AAAA;AAAA,mCA6OL;AAChB,eAAKD,MAAL,CAAYC,SAAZ,GAAwB,EAAxB;;AACA,eAAKD,MAAL,CAAY4C,UAAZ;;AACA,eAAKnJ,SAAL,GAAiB,IAAjB;;AACA,eAAKoJ,iBAAL;AACD;AAlPsB;AAAA;AAAA,0CAoPK;AAAA;;AAC1B,eAAK7D,WAAL,GAAmB,IAAnB;AACAhK,oBAAU,CAAC;AAAA,mBAAM,OAAI,CAAC8N,IAAL,CAAUnY,aAAV,CAAwBmM,KAAxB,EAAN;AAAA,WAAD,EAAwC,GAAxC,CAAV;AACD;AAvPsB;AAAA;AAAA,gCAyPLM,EAzPK,EAyPc;AACnC,cAAIA,EAAE,CAACsL,OAAH,IAAc,EAAlB,EAAsB;AACpB;AACD;;AACD,eAAKK,UAAL;AACD;AA9PsB;AAAA;AAAA,4BAQR;AACb,iBAAO,KAAKjE,SAAZ;AACD;AAVsB;;AAAA;AAAA,MAAS,mDAAT,CAAzB;;AACW,8DAAR,6DAAQ,G,sBAAA,E,SAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,sBAAA,E,QAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,sBAAA,E,eAAA,E,MAAA;AAEC,8DAAT,8DAAS,G,sBAAA,E,QAAA,E,MAAA;AACA,8DAAT,8DAAS,G,sBAAA,E,kBAAA,E,MAAA;AAMU,8DAAnB,6DAAS,4DAAT,CAAmB,G,sBAAA,E,WAAA,E,MAAA;AACH,8DAAhB,6DAAS,sDAAT,CAAgB,G,sBAAA,E,QAAA,E,MAAA;AACA,8DAAhB,6DAAS,qDAAT,CAAgB,G,sBAAA,E,QAAA,E,MAAA;AACF,8DAAd,6DAAS,iDAAT,CAAc,G,sBAAA,E,MAAA,E,MAAA;AACO,8DAArB,6DAAS,+DAAT,CAAqB,G,sBAAA,E,aAAA,E,MAAA;AACc,8DAAnC,gEAAU,OAAV,EAAmB;AAAC,gBAAQ;AAAT,KAAnB,CAAmC,G,sBAAA,E,QAAA,E,MAAA;AACD,8DAAlC,gEAAU,KAAV,EAAiB;AAAC,gBAAQ;AAAT,KAAjB,CAAkC,G,sBAAA,E,MAAA,E,MAAA;AAsBnC,8DADC,4DAAQ,MAAR,CACD,G,sBAAA,E,SAAA,E,IAAA;AAkBA,8DADC,4DAAQ,QAAR,CACD,G,sBAAA,E,SAAA,E,IAAA;AA1DWN,gBAAY,6DANxB,gEAAU;AACT1K,cAAQ,EAAE,kBADD;AAETC,cAAQ,EAAR;AAAA;AAAA,wFAFS;AAITiG,mBAAa,EAAE,gEAAkBC,IAJxB;;;;AAAA,KAAV,CAMwB,GAAZuE,YAAY,CAAZ;;;;;;;;;;;;;;;;ACZb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAO,QAAMwE,UAAU,GAAmC,IAAIpX,GAAJ,EAAnD;AACA,QAAMqX,eAAe,GAAmC,IAAIrX,GAAJ,EAAxD;AAEA,QAAMsX,QAAQ,GAA2C,IAAItX,GAAJ,EAAzD;;AAIP,aAASuX,UAAT,CAAoB7X,SAApB,EAAuC8X,GAAvC,EAAsG;AACpG,aAAO,UAASC,IAAT,EAAoBC,QAApB,EAAsC;AAC3C,YAAI,CAACJ,QAAQ,CAACvX,GAAT,CAAa0X,IAAI,CAAClX,WAAlB,CAAL,EAAqC;AACnC+W,kBAAQ,CAAC5V,GAAT,CAAa+V,IAAI,CAAClX,WAAlB,EAA+B,IAAIP,GAAJ,EAA/B;AACD;;AACD,YAAMoS,CAAC,GAAGkF,QAAQ,CAACvX,GAAT,CAAa0X,IAAI,CAAClX,WAAlB,CAAV;;AAEA,YAAI,OAAO6R,CAAC,CAACrS,GAAF,CAAML,SAAN,CAAP,IAA4B,WAAhC,EAA6C;AAC3C0S,WAAC,CAAC1Q,GAAF,CAAMhC,SAAN,EAAiB,EAAjB;AACD;;AAED0S,SAAC,CAACrS,GAAF,CAAML,SAAN,EAAiBiC,IAAjB,CAAsB;AAACgW,cAAI,EAAED,QAAP;AAAiBF,aAAG,EAAEA;AAAtB,SAAtB;AACD,OAXD;AAYD;;AAEM,aAASI,QAAT,CAAkBlR,IAAlB,EAA4C;AACjD,aAAO6Q,UAAU,CAAC,eAAD,EAAkB7Q,IAAlB,CAAjB;AACD;;AAEM,aAASmR,OAAT,CAAiBjW,KAAjB,EAAmC;AACxC,aAAO2V,UAAU,CAAC,YAAD,EAAe3V,KAAf,CAAjB;AACD;;AAEM,aAASkW,WAAT,CAAuCpR,IAAvC,EAAoE;AACzE,aAAO6Q,UAAU,CAAC,mBAAD,EAAsB7Q,IAAtB,CAAjB;AACD;;AAEM,aAASqR,aAAT,CAAuBN,IAAvB,EAAqC;AAC1C,UAAI,CAACH,QAAQ,CAACvX,GAAT,CAAa0X,IAAb,CAAL,EAAyB;AACvB,eAAO,EAAP;AACD;;AAED,aAAOH,QAAQ,CAACvX,GAAT,CAAa0X,IAAb,EAAmB1X,GAAnB,CAAuB,mBAAvB,CAAP;AACD;;AAED,aAASiY,gBAAT,CAA0BC,KAA1B,EAAiER,IAAjE,EAA4EC,QAA5E,EAA8F7X,IAA9F,EAA6G;AAC3G,UAAI,OAAOoY,KAAK,CAAClY,GAAN,CAAU0X,IAAI,CAAClX,WAAf,CAAP,IAAuC,WAA3C,EAAwD;AACtD0X,aAAK,CAACvW,GAAN,CAAU+V,IAAI,CAAClX,WAAf,EAA4B,EAA5B;AACD;;AACD0X,WAAK,CAAClY,GAAN,CAAU0X,IAAI,CAAClX,WAAf,EAA4BoB,IAA5B,CAAiC;AAAC9B,YAAI,EAAEA,IAAP;AAAaoC,cAAM,EAAEyV;AAArB,OAAjC;AACD;;AAEM,aAASQ,MAAT,CAAgBrY,IAAhB,EAAsD;AAAA,UAAvBsY,IAAuB,uEAAP,KAAO;AAC3D,aAAO,UAASV,IAAT,EAAoBC,QAApB,EAAsC;AAC3CM,wBAAgB,CAACG,IAAI,GAAGd,eAAH,GAAqBD,UAA1B,EAAsCK,IAAtC,EAA4CC,QAA5C,EAAsD7X,IAAtD,CAAhB;AACD,OAFD;AAGD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3DM,QAAMuY,mBAAmB,GAAG,IAA5B;AAEP,QAAYC,QAAZ;;AAAA,eAAYA,QAAZ,EAAoB;AAAE;AAAW;AAAU;AAAU,KAArD,EAAYA,QAAQ,KAARA,QAAQ,MAApB;;AAAqD;AACrD,QAAYC,UAAZ;;AAAA,eAAYA,UAAZ,EAAsB;AAAE;AAAW;AAAU;AAAY;AAAU;AAAW;AAAW,KAAzF,EAAYA,UAAU,KAAVA,UAAU,MAAtB;;AAAyF;;QAY5EC,Y;;;;;;;mCACe/X,G,EAAc;AACtC,cAAI,OAAOA,GAAP,IAAe,SAAnB,EAA8B;AAC5B,mBAAOA,GAAP;AACD;;AAED,cAAI,OAAOA,GAAP,IAAe,QAAnB,EAA6B;AAC3B,mBAAOA,GAAP;AACD;;AAED,cAAI,OAAOA,GAAP,IAAe,QAAnB,EAA6B;AAC3B,mBAAOA,GAAP;AACD;AACF;;;gCAEyBgY,I,EAAc9R,I,EAAa;AACnD,cAAMV,MAAM,GAAG,IAAIU,IAAJ,EAAf;AACA7I,gBAAM,CAACZ,IAAP,CAAYub,IAAZ,EAAkBnb,GAAlB,CAAsB,UAAAob,CAAC;AAAA,mBAAIA,CAAC,CAAC/X,OAAF,CAAU,KAAV,EAAiB,EAAjB,CAAJ;AAAA,WAAvB,EAAiDP,OAAjD,CAAyD,UAAAsY,CAAC,EAAI;AAC5D,gBAAMjH,CAAC,GAAG,kEAAc9K,IAAd,EAAoBgS,IAApB,CAAyB,UAAAlH,CAAC;AAAA,qBAAIA,CAAC,CAACmG,IAAF,IAAUc,CAAd;AAAA,aAA1B,CAAV;AACA,gBAAME,KAAK,GAAG,OAAOH,IAAI,CAAC,MAAMC,CAAP,CAAX,IAAyB,WAAzB,GAAuCD,IAAI,CAACC,CAAD,CAA3C,GAAiDD,IAAI,CAAC,MAAMC,CAAP,CAAnE;;AACA,gBAAI,CAACjH,CAAD,IAAM,OAAOmH,KAAP,IAAiBnP,SAAvB,IAAoCmP,KAAK,IAAI,IAAjD,EAAuD;AACrD3S,oBAAM,CAACyS,CAAD,CAAN,GAAYE,KAAZ;AACA;AACD;;AACD,gBAAInH,CAAC,CAACgG,GAAF,IAAS,MAAb,EAAqB;AACnBxR,oBAAM,CAACyS,CAAD,CAAN,GAAY,IAAIlD,IAAJ,CAASiD,IAAI,CAACC,CAAD,CAAb,CAAZ;AACA;AACD;;AACD,gBAAI,OAAOjH,CAAC,CAACgG,GAAT,IAAiB,UAAjB,IAA+B,CAAC,CAAChG,CAAC,CAACgG,GAAF,CAAM/Y,SAAN,CAAgB,SAAhB,CAArC,EAAiE;AAC/D,kBAAMma,SAAS,GAAmB,IAAIpH,CAAC,CAACgG,GAAN,EAAlC;AACAxR,oBAAM,CAACyS,CAAD,CAAN,GAAYG,SAAS,CAACzO,OAAV,CAAkBwO,KAAlB,CAAZ;AACA;AACD;;AACD3S,kBAAM,CAACyS,CAAD,CAAN,GAAYF,YAAY,CAACjV,QAAb,CAAsBqV,KAAtB,EAA6BnH,CAAC,CAACgG,GAA/B,CAAZ;AACD,WAjBD;AAkBA,iBAAOxR,MAAP;AACD;;;iCACyBwS,I,EAA0B9R,I,EAAc;AAChE,cAAI,OAAO8R,IAAP,IAAgBhP,SAAhB,IAA6BgP,IAAI,IAAI,IAAzC,EAA+C;AAC7C,mBAAO,IAAP;AACD;;AAED,cAAI,OAAO9R,IAAP,IAAgB,WAApB,EAAiC;AAC/B,gBAAI,OAAO8R,IAAP,IAAgB,QAAhB,IAA4B,CAACvY,KAAK,CAACC,OAAN,CAAcsY,IAAd,CAAjC,EAAsD;AACpD,oBAAMzb,KAAK,CAAC,cAAD,CAAX;AACD;;AAED,gBAAIkD,KAAK,CAACC,OAAN,CAAcsY,IAAd,CAAJ,EAAyB;AACvB,qBAAOA,IAAI,CAACnb,GAAL,CAAS,UAAAG,CAAC;AAAA,uBAAI+a,YAAY,CAACM,UAAb,CAAwBrb,CAAxB,CAAJ;AAAA,eAAV,CAAP;AACD;;AAED,mBAAO+a,YAAY,CAACM,UAAb,CAAwBL,IAAxB,CAAP;AACD;;AAED,cAAIvY,KAAK,CAACC,OAAN,CAAcsY,IAAd,CAAJ,EAAyB;AACvB,mBAAOA,IAAI,CAACnb,GAAL,CAAS,UAAAyb,CAAC;AAAA,qBAAIP,YAAY,CAACQ,OAAb,CAAqBD,CAArB,EAAwBpS,IAAxB,CAAJ;AAAA,aAAV,CAAP;AACD;;AACD,iBAAO6R,YAAY,CAACQ,OAAb,CAAqBP,IAArB,EAA2B9R,IAA3B,CAAP;AACD;;;;;;AAGI,aAAe6D,EAAf,CAAqByO,OAArB,EAAwC;;;;;;;;;AAE9B,uBAAMA,OAAN;;;AAAPC,oB;mDACC,CAAC,IAAD,EAAOA,IAAP,C;;;;;mDAGA,gBAAM,IAAN,C;;;;;;;;;AAEV;;QAEYC,W;;;;QAMAC,a;;;;QAKAC,Y;;;;QAQAC,M;;;;QAiBAC,c;;;;QAIAtH,M;;;;AAMX,8DADC,gEAAYA,MAAZ,CACD,G,gBAAA,E,YAAA,E,MAAA;;QAKWuH,O;;;;QAKAC,Q;;;;AAGX,8DADC,gEAAYD,OAAZ,CACD,G,kBAAA,E,YAAA,E,MAAA;;QAGW9K,O;;;;AAYX,8DADC,gEAAY+K,QAAZ,CACD,G,iBAAA,E,MAAA,E,MAAA;AAEA,8DADC,gEAAYA,QAAZ,CACD,G,iBAAA,E,IAAA,E,MAAA;AAEA,8DADC,gEAAYA,QAAZ,CACD,G,iBAAA,E,IAAA,E,MAAA;AAEA,8DADC,gEAAYA,QAAZ,CACD,G,iBAAA,E,KAAA,E,MAAA;AAEA,8DADC,gEAAYA,QAAZ,CACD,G,iBAAA,E,SAAA,E,MAAA;;QAkBWC,Q;;;;AAGX,8DADC,gEAAYhL,OAAZ,CACD,G,kBAAA,E,YAAA,E,MAAA;;QAgBWiL,M;;;;QAKPC,e;;;;;;;gCACW1I,G,EAAW;AACxB,cAAMjL,MAAM,GAAG,IAAI0T,MAAJ,EAAf;;AACA,cAAIzI,GAAG,CAAC,MAAD,CAAP,EAAiB;AACfjL,kBAAM,CAACgB,IAAP,GAAciK,GAAG,CAAC,MAAD,CAAH,CAAYnO,GAA1B;AACD;;AAED,cAAImO,GAAG,CAAC,UAAD,CAAP,EAAqB;AACnBjL,kBAAM,CAACkB,QAAP,GAAkB+J,GAAG,CAAC,UAAD,CAAH,CAAgBnO,GAAlC;AACD;;AAED,iBAAOkD,MAAP;AACD;;;;;;QAGU4T,e;;;;;;;6BACE5T,M,EAAgBxB,G,EAAamU,K,EAAa;AACrD,cAAI,CAACA,KAAL,EAAY;AACV,mBAAO3S,MAAP;AACD;;AACD,iBAAOA,MAAM,IAAIA,MAAM,IAAI,EAAV,GAAe,EAAf,GAAoB,GAAxB,CAAN,aAAwCxB,GAAxC,gBAAgDmU,KAAhD,OAAP;AACD;;;8BAEanH,C,EAAO;AACnB,cAAI,CAACA,CAAL,EAAQ;AACN,mBAAO,EAAP;AACD;;AAED,iBAAO,uCAAU,CAACA,CAAD,EAAI,YAAJ,CAAjB;AACD;;;gCACcP,G,EAAgB;AAC7B,cAAIjL,MAAM,GAAG,EAAb;AACAA,gBAAM,GAAG,KAAK6T,IAAL,CAAU7T,MAAV,EAAkB,MAAlB,EAA0BiL,GAAG,CAACZ,IAA9B,CAAT;AACArK,gBAAM,GAAG,KAAK6T,IAAL,CAAU7T,MAAV,EAAkB,IAAlB,EAAwBiL,GAAG,CAAC1G,EAA5B,CAAT;AACAvE,gBAAM,GAAG,KAAK6T,IAAL,CAAU7T,MAAV,EAAkB,SAAlB,EAA6BiL,GAAG,CAAC6I,OAAjC,CAAT;AACA9T,gBAAM,GAAG,KAAK6T,IAAL,CAAU7T,MAAV,EAAkB,MAAlB,EAA0BiL,GAAG,CAAC8I,IAA9B,CAAT;;AACA,cAAI9I,GAAG,CAAC/L,WAAR,EAAqB;AACnBc,kBAAM,GAAG,KAAK6T,IAAL,CAAU7T,MAAV,EAAkB,KAAlB,EAAyB,aAAzB,CAAT;AACD;;AACD,cAAIiL,GAAG,CAAC+I,KAAJ,IAAa/I,GAAG,CAACgJ,IAArB,EAA2B;AACzBjU,kBAAM,GAAG,KAAK6T,IAAL,CAAU7T,MAAV,EAAkB,MAAlB,YAA6B,KAAKkU,KAAL,CAAWjJ,GAAG,CAAC+I,KAAf,CAA7B,cAAsD,KAAKE,KAAL,CAAWjJ,GAAG,CAACgJ,IAAf,CAAtD,EAAT;AACD;;AACD,cAAI,CAACjU,MAAD,IAAWiL,GAAG,CAACvT,GAAnB,EAAwB;AACtBsI,kBAAM,GAAGiL,GAAG,CAACvT,GAAb;AACD;;AACDsI,gBAAM,GAAG,KAAK6T,IAAL,CAAU7T,MAAV,EAAkB,QAAlB,EAA4BiL,GAAG,CAACxJ,MAAhC,CAAT;AACA,iBAAOzB,MAAP;AACD;;;;;;QAGUmU,gB;;;;;;;sCACW3D,C,EAAW4D,e,EAAgC;AAC/D,cAAMC,KAAK,GAAG7D,CAAC,CAAC8D,KAAF,CAAQ,GAAR,CAAd;AACA,cAAMza,IAAI,GAAGwa,KAAK,CAACA,KAAK,CAAChX,MAAN,GAAe,CAAhB,CAAlB;AACA,cAAM4J,CAAC,GAAG,IAAI+E,MAAJ,EAAV;AACA/E,WAAC,CAAC0H,EAAF,GAAO6B,CAAP;AACAvJ,WAAC,CAACsN,KAAF,GAAU,CAAV;AACAtN,WAAC,CAACuN,MAAF,GAAW,CAAX;AACAvN,WAAC,CAACwN,IAAF,GAAS5a,IAAT;AACAoN,WAAC,CAACyN,UAAF,GAAe,EAAf;;AAEA,cAAIL,KAAK,CAAChX,MAAN,IAAgB,CAApB,EAAuB;AACrB+W,2BAAe,CAACzY,IAAhB,CAAqBsL,CAArB;AACA;AACD;;AACD,cAAM0N,UAAU,GAAGN,KAAK,CAACA,KAAK,CAAChX,MAAN,GAAe,CAAhB,CAAxB;AACA,cAAMuX,MAAM,GAAGR,eAAe,CAAC1B,IAAhB,CAAqB,UAAAhM,CAAC;AAAA,mBAAIA,CAAC,CAAC+N,IAAF,IAAUE,UAAd;AAAA,WAAtB,CAAf;;AACA,cAAI,CAACC,MAAL,EAAa;AACX;AACD;;AAEDA,gBAAM,CAACF,UAAP,CAAkB/Y,IAAlB,CAAuBsL,CAAvB;AACD;;;gCACcgE,G,EAAW;AAAA;;AACxB,cAAI,CAACA,GAAL,EAAU;AACR,mBAAO,EAAP;AACD;;AAED,cAAI4J,GAAJ;;AACA,cAAI;AACFxc,mBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB2S,GAAvB;AACA4J,eAAG,GAAGC,IAAI,CAACC,KAAL,CAAW9J,GAAX,CAAN;AACD,WAHD,CAIA,WAAM;AACJ4J,eAAG,GAAG,EAAN;AACD;;AAEDA,aAAG,CAACpE,IAAJ,CAAS,UAAClR,CAAD,EAAImR,CAAJ;AAAA,mBAAUnR,CAAC,CAAC+U,KAAF,CAAQ,GAAR,EAAajX,MAAb,GAAsBqT,CAAC,CAAC4D,KAAF,CAAQ,GAAR,EAAajX,MAA7C;AAAA,WAAT;AACA,cAAM2X,MAAM,GAAGH,GAAG,CAACA,GAAG,CAACxX,MAAJ,GAAa,CAAd,CAAH,CAAoBiX,KAApB,CAA0B,GAA1B,EAA+BjX,MAA9C;AAEA,cAAM2C,MAAM,GAAkB,EAA9B;AAEA,cAAMiV,IAAI,GAA+B,IAAIjb,GAAJ,EAAzC;;AAnBwB,qCAqBfkb,KArBe;AAsBtB,gBAAMC,KAAK,GAAGN,GAAG,CAACxR,MAAJ,CAAW,UAAAmN,CAAC;AAAA,qBAAIA,CAAC,CAAC8D,KAAF,CAAQ,GAAR,EAAajX,MAAb,IAAuB6X,KAA3B;AAAA,aAAZ,CAAd;;AACA,gBAAIA,KAAK,IAAI,CAAb,EAAgB;AACdC,mBAAK,CAAChb,OAAN,CAAc,UAAAwM,CAAC;AAAA,uBAAI,OAAI,CAACyO,aAAL,CAAmBzO,CAAnB,EAAsB3G,MAAtB,CAAJ;AAAA,eAAf;AACAiV,kBAAI,CAACvZ,GAAL,CAASwZ,KAAT,EAAgBlV,MAAhB;AACA;AACD;;AAEDmV,iBAAK,CAAChb,OAAN,CAAc,UAAAwM,CAAC;AAAA,qBAAI,OAAI,CAACyO,aAAL,CAAmBzO,CAAnB,EAAsBsO,IAAI,CAAClb,GAAL,CAASmb,KAAK,GAAG,CAAjB,CAAtB,CAAJ;AAAA,aAAf;AACAD,gBAAI,CAACvZ,GAAL,CAASwZ,KAAT,EAAgBD,IAAI,CAAClb,GAAL,CAASmb,KAAK,GAAG,CAAjB,EAAoB7d,GAApB,CAAwB,UAAAmZ,CAAC;AAAA,qBAAIA,CAAC,CAACkE,UAAN;AAAA,aAAzB,EAA2CW,MAA3C,CAAkD,UAACC,GAAD,EAAMva,CAAN;AAAA,qBAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,aAAlD,EAA6E,EAA7E,CAAhB;AA9BsB;;AAqBxB,eAAK,IAAIma,KAAK,GAAG,CAAjB,EAAoBA,KAAK,IAAIF,MAA7B,EAAqCE,KAAK,EAA1C,EAA8C;AAAA,6BAArCA,KAAqC;;AAAA,qCAK1C;AAKH;;AAED,iBAAOlV,MAAP;AACD;;;;;;QAGUsG,U;;;;AAeX,8DADC,gEAAYqN,eAAZ,CACD,G,oBAAA,E,SAAA,E,MAAA;;QAGW1U,W;;;;AAGX,8DADC,gEAAYqH,UAAZ,CACD,G,qBAAA,E,YAAA,E,MAAA;;QAGWiP,W;;;;;;;;;;;;MAAoB9M,O;;AAI/B,8DADC,gEAAY+K,QAAZ,CACD,G,qBAAA,E,MAAA,E,MAAA;AAEA,8DADC,gEAAYA,QAAZ,CACD,G,qBAAA,E,IAAA,E,MAAA;AAEA,8DADC,gEAAYA,QAAZ,CACD,G,qBAAA,E,IAAA,E,MAAA;AAEA,8DADC,gEAAYA,QAAZ,CACD,G,qBAAA,E,KAAA,E,MAAA;AAEA,8DADC,gEAAYA,QAAZ,CACD,G,qBAAA,E,SAAA,E,MAAA;AAgBA,8DADC,gEAAYvU,WAAZ,CACD,G,qBAAA,E,aAAA,E,MAAA;;QAGWuW,O,GAAb;AAAA;;AAYE,WAAAtN,QAAA,GAAyC,IAAI,kDAAJ,EAAzC;AACA,WAAAuN,QAAA,GAAoB,KAApB;AACD,K;;AAPC,8DADC,gEAAYpC,MAAZ,CACD,G,iBAAA,E,QAAA,E,MAAA;AAIA,8DADC,gEAAYc,gBAAZ,CACD,G,iBAAA,E,cAAA,E,MAAA;;QAKWuB,iB;;;;QAIAC,W;;;;QAgBAC,a;;;;QAMAC,c;;;;;;;;;;;;MAAuBtC,O;;QAIvBuC,c,GAAb;AAAA;;AAYE,WAAAC,SAAA,GAAoC,EAApC;AACD,K;;QAEYC,gB;;;;;;;gCACI/K,G,EAAY;AACzB,cAAMjL,MAAM,GAAGuS,YAAY,CAACjV,QAAb,CAAsB2N,GAAtB,EAA2B4K,cAA3B,CAAf;AACA7V,gBAAM,CAAC2F,OAAP,GAAiB3F,MAAM,CAACiW,WAAP,IAAsBjW,MAAM,CAACiE,KAA9C;AAEA,iBAAOjE,MAAP;AACD;;;;;;QAGUkW,oB;;;;;;;gCACIC,G,EAAgB;AAC7B,cAAM3K,CAAC,GAAG,IAAI+D,IAAJ,CAAS4G,GAAG,CAACxG,cAAJ,GAAqB,IAA9B,CAAV;AACA,cAAMhV,CAAC,GAAGwb,GAAG,CAACC,IAAJ,CAAS1L,UAAT,CAAoB,CAApB,CAAV;AACA,8CAGC,uCAAU,CAACc,CAAD,EAAI,wBAAJ,CAHX,eAG6C7Q,CAAC,CAACsb,WAAF,IAAiBtb,CAAC,CAACsJ,KAHhE,kCAIUkS,GAAG,CAAChM,IAAJ,IAAYgM,GAAG,CAAC/L,KAJ1B;AAMD;;;;;;QAGUiM,oB;;;;;;;oCACSrR,Q,EAA6B;AAC/C,cAAI,CAACA,QAAD,IAAa,CAAC/K,KAAK,CAACC,OAAN,CAAc8K,QAAQ,CAAC0F,UAAvB,CAAlB,EAAsD;AACpD,mBAAO,EAAP;AACD;;AACD,iBAAO1F,QAAQ,CAAC0F,UAAT,CAAoBrT,GAApB,CAAwB,UAAAsD,CAAC;AAAA,mBAAIA,CAAC,CAACsb,WAAF,aAAmBtb,CAAC,CAACsb,WAArB,kBAAwCtb,CAAC,CAACsJ,KAA1C,YAAwDtJ,CAAC,CAACsJ,KAA9D;AAAA,WAAzB,EAA8FqS,IAA9F,CAAmG,IAAnG,CAAP;AACD;;;gCACcH,G,EAAgB;AAC7B,cAAM3K,CAAC,GAAG,IAAI+D,IAAJ,CAAS4G,GAAG,CAACxG,cAAJ,GAAqB,IAA9B,CAAV;;AACA,cAAM4G,EAAE,GAAG,KAAKC,WAAL,CAAiBL,GAAG,CAAC/R,EAArB,CAAX;;AACA,2EAGI,KAAKoS,WAAL,CAAiBL,GAAG,CAACC,IAArB,CAHJ,wBAIE,KAAKI,WAAL,CAAiBL,GAAG,CAAC3R,EAArB,CAJF,oBAKF+R,EAAE,GAAG,SAASA,EAAT,GAAc,OAAjB,GAA2B,EAL3B,qBAMI,uCAAU,CAAC/K,CAAD,EAAI,yBAAJ,CANd,6BAOO2K,GAAG,CAACM,OAPX,2BASFN,GAAG,CAAChM,IAAJ,IAAYgM,GAAG,CAAC/L,KATd;AAWD;;;;;;QAGUsM,uB;AAAb;AAAA;;AACS,aAAA3S,WAAA,GAA2B,KAA3B;AACA,aAAAC,YAAA,GAAuB,IAAvB;AACC,aAAA2S,KAAA,GAA0B,IAAIX,gBAAJ,EAA1B;AAkET;;;;2CAjE4Brb,C,EAAsB;AAAA;;AAC/C,cAAI,CAACA,CAAD,IAAM,CAACV,KAAK,CAACC,OAAN,CAAcS,CAAC,CAAC+P,UAAhB,CAAX,EAAwC;AACtC,mBAAO,EAAP;AACD;;AAED,iBAAO/P,CAAC,CAAC+P,UAAF,CAAarT,GAAb,CAAiB,UAAAsD,CAAC;AAAA,mBAAI,OAAI,CAACgc,KAAL,CAAWxS,OAAX,CAAmBxJ,CAAnB,CAAJ;AAAA,WAAlB,CAAP;AACD;;;gCACcsQ,G,EAAgB;AAAA;;AAC7B,cAAMjL,MAAM,GAAG,IAAI8V,cAAJ,EAAf;;AACA,cAAI,CAAC7K,GAAL,EAAU;AACRjL,kBAAM,CAAC4W,IAAP,GAAc,EAAd;AACA5W,kBAAM,CAACyW,OAAP,GAAiB,EAAjB;AACAzW,kBAAM,CAACf,WAAP,GAAqB,EAArB;AACAe,kBAAM,CAACsE,GAAP,GAAa,EAAb;AACAtE,kBAAM,CAACoE,EAAP,GAAY,EAAZ;AACApE,kBAAM,CAACwE,EAAP,GAAY,EAAZ;AACAxE,kBAAM,CAAC6W,OAAP,GAAiB,EAAjB;AACA7W,kBAAM,CAAC+V,SAAP,GAAmB,EAAnB;AACD,WATD,MAUK;AACH/V,kBAAM,CAAC4W,IAAP,GAAc3L,GAAG,CAACd,IAAJ,IAAYc,GAAG,CAACb,KAA9B;AACApK,kBAAM,CAACyW,OAAP,GAAiBxL,GAAG,CAACwL,OAArB;AACAzW,kBAAM,CAACf,WAAP,GAAqBgM,GAAG,CAAChM,WAAJ,GAAkBgM,GAAG,CAAChM,WAAJ,CAAgByL,UAAlC,GAA+C,EAApE;AACA1K,kBAAM,CAACsE,GAAP,GAAa,KAAKwS,kBAAL,CAAwB7L,GAAG,CAAC3G,GAA5B,CAAb;AACAtE,kBAAM,CAAC4B,SAAP,GAAmBqJ,GAAG,CAACrJ,SAAvB;AACA5B,kBAAM,CAACoE,EAAP,GAAY,KAAK0S,kBAAL,CAAwB7L,GAAG,CAAC7G,EAA5B,CAAZ;AACApE,kBAAM,CAACwE,EAAP,GAAY,KAAKsS,kBAAL,CAAwB7L,GAAG,CAACzG,EAA5B,CAAZ;AACAxE,kBAAM,CAAC6W,OAAP,GAAiB,KAAKC,kBAAL,CAAwB7L,GAAG,CAAC4L,OAA5B,CAAjB;AACA7W,kBAAM,CAAC+V,SAAP,GAAmB9K,GAAG,CAAC8K,SAAvB;;AACA,gBAAI,KAAKhS,WAAL,IAAoB,YAAxB,EAAsC;AACpC/D,oBAAM,CAACkG,QAAP,GAAkB+E,GAAG,CAACtL,GAAtB;AACD;;AACD,gBAAI,CAAC,OAAD,EAAU,WAAV,EAAuB0E,OAAvB,CAA+B,KAAKN,WAApC,KAAoD,CAAC,CAAzD,EAA4D;AAC1D/D,oBAAM,CAACwE,EAAP,GAAY,KAAKsS,kBAAL,CAAwB7L,GAAG,CAACmL,IAA5B,CAAZ;;AACA,kBAAI,KAAKrS,WAAL,IAAoB,WAAxB,EAAqC;AACnC/D,sBAAM,CAACwE,EAAP,GAAYxE,MAAM,CAACwE,EAAP,CACTzI,MADS,CACF,KAAK+a,kBAAL,CAAwB7L,GAAG,CAACzG,EAA5B,EAAgCnB,MAAhC,CAAuC,UAAA1I,CAAC;AAAA,yBAAIA,CAAC,CAACsJ,KAAF,IAAW,OAAI,CAACD,YAApB;AAAA,iBAAxC,CADE,CAAZ;AAEAhE,sBAAM,CAACoE,EAAP,GAAY,KAAK0S,kBAAL,CAAwB7L,GAAG,CAAC7G,EAA5B,EAAgCf,MAAhC,CAAuC,UAAA1I,CAAC;AAAA,yBAAIA,CAAC,CAACsJ,KAAF,IAAW,OAAI,CAACD,YAApB;AAAA,iBAAxC,CAAZ;AACD;;AACD,kBAAMF,IAAI,GAAG,IAAIoS,oBAAJ,EAAb;AACAlW,oBAAM,CAAC4W,IAAP,GAAc9S,IAAI,CAACK,OAAL,CAAa8G,GAAb,CAAd;AACAjL,oBAAM,CAACf,WAAP,GAAqB,EAArB;AACAe,oBAAM,CAACyW,OAAP,iBAAwBzW,MAAM,CAACyW,OAA/B;AACAzW,oBAAM,CAAC4E,SAAP,GAAmBqG,GAAG,CAACpG,SAAvB;;AAEA,kBAAI,CAAC7E,MAAM,CAAC+V,SAAR,IAAqB,CAAC9b,KAAK,CAACC,OAAN,CAAc8F,MAAM,CAAC+V,SAArB,CAAtB,IAAyD/V,MAAM,CAAC+V,SAAP,CAAiB1Y,MAAjB,IAA2B,CAAxF,EAA2F;AACzF2C,sBAAM,CAAC+V,SAAP,GAAmB,CAAC,KAAKhS,WAAN,EAAmBkH,GAAG,CAACtL,GAAvB,EAA4BsL,GAAG,CAACe,MAAhC,CAAnB;AACD;AACF;;AAED,gBAAI,KAAKjI,WAAL,IAAoB,SAAxB,EAAmC;AACjC/D,oBAAM,CAACwE,EAAP,GAAY,EAAZ;AACAxE,oBAAM,CAACoE,EAAP,GAAY,EAAZ;AACApE,oBAAM,CAAC+W,UAAP,cAAwB9L,GAAG,CAACpG,SAA5B;AACA7E,oBAAM,CAAC4E,SAAP,GAAmBqG,GAAG,CAACpG,SAAvB;;AACA,kBAAMf,MAAI,GAAG,IAAIuS,oBAAJ,EAAb;;AACArW,oBAAM,CAAC4W,IAAP,GAAc9S,MAAI,CAACK,OAAL,CAAa8G,GAAb,CAAd;AACAjL,oBAAM,CAACyW,OAAP,kBAAyBxL,GAAG,CAACwL,OAA7B;;AACA,kBAAI,CAACzW,MAAM,CAAC+V,SAAR,IAAqB,CAAC9b,KAAK,CAACC,OAAN,CAAc8F,MAAM,CAAC+V,SAArB,CAAtB,IAAyD/V,MAAM,CAAC+V,SAAP,CAAiB1Y,MAAjB,IAA2B,CAAxF,EAA2F;AACzF2C,sBAAM,CAAC+V,SAAP,GAAmB,CAAC,SAAD,EAAY9K,GAAG,CAACtL,GAAhB,EAAqBsL,GAAG,CAACe,MAAzB,CAAnB;AACD;AACF;AACF;;AACD,iBAAOhM,MAAP;AACD;;;;;;QAKUgX,U;;;;QAMAC,Y;;;;AAEX,8DADC,gEAAY3Q,UAAZ,CACD,G,sBAAA,E,YAAA,E,MAAA;;QAGW4Q,Q;;;;QAWAC,W,GAAb;AAAA;;AACE,WAAAC,SAAA,GAAoB,EAApB;AACA,WAAArB,SAAA,GAAwB,EAAxB;AAQA,WAAAsB,UAAA,GAAqB,CAArB;AACA,WAAAC,uBAAA,GAAmC,KAAnC;AAGA,WAAAP,UAAA,GAAqB,EAArB;AACA,WAAAQ,WAAA,GAAsB,CAAtB;AACD,K;;QAEYC,oB;;;;;;;uCACY3C,G,EAA0B;AAC/C,iBAAOA,GAAG,CAACxd,GAAJ,CAAQ,UAAAkI,CAAC;AAAA,mBAAIA,CAAC,CAAC0W,WAAF,aAAmB1W,CAAC,CAAC0W,WAArB,eAAqC1W,CAAC,CAAC0E,KAAvC,SAAkD1E,CAAC,CAAC0E,KAAxD;AAAA,WAAT,EAAwEqS,IAAxE,CAA6E,GAA7E,CAAP;AACD;;;gCACcrL,G,EAAmB;AAChC,cAAMjL,MAAM,GAAG,IAAImX,WAAJ,EAAf;AACAnX,gBAAM,CAACwE,EAAP,GAAY,KAAKiT,cAAL,CAAoBxM,GAAG,CAACzG,EAAxB,CAAZ;AACAxE,gBAAM,CAACoE,EAAP,GAAY,KAAKqT,cAAL,CAAoBxM,GAAG,CAAC7G,EAAxB,CAAZ;AACApE,gBAAM,CAACsE,GAAP,GAAa,KAAKmT,cAAL,CAAoBxM,GAAG,CAAC3G,GAAxB,CAAb;AACAtE,gBAAM,CAACyW,OAAP,GAAiBxL,GAAG,CAACwL,OAArB;AACAzW,gBAAM,CAACkG,QAAP,GAAkB+E,GAAG,CAAC/E,QAAtB;AACAlG,gBAAM,CAAC+V,SAAP,GAAmB9K,GAAG,CAAC8K,SAAvB;AACA/V,gBAAM,CAAC0X,IAAP,GAAczM,GAAG,CAAC2L,IAAlB;AACA5W,gBAAM,CAAC2X,MAAP,GAAgB,IAAhB;AACA3X,gBAAM,CAACf,WAAP,GAAqBgM,GAAG,CAAChM,WAAJ,CAAgBoW,MAAhB,CAAuB,UAACC,GAAD,EAAMva,CAAN,EAAY;AACtDua,eAAG,CAACva,CAAC,CAAC6c,QAAH,CAAH,GAAkB,CAAC7c,CAAC,CAAC6E,QAAH,EAAa,EAAb,EAAiB,GAAjB,EAAsB,GAAtB,EAA2B,EAA3B,CAAlB;AACA,mBAAO0V,GAAP;AACD,WAHoB,EAGlB,EAHkB,CAArB;AAIAtV,gBAAM,CAAC4E,SAAP,GAAmBqG,GAAG,CAACrG,SAAvB;AACA5E,gBAAM,CAAC+W,UAAP,GAAoB9L,GAAG,CAAC8L,UAAxB;AACA,iBAAO/W,MAAP;AACD;;;;;;QAGU6X,mB;;;;QAKAC,c;;;;QAKAC,kB;;;;QAKAC,U;;;;QAKAC,U;;;;QAKAC,W;;;;AAEX,8DADC,gEAAY/E,aAAZ,CACD,G,qBAAA,E,QAAA,E,MAAA;AAEA,8DADC,gEAAY8E,UAAZ,CACD,G,qBAAA,E,UAAA,E,MAAA;AAEA,8DADC,gEAAYA,UAAZ,CACD,G,qBAAA,E,aAAA,E,MAAA;AAEA,8DADC,gEAAYA,UAAZ,CACD,G,qBAAA,E,oBAAA,E,MAAA;AAIA,8DADC,gEAAYA,UAAZ,CACD,G,qBAAA,E,OAAA,E,MAAA;AAGK,QAAME,QAAQ,GAAG,kBAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1jBP,QAAaC,IAAI,GACf,cAAYzR,CAAZ,EAAyB;AAAA;;AACvB,qDAAQlM,QAAR,GAAmBkM,CAAnB;AACD,KAHH;;;;cACiB;;;;AADJyR,QAAI,6DA/BhB,+DAAS;AACRC,kBAAY,EAAE,CACZ,iDADY,EACG,iDADH,EACS,yDADT,EACuB,4DADvB,EACgC,6DADhC,EAC4C,qEAD5C,EACyD,mDADzD,EAEZ,uEAFY,EAEE,mDAFF,EAEqB,mDAFrB,EAEwC,mDAFxC,EAE2D,4DAF3D,EAEoE,0DAFpE,EAGZ,kDAHY,EAGM,mDAHN,EAGyB,sDAHzB,EAG+C,0DAH/C,EAIZ,uDAJY,EAIW,qDAJX,EAIgC,8CAJhC,EAI8C,uDAJ9C,EAKZ,qDALY,EAKS,oDALT,EAK6B,4DAL7B,EAKsC,oEALtC,EAKmD,0DALnD,EAK2D,oDAL3D,EAMZ,mDANY,EAMO,wDANP,EAM+B,yDAN/B,EAMwD,6CANxD,EAOZ,6DAPY,EAOF,kDAPE,EAOgB,uDAPhB,EAOuC,gDAPvC,CADN;AAURC,qBAAe,EAAE,CAAC,4DAAD,EAAU,6DAAV,CAVT;AAWRC,aAAO,EAAE,CACP,uEADO,EACQ,4DAAYC,OAAZ,EADR,EAEP,4FAFO,EAEkB,8DAFlB,EAEiC,4DAFjC,EAE+C,8DAF/C,EAE8D,0DAF9D,EAGP,kEAHO,EAGU,0DAHV,EAGuB,8DAHvB,EAGsC,8DAHtC,EAGqD,wDAHrD,EAIP,6DAAaA,OAAb,CAAqB,gDAArB,EAA6B;AAAEC,0BAAkB,EAAE,iEAAtB;AAAyCC,eAAO,EAAE;AAAlD,OAA7B,CAJO,EAKP,0DALO,EAKM,wEALN,EAK0B,gEAL1B,EAK0C,gEAL1C,EAK0D,0DAL1D,EAKuE,0DALvE,EAMP,wEANO,EAMa,0EANb,EAMkC,wDANlC,EAM8C,4DAN9C,EAM4D,gEAN5D,EAOP,0EAPO,EAOc,+DAPd,EAO+B,sEAP/B,CAXD;AAoBR3Z,eAAS,EAAE,CACT,sEADS,EACE,4DADF,EAET,4EAFS,EAEK,kDAFL,EAEU,4DAFV,EAEoB,wDAFpB,EAE4B,gEAF5B,EAEwC,sDAFxC,EAGT,sDAHS,EAGF,2DAHE,EAGc,2DAHd,EAIT;AAAE4Z,eAAO,EAAE,kEAAX;AAA+BC,gBAAQ,EAAE;AAAzC,OAJS,EAKT,2DALS,EAKH,0EALG,EAKU,gEALV,EAKsB,+DALtB,EAKiC,oEALjC,EAKgD,yDALhD,EAMT,uEANS,CApBH;AA6BRC,eAAS,EAAE,CAAC,iDAAD;AA7BH,KAAT,CA+BgB,GAAJT,IAAI,CAAJ;;;;;;;;;;;;;;;;AC9Fb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCQFU,gB;;;;AAUb,QAAaC,QAAQ;AAAA;;AAAA;;AAUnB,0BAAc;AAAA;;AAAA;;AACZ;AAVc,gBAAAhX,IAAA,GAAe,GAAf;AACA,gBAAArB,IAAA,GAA6B,MAA7B;AAEC,gBAAAsY,MAAA,GAA6C,IAAI,0DAAJ,EAA7C;AAEP,gBAAApR,QAAA,GAAoB,IAApB;AACA,gBAAAqR,MAAA,GAA0B,EAA1B;AACA,gBAAAC,UAAA,GAA8B,EAA9B;AAIRJ,wBAAgB,CAACxb,QAAjB;AAFY;AAGb;;AAbkB;AAAA;AAAA,kCAgBC;AAClB,eAAK6b,KAAL;AACD;AAlBkB;AAAA;AAAA,iCAoBF1S,KApBE,EAoByB;AAAA;;AAC1C,cAAMzG,MAAM,GAAGyG,KAAK,CAACpP,GAAN,CAAU,UAAA4P,CAAC;AAAA,mBAAI,sDAAemS,UAAf,CAA0BnS,CAA1B,EAA6B,OAAI,CAACvG,IAAL,IAAa,MAA1C,CAAJ;AAAA,WAAX,CAAf;;AACA,cAAI,KAAKA,IAAL,IAAa,MAAjB,EAAyB;AACvB,mBAAOV,MAAP;AACD;;AAED,iBAAOA,MAAM,CAACqD,MAAP,CAAc,UAAA4D,CAAC;AAAA,mBAAI,CAACA,CAAC,CAACoS,IAAP;AAAA,WAAf,CAAP;AACD;AA3BkB;AAAA;AAAA,8BA6BGxb,IA7BH,EA6BoB;;;;;;;0BACjCA,IAAI,IAAIA,IAAI,CAACyb,Q;;;;;AACfzb,wBAAI,CAAC0b,QAAL,GAAgB,IAAhB;;;;AAGIxX,wB,GAAOlE,IAAI,GAAIA,IAAI,CAACoV,IAAL,CAA4BuG,QAAhC,GAA2C,KAAKzX,I;AACjE,yBAAK6F,QAAL,GAAgB,IAAhB;;AACe,2BAAM,KAAK6R,OAAL,CAAaC,QAAb,CAAsB3X,IAAtB,CAAN;;;AAAT/B,0B;;AACN,wBAAI,CAACnC,IAAL,EAAW;AACT,2BAAKob,MAAL,GAAc,KAAKU,QAAL,CAAc3Z,MAAd,CAAd;AACD,qBAFD,MAGK;AACHnC,0BAAI,CAACyb,QAAL,GAAgB,KAAKK,QAAL,CAAc3Z,MAAd,CAAhB;AACD;;AACD,yBAAK4H,QAAL,GAAgB,KAAhB;;;;;;;;;AACD;AA5CkB;AAAA;AAAA,gCA8CDjB,CA9CC,EA8CYnB,EA9CZ,EA8C4B;AAC7C,cAAImB,CAAC,CAACsM,IAAF,CAAOvS,IAAP,IAAe,WAAnB,EAAgC;AAC9B,iBAAKyY,KAAL,CAAWxS,CAAX;;AACA;AACD;;AAED,cAAI,CAACnB,EAAE,CAACoU,OAAR,EAAiB;AACf,iBAAKX,MAAL,CAAY9e,OAAZ,CAAoB,UAAA8M,CAAC;AAAA,qBAAIA,CAAC,CAAC4S,eAAF,GAAoB,KAAxB;AAAA,aAArB;;AACA,iBAAKX,UAAL,GAAkB,EAAlB;AACD;;AAEDvS,WAAC,CAACkT,eAAF,GAAoB,IAApB;;AACA,eAAKX,UAAL,CAAgBvd,IAAhB,CAAqBgL,CAArB;;AACAtO,iBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B,KAAK4gB,UAApC;AACD;AA5DkB;AAAA;AAAA,kCA8DC;AAAA;;AAClB,cAAM7K,SAAS,GAAG,KAAK6K,UAAL,GAAmBjf,KAAK,CAACC,OAAN,CAAc,KAAKgf,UAAnB,IAAiC,KAAKA,UAAtC,GAAmD,CAAC,KAAKA,UAAN,CAAtE,GAA2F,EAA7G;AACA,eAAKF,MAAL,CAAYha,IAAZ,CAAiBqP,SAAS,CAAChX,GAAV,CAAc,UAAC6U,CAAD;AAAA,mBAAiBA,CAAC,CAAC+G,IAAnB;AAAA,WAAd,EAAuC5P,MAAvC,CAA8C,UAAC4D,CAAD;AAAA,mBAAsBA,CAAC,CAACvG,IAAF,IAAU,OAAI,CAACA,IAArC;AAAA,WAA9C,CAAjB,EAFkB,CAGlB;AACD;AAlEkB;;AAAA;AAAA,MAAS,mDAAT,CAArB;;AACW,8DAAR,6DAAQ,G,kBAAA,E,MAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,kBAAA,E,MAAA,E,MAAA;AAEC,8DAAT,8DAAS,G,kBAAA,E,QAAA,E,MAAA;AACQ,8DAAjB,6DAAS,8CAAT,CAAiB,G,kBAAA,E,SAAA,E,MAAA;AAWlB,8DADC,4DAAQ,MAAR,CACD,G,kBAAA,E,SAAA,E,IAAA;AAhBWqY,YAAQ,6DANpB,gEAAU;AACT7W,cAAQ,EAAE,aADD;AAETC,cAAQ,EAAR;AAAA;AAAA,2FAFS;AAITiG,mBAAa,EAAE,gEAAkBC,IAJxB;;;;AAAA,KAAV,CAMoB,GAAR0Q,QAAQ,CAAR;;;;;;;;;;;;;;;;AClBb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,oC,CAAA;;;AAOA,QAAI5R,MAAM,CAAC2S,GAAP,IAAc3S,MAAM,CAAC2S,GAAP,CAAW,IAAX,CAAlB,EAAoC;AAClC3S,YAAM,CAAC,IAAD,CAAN,GAAeA,MAAM,CAAC2S,GAAP,CAAW,IAAX,CAAf;AACD;;AAED,QAAYC,cAAZ;;AAAA,eAAYA,cAAZ,EAA0B;AACxB;AACE;AACA;AACA;AACH,KALD,EAAYA,cAAc,KAAdA,cAAc,MAA1B;;QAOaC,U;AASX,0BAAmB/b,KAAnB,EACEgc,WADF,EAEEC,cAFF,EAGEC,KAHF,EAIEzZ,IAJF,EAKE0Z,kBALF,EAMErY,IANF,EAMiB;AAAA;;AACf,aAAK9D,KAAL,GAAaA,KAAb;AACA,aAAKgc,WAAL,GAAmBA,WAAnB;AACA,aAAKI,aAAL,GAAqBH,cAArB;AACA,aAAKC,KAAL,GAAaA,KAAb;AACA,aAAKzZ,IAAL,GAAYA,IAAZ;AACA,aAAK0Z,kBAAL,GAA0BA,kBAA1B;AACA,aAAKrY,IAAL,GAAYA,IAAZ;AACD;;;;+BAEU;AAAA;;AACT,iBAAO,IAAIpL,OAAJ,CAAY,UAAC2jB,GAAD,EAAMC,GAAN,EAAc;AAC/BC,cAAE,CAACC,OAAH,CAAWC,UAAX,CACE,OAAI,CAACzc,KADP,EAEEqc,GAFF,EAGE,OAAI,CAACL,WAHP,EAIE,OAAI,CAACI,aAJP,EAKE,OAAI,CAACF,KALP,EAME,OAAI,CAACzZ,IANP,EAOE,OAAI,CAACqB,IAPP,EAQE;AACE4Y,mCAAqB,EAAE,OAAI,CAACP;AAD9B,aARF;AAYD,WAbM,CAAP;AAcD;;;iCAEsBrY,I,EAAY;AACjC,iBAAO,IAAIpL,OAAJ,CAAiB,UAAAC,OAAO,EAAI;AACjC4jB,cAAE,CAAC,OAAD,CAAF,CAAYI,SAAZ,GAAwBC,eAAxB,CAAwC9Y,IAAxC,EAA8ClL,IAA9C,CAAmD,UAACG,IAAD,EAAO8K,OAAP,EAAmB;AACpElL,qBAAO,CAACkL,OAAD,CAAP;AACD,aAFD;AAGD,WAJM,CAAP;AAKD;;;iCAc6BC,I,EAAY;;;;;;;;;AAC1B,2BAAM,mDAAGyY,EAAE,CAAC,OAAD,CAAF,CAAYI,SAAZ,GAAwBE,WAAxB,CAAoC/Y,IAApC,CAAH,CAAN;;;;;AAAP3J,uB;;yBAEHA,G;;;;;uDACK2J,I;;;AAGH2E,qB,GAAI,kB;AACN7M,wB,GAAOkI,IAAI,CAACrH,OAAL,CAAagM,CAAb,EAAgB,IAAhB,C;AACLqU,uB,GAAMlhB,IAAI,IAAIkI,IAAR,GAAe,EAAf,GAAoBA,IAAI,CAACrH,OAAL,CAAagM,CAAb,EAAgB,IAAhB,C;AAE1BsU,sB,GAAK,iB;AACPpa,uB,GAAuB/G,IAAI,CAACa,OAAL,CAAasgB,EAAb,EAAiB,IAAjB,C;;AAC3B,wBAAIpa,GAAG,IAAI/G,IAAX,EAAiB;AACf+G,yBAAG,GAAG,CAAN;AACD,qBAFD,MAGK;AACHA,yBAAG,GAAGqa,QAAQ,CAACra,GAAD,CAAR,GAAgB,CAAtB;AACD;;AACD/G,wBAAI,aAAMA,IAAI,CAACa,OAAL,CAAasgB,EAAb,EAAiB,IAAjB,CAAN,cAAgCpa,GAAG,CAAC5F,QAAJ,EAAhC,CAAJ;uDAEOgf,UAAU,CAACkB,QAAX,CAAoBrhB,IAAI,IAAIkhB,GAAG,IAAI,EAAP,GAAY,EAAZ,GAAiB,MAAMA,GAA3B,CAAxB,C;;;;;;;;;AACR;;;+BAE0BhZ,I,EAAcD,O,EAAa;;;;;;;;;AACtC,2BAAMkY,UAAU,CAACkB,QAAX,CAAoBnZ,IAApB,CAAN;;;AAARoZ,yB;;AACN,2BAAMX,EAAE,CAAC,OAAD,CAAF,CAAYI,SAAZ,GAAwBQ,eAAxB,CAAwCD,KAAxC,EAA+CrZ,OAA/C,CAAN;;;uDACOqZ,K;;;;;;;;;AACR;;;+BAE0BpZ,I,EAAY;;;;;;uDAC9B,IAAIpL,OAAJ,CAAY,UAAAC,OAAO;AAAA,6BAAI4jB,EAAE,CAAC,OAAD,CAAF,CAAYI,SAAZ,GAAwBE,WAAxB,CAAoC/Y,IAApC,EAA0ClL,IAA1C,CAA+C;AAAA,+BAAMD,OAAO,CAAC,IAAD,CAAb;AAAA,uBAA/C,EAAoEykB,IAApE,CAAyE;AAAA,+BAAMzkB,OAAO,CAAC,KAAD,CAAb;AAAA,uBAAzE,CAAJ;AAAA,qBAAnB,C;;;;;;;;;AACR;;;4BA5C4B;AAC3B,cAAMoJ,MAAM,GAAG,IAAI,4DAAJ,EAAf;AACAA,gBAAM,CAACsb,WAAP,GAAqBd,EAAE,CAAC,cAAD,CAAvB;AACAxa,gBAAM,CAACub,SAAP,GAAmBf,EAAE,CAAC,aAAD,CAArB;AACAxa,gBAAM,CAACqB,MAAP,GAAgB8F,MAAM,CAACqU,QAAP,CAAgBC,MAAhC;AACA,iBAAOzb,MAAP;AACD;;;4BAEyB;AACxB,iBAAOwa,EAAE,CAAC,OAAD,CAAF,CAAYI,SAAZ,GAAwBc,UAAxB,EAAP;AACD;;;;;;QAqCUC,iB;AASX,iCAAmB1d,KAAnB,EAAkC;AAAA;;AAP1B,aAAAgc,WAAA,GAAuB,KAAvB;AACA,aAAAI,aAAA,GAA0B,EAA1B;AACA,aAAAF,KAAA,GAAiB,IAAjB;AACA,aAAAzZ,IAAA,GAAuBqZ,cAAc,CAAC6B,MAAtC;AACA,aAAAxB,kBAAA,GAA8B,KAA9B;AAIN,aAAKnc,KAAL,GAAaA,KAAb;AACD;;;;uCAEqB4d,E,EAAW;AAC/B,eAAK5B,WAAL,GAAmB4B,EAAnB;AACA,iBAAO,IAAP;AACD;;;0CAEwBxY,M,EAAc;AACrC,eAAKgX,aAAL,CAAmB1e,IAAnB,CAAwB0H,MAAxB;AACA,iBAAO,IAAP;AACD;;;0CAEwBA,M,EAAgB;AACvC,eAAKgX,aAAL,GAAqBhX,MAArB;AACA,iBAAO,IAAP;AACD;;;iCAEe8W,K,EAAc;AAC5B,eAAKA,KAAL,GAAaA,KAAb;AACA,iBAAO,IAAP;AACD;;;gCAEczZ,I,EAAoB;AACjC,eAAKA,IAAL,GAAYA,IAAZ;AACA,iBAAO,IAAP;AACD;;;2CAE4C;AAAA,cAArBob,KAAqB,uEAAJ,IAAI;AAC3C,eAAK1B,kBAAL,GAA0B0B,KAA1B;AACA,iBAAO,IAAP;AACD;;;gCAEc/Z,I,EAAY;AACzB,eAAKA,IAAL,GAAYA,IAAZ;AACA,iBAAO,IAAP;AACD;;;gCAEW;AACV,iBAAO,IAAIiY,UAAJ,CACL,KAAK/b,KADA,EAEL,KAAKgc,WAFA,EAGL,KAAKI,aAHA,EAIL,KAAKF,KAJA,EAKL,KAAKzZ,IALA,EAML,KAAK0Z,kBANA,EAOL,KAAKrY,IAPA,CAAP;AASD;;;;;;AAII,aAASga,oBAAT,CAA8B9d,KAA9B,EAA2C;AAChD,aAAO,IAAI0d,iBAAJ,CAAsB1d,KAAtB,CAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCjLY+d,a;;;;QAKAC,c;;;;AAEX,8DADC,gEAAYD,aAAZ,CACD,G,wBAAA,E,MAAA,E,MAAA;;QAIWE,oB;;;;QAMAC,a;;;;AAIX,8DADC,gEAAY5M,IAAZ,CACD,G,uBAAA,E,SAAA,E,MAAA;;QAQW6M,c;;;;QAKAC,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBb,QAAaC,SAAS;AAAA;;AAAA;;AAOpB,2BAAc;AAAA;;AAAA;;AACZ;AAJM,gBAAAC,SAAA,GAAoB,GAApB;AACA,gBAAAC,YAAA,GAAqC,IAArC;AAEM;AAEb;;AATmB;AAAA;AAAA,8BAWG1f,GAXH,EAWgB2f,OAXhB,EAWsC/b,IAXtC,EAWmD;;;;;;;AACrE,wBAAI,CAAC+b,OAAL,EAAc;AACZA,6BAAO,GAAG,EAAV;AACD;;AAED,wBAAIA,OAAO,IAAI,CAACA,OAAO,CAACrR,OAAxB,EAAiC;AAC/BqR,6BAAO,CAACrR,OAAR,GAAkB;AAAC,wCAAgB;AAAjB,uBAAlB;AACD,qB,CACD;;;;AACe,2BAAMD,KAAK,CAACrO,GAAD,EAAM2f,OAAN,CAAX;;;AAATzc,0B;;0BACFA,MAAM,CAAC0c,MAAP,GAAgB,GAAhB,IAAuB1c,MAAM,CAAC0c,MAAP,IAAiB,G;;;;;0BACpC3lB,KAAK,CAACiJ,MAAM,CAAC2c,UAAR,C;;;;AAEA,2BAAM3c,MAAM,CAACwS,IAAP,EAAN;;;AAAPA,wB;uDACC,qDAAalV,QAAb,CAAsBkV,IAAtB,EAA4B9R,IAA5B,C;;;;;;;;;AACR;AA1BmB;AAAA;AAAA,yCAqDW8P,CArDX,EAqD6B;;;;;;AAC/C,wBAAIA,CAAC,CAACnT,MAAF,GAAW,CAAf,EAAkB;AAChB,2BAAKkf,SAAL,GAAiB/L,CAAC,CAAC,CAAD,CAAD,CAAK9V,OAAL,CAAa,iBAAb,EAAgC,IAAhC,CAAjB;AACD;;;;;;;;;AACF;AAzDmB;AAAA;AAAA,yCA2DQ;;;;;;;AACpBkiB,0B,GAAS,IAAI,sDAAJ,CAAe,eAAf,EAAgC,IAAhC,EAAsC,EAAtC,EAA0C,IAA1C,EAAgD,CAAhD,EAAmD,KAAnD,EAA0D,KAAKL,SAA/D,C;;AACe,2BAAMK,MAAM,CAACC,IAAP,EAAN;;;AAAxB7c,0B;;AACN,2BAAM,KAAK8c,gBAAL,CAAsB9c,MAAtB,CAAN;;;uDACOA,M;;;;;;;;;AACR;AAhEmB;AAAA;AAAA,qCAkEO+c,SAlEP,EAkE8D;AAAA,cAAnCrc,IAAmC,uEAAN,MAAM;;;;;;;AAC1E+b,2B,GAA+B;AACnCtC,2BAAK,EAAE,IAD4B;AACtB6C,4BAAM,EAAEtc,IAAI,IAAI,MAAR,GAAiB,eAAjB,GAAmC,oBADrB;AAC2Cuc,8BAAQ,EAAE,IADrD;AAC2DC,mCAAa,EAAE,KAD1E;AAEnCC,gCAAU,EAAE;AAFuB,qB;;AAKrC,wBAAIJ,SAAJ,EAAe;AACbN,6BAAO,CAACU,UAAR,GAAqB,qBAArB;AACD;;AACKC,uB,GAAM,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,kDAAjB,EAA2Bb,OAA3B,C;;AAEZ,2BAAM,IAAI9lB,OAAJ,CAAY,UAAAC,OAAO;AAAA,6BAAIwM,UAAU,CAACxM,OAAD,CAAd;AAAA,qBAAnB,CAAN;;;AACA,+EAAiB0G,QAAjB,CAA0BoD,IAA1B,GAAkCA,IAAlC;uDACO,IAAI/J,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,iFAAiB0G,QAAjB,CAA0B0b,MAA1B,CAAiC/V,IAAjC,CAAsC,6DAAK,CAAL,CAAtC,EAA+CpG,SAA/C,CAAyD,UAAA4J,KAAK,EAAI;AAChE7P,+BAAO,CAAC6P,KAAK,CAACpP,GAAN,CAAU,UAAA4P,CAAC;AAAA,iCAAIA,CAAC,CAACuS,QAAN;AAAA,yBAAX,CAAD,CAAP;AACA4D,2BAAG,CAACG,KAAJ;AACD,uBAHD;;AAKAH,yBAAG,CAACI,SAAJ,CAAcva,IAAd,CAAmB,6DAAK,CAAL,CAAnB,EAA4BpG,SAA5B,CAAsC;AAAA,+BAAMjG,OAAO,CAAC,EAAD,CAAb;AAAA,uBAAtC;AACD,qBAPM,C;;;;;;;;;AAQR;AAvFmB;AAAA;AAAA,mCAyF4B;AAAA,cAA1BmmB,SAA0B,uEAAL,KAAK;;;;;;yBAC1C,KAAKU,U;;;;;uDACA,KAAKC,YAAL,CAAkBX,SAAlB,C;;;uDAGF,KAAKY,cAAL,E;;;;;;;;;AACR;AA/FmB;AAAA;AAAA,wCAiGO;;;;;;;AACnBf,0B,GAAS,IAAI,sDAAJ,CAAe,iBAAf,EAAkC,KAAlC,EAAyC,CAAC,OAAD,CAAzC,EAAoD,IAApD,EAA0D,CAA1D,EAA6D,IAA7D,EAAmE,KAAKL,SAAxE,C;;AACQ,2BAAMK,MAAM,CAACC,IAAP,EAAN;;;AAAjB7c,0B;;AACN,2BAAM,KAAK8c,gBAAL,CAAsB,CAAC9c,MAAD,CAAtB,CAAN;;;uDACOA,M;;;;;;;;;AACR;AAtGmB;AAAA;AAAA,sCAwGQ+c,SAxGR,EAwG0B;;;;;;;;AAC7B,2BAAM,KAAKW,YAAL,CAAkBX,SAAlB,EAA6B,WAA7B,CAAN;;;AAAT/c,0B;uDACCA,MAAM,CAAC,CAAD,C;;;;;;;;;AACd;AA3GmB;AAAA;AAAA,qCA6G8B;AAAA,cAA1B+c,SAA0B,uEAAL,KAAK;;;;;;yBAC5C,KAAKU,U;;;;;uDACA,KAAKG,aAAL,CAAmBb,SAAnB,C;;;uDAGF,KAAKc,aAAL,E;;;;;;;;;AACR;AAnHmB;AAAA;AAAA,oCAqHM9b,IArHN,EAqHkB;;;;;;;;AACpB,2BAAMoJ,KAAK,WAAI,uDAAW2S,QAAf,cAA2B/b,IAA3B,EAAX;;;AAAVD,2B;;AACO,2BAAMA,OAAO,CAACyJ,IAAR,EAAN;;;AAAPA,wB;;AACM,2BAAMA,IAAI,CAACwS,WAAL,EAAN;;;AAANC,uB;uDACCA,G;;;;;;;;;AACR;AA1HmB;AAAA;AAAA,qCA4HOjc,IA5HP,EA4HmB;;;;;;uDAC9B,KAAK0X,OAAL,CAAavY,QAAb,CAAsBa,IAAtB,C;;;;;;;;;AACR;AA9HmB;AAAA;AAAA,iCAgIEA,IAhIF,EAgIc;;;;;;yBAC5B,KAAK0b,U;;;;;uDACA,KAAKQ,YAAL,CAAkBlc,IAAlB,C;;;uDAGF,KAAKmc,WAAL,CAAiBnc,IAAjB,C;;;;;;;;;AACR;AAtImB;AAAA;AAAA,+BAwIAA,IAxIA,EAwIcD,OAxId,EAwI2B;;;;;;yBACzC,KAAK2b,U;;;;;;AACP,2BAAM,KAAKhE,OAAL,CAAazX,MAAb,CAAoBD,IAApB,EAA0BD,OAA1B,CAAN;;;uDACOC,I;;;uDAEF,uDAAWC,MAAX,CAAkBD,IAAlB,EAAwBD,OAAxB,C;;;;;;;;;AACR;AA9ImB;AAAA;AAAA,8BAgJAqc,IAhJA,EAgJkC;AAAA,cAAbjS,CAAa,uEAAD,CAAC;;;;;;;;0BAChDA,CAAC,IAAI,E;;;;;0BACD,iC;;;;AAEc,2BAAM,mDAAG,KAAKkS,KAAL,CAAWD,IAAI,CAACE,QAAhB,EAA0B;AAACpiB,4BAAM,EAAE,MAAT;AAAiB9C,0BAAI,kBAAWglB,IAAI,CAAC7S,KAAhB;AAArB,qBAA1B,EAAyE,4DAAzE,CAAH,CAAN;;;;;AAAflT,uB;AAAK4H,0B;;yBAER5H,G;;;;;;AACF,2BAAM,IAAIzB,OAAJ,CAAY,UAAAC,OAAO;AAAA,6BAAIwM,UAAU,CAACxM,OAAD,EAAU,IAAV,CAAd;AAAA,qBAAnB,CAAN;;;uDACO,KAAK0nB,KAAL,CAAWH,IAAX,EAAiBjS,CAAC,GAAG,CAArB,C;;;AAGT,yBAAKqS,WAAL,GAAmBve,MAAnB;uDAEOA,M;;;;;;;;;AACR;AA9JmB;AAAA;AAAA,8BAgKDwe,OAhKC,EAgKc;;;;;;;;AACd,2BAAM,KAAKJ,KAAL,WAAcI,OAAd,0BAA4C;AAACviB,4BAAM,EAAE;AAAT,qBAA5C,EAA8D,sDAA9D,CAAN;;;AAAZwiB,6B;AACAlf,qB,GAAIrG,QAAQ,CAACwlB,aAAT,CAAuB,GAAvB,C;AACVnf,qBAAC,CAAC+K,IAAF,GAASmU,SAAS,CAACE,KAAnB;AACApf,qBAAC,CAAC5G,MAAF,GAAW,QAAX;AACAO,4BAAQ,CAACC,IAAT,CAAcN,WAAd,CAA0B0G,CAA1B;AACAA,qBAAC,CAACqf,KAAF;AACA1lB,4BAAQ,CAACC,IAAT,CAAc6E,WAAd,CAA0BuB,CAA1B;uDAEO,KAAK+e,KAAL,CAAWG,SAAS,CAACN,IAArB,C;;;;;;;;;AACR;AA1KmB;AAAA;AAAA,8BA4KDpc,IA5KC,EA4Ka;;;;;;;AACxB,2BAAM,KAAK0X,OAAL,CAAaoF,KAAb,CAAmB9c,IAAnB,CAAN;;;;;;;;;;;;AACR;AA9KmB;AAAA;AAAA,+BAgLAA,IAhLA,EAgLY;;;;;;yBAC1B,KAAK0b,U;;;;;uDACA,KAAKhE,OAAL,CAAaqF,MAAb,CAAoB/c,IAApB,C;;;uDAEF,uDAAW+c,MAAX,CAAkB/c,IAAlB,C;;;;;;;;;AACR;AArLmB;AAAA;AAAA,qCAuLF;AAChB,cAAMyJ,CAAC,GAAG,IAAI+D,IAAJ,EAAV;AACA/D,WAAC,CAACuT,OAAF,CAAUvT,CAAC,CAACwT,OAAF,KAAc,CAAxB;AACA,cAAM5S,CAAC,GAAGZ,CAAC,CAACyT,QAAF,KAAe,CAAzB;AACA,cAAMC,GAAG,GAAG1T,CAAC,CAACwT,OAAF,EAAZ;AAEA,2BAAUxT,CAAC,CAAC2T,WAAF,EAAV,cAA6B/S,CAAC,GAAG,EAAJ,GAAS,GAAT,GAAe,EAA5C,SAAiDA,CAAjD,cAAsD8S,GAAG,GAAG,EAAN,GAAW,GAAX,GAAgB,EAAtE,SAA2EA,GAA3E;AACD;AA9LmB;AAAA;AAAA,8BAgMDnd,IAhMC,EAgMW;;;;;;;AACvBpH,qB,GAAI,KAAK4jB,W;AACTa,0B,GAAS;AAACrd,0BAAI,EAAEA,IAAP;AAAasd,+BAAS,EAAE,CAAxB;AAA2BC,gCAAU,EAAE,KAAKC,UAAL;AAAvC,qB;AACT9C,2B,GAAuB;AAC3BxgB,4BAAM,EAAE,MADmB;AAE3BmP,6BAAO,EAAE;AACP,wCAAgB,gCADT;AAEP,0CAAkB,MAFX;AAGP,kCAAU;AAHH,uBAFkB;AAO3BjS,0BAAI,EAAE2b,IAAI,CAAC0K,SAAL,CAAeJ,MAAf;AAPqB,qB;;AAU7B,wBAAI,KAAK3B,UAAT,EAAqB;AACnBhB,6BAAO,CAACrR,OAAR,CAAgB,eAAhB,oBAA4CqU,IAAI,CAAC9kB,CAAC,CAAC4gB,SAAF,GAAc,GAAd,GAAoB5gB,CAAC,CAAC2gB,WAAvB,CAAhD;AACD;;;AACc,2BAAM,KAAK8C,KAAL,WAChBzjB,CAAC,CAAC0G,MADc,mDAEnBob,OAFmB,EAEV,4DAFU,CAAN;;;AAATzc,0B;uDAKCA,MAAM,CAAC0f,GAAP,CAAWzM,I;;;;;;;;;AACnB;AAtNmB;AAAA;AAAA,gCAwNC7b,EAxND,EAwNa;;;;;;;AACzBuD,qB,GAAI,KAAK4jB,W;AACT9B,2B,GAAuB;AAC3BxgB,4BAAM,EAAE,QADmB;AAE3BmP,6BAAO,EAAE;AACP,wCAAgB,gCADT;AAEP,0CAAkB,MAFX;AAGP,kCAAU;AAHH;AAFkB,qB;;AAS7B,wBAAI,KAAKqS,UAAT,EAAqB;AACnBhB,6BAAO,CAACrR,OAAR,CAAgB,eAAhB,oBAA4CqU,IAAI,CAAC9kB,CAAC,CAAC4gB,SAAF,GAAc,GAAd,GAAoB5gB,CAAC,CAAC2gB,WAAvB,CAAhD;AACD;;uDACM,KAAK8C,KAAL,WACFzjB,CAAC,CAAC0G,MADA,0DACsDjK,EADtD,GAELqlB,OAFK,EAEI5kB,MAFJ,C;;;;;;;;;AAIR;AA1OmB;AAAA;AAAA,0BAgCG2Y,CAhCH,EAgC4B;AAC9C,eAAKgM,YAAL,GAAoBhM,CAApB;;AACA,eAAKiJ,OAAL,CAAakG,IAAb,CAAkBnP,CAAlB;AACD,SAnCmB;AAAA,4BAqCE;AACpB,cAAI,KAAKiN,UAAT,EAAqB;AACnB,mBAAO,KAAKjB,YAAZ;AACD;;AAED,iBAAO,uDAAW+B,WAAlB;AACD;AA3CmB;AAAA;AAAA,4BA6CE;AACpB,iBAAO,CAAC,CAAC,KAAK/B,YAAd;AACD;AA/CmB;AAAA;AAAA,4BAiDE;AACpB,iBAAO,WAAS,CAACoD,IAAV,IAAkB,KAAKnC,UAA9B;AACD;AAnDmB;AAAA;AAAA,4BA4BE;AACpB,iBAAOtW,MAAM,CAAC2S,GAAP,IAAc3S,MAAM,CAAC2S,GAAP,CAAW,IAAX,CAArB;AACD;AA9BmB;;AAAA;AAAA,MAAS,+CAAT,CAAtB;;AAC2B,8DAAxB,6DAAS,mEAAT,CAAwB,G,mBAAA,E,QAAA,E,MAAA;AACP,8DAAjB,6DAAS,8CAAT,CAAiB,G,mBAAA,E,SAAA,E,MAAA;AAFPwC,aAAS,2EADrB,kEACqB,GAATA,SAAS,CAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCZAuD,O;;;;;;;4BAIarO,G,EAAkB;;;;;;;;AACvB,2BAAMrG,KAAK,WAAI0U,OAAO,CAACC,IAAZ,cAAoBtO,GAAG,CAAChT,GAAxB,EAAX;;;AAAXuhB,4B;;AACM,2BAAMA,QAAQ,CAAChM,IAAT,EAAN;;;AAAN3D,uB;uDACC;AAACuC,2BAAK,EAAEmC,IAAI,CAACC,KAAL,CAAW3E,GAAX;AAAR,qB;;;;;;;;;AACR;;;4BAEuBoB,G,EAAiC;;;;;;;AACjDyB,wB,GAAO,IAAI+M,QAAJ,E;AACb/M,wBAAI,CAACvX,GAAL,CAAS,KAAT,EAAgB8V,GAAG,CAAChT,GAApB;AACAyU,wBAAI,CAACvX,GAAL,CAAS,OAAT,EAAkB8V,GAAG,CAACmB,KAAtB;;AACA,2BAAMxH,KAAK,WAAI0U,OAAO,CAACC,IAAZ,GAAoB;AAAC7jB,4BAAM,EAAE,MAAT;AAAiB9C,0BAAI,EAAE8Z;AAAvB,qBAApB,CAAX;;;;;;;;;AACD;;;;;;AAdc,YAAAgN,QAAA,GAAmB9Y,MAAM,CAACqU,QAAP,CAAgBlR,IAAhB,CAAqB5P,OAArB,CAA6B,6BAA7B,EAA4D,IAA5D,CAAnB;AACA,YAAAolB,IAAA,aAAkBD,OAAO,CAACI,QAA1B;;;;;;;;;;;;;;;;ACCjB;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,c;;;;;;;iCACYjZ,C,EAAgB;AACrC,cAAM8T,GAAG,GAAG9T,CAAC,CAACkZ,QAAF,CAAWzlB,OAAX,CAAmB,gBAAnB,EAAqC,IAArC,CAAZ;;AACA,cAAIqgB,GAAG,CAACtc,KAAJ,CAAU,MAAV,CAAJ,EAAuB;AACrB,mBAAO,kBAAP;AACD;;AAED,cAAIsc,GAAG,CAACtc,KAAJ,CAAU,iBAAV,CAAJ,EAAkC;AAChC,mBAAO,oBAAP;AACD;;AAED,cAAIsc,GAAG,CAACtc,KAAJ,CAAU,yBAAV,CAAJ,EAA0C;AACxC,mBAAO,oBAAP;AACD;;AAED,cAAIsc,GAAG,CAACtc,KAAJ,CAAU,iBAAV,CAAJ,EAAkC;AAChC,mBAAO,mBAAP;AACD;;AAED,iBAAO,cAAP;AACD;;;mCAEwBwM,G,EAA4C;AAAA,cAAxBmV,QAAwB,uEAAJ,IAAI;AACnE,iBAAkB;AAChBpX,iBAAK,EAAEiC,GAAG,CAACkV,QADK;AAEhB9G,gBAAI,EAAEpO,GAAG,CAACvK,IAAJ,IAAY,MAFF;AAGhBuS,gBAAI,EAAEhI,GAHU;AAIhBoV,sBAAU,EAAE,IAJI;AAKhBC,yBAAa,EAAErV,GAAG,CAACvK,IAAJ,IAAY,MAAZ,GAAqBwf,cAAc,CAACK,QAAf,CAAwBtV,GAAxB,CAArB,GAAoD,gBALnD;AAMhBuV,wBAAY,EAAE;AANE,WAAlB;AAQD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBH,QAAaC,MAAM;AAAA;;AAAA;;AAAnB;AAAA;;AAAA;;;AACU,gBAAAC,OAAA,GAAe,IAAf;AACA,gBAAAC,OAAA,GAA+B,IAAI,kDAAJ,CAAkB,CAAlB,CAA/B;AAFV;AAkDC;;AAlDkB;AAAA;AAAA,6BAICpC,WAJD,EAIoC;;;;;;wBAC9CA,W;;;;;;;;AAGL,yBAAKmC,OAAL,GAAe,0EAAgBnC,WAAW,CAACld,MAA5B,mCAA2Dkd,WAAW,CAAChD,SAAvE,GAAoF;AACjGqF,8BAAQ,EAAErC,WAAW,CAAChD,SAD2E;AAChEsF,8BAAQ,EAAEtC,WAAW,CAACjD;AAD0C,qBAApF,CAAf;;AAGA,yBAAKqF,OAAL,CAAaG,IAAb;;;;;;;;;AACD;AAZgB;AAAA;AAAA,iCAcK/e,IAdL,EAciB;;;;;;;;;;AAChC,2BAAM,IAAIpL,OAAJ,CAAY,UAAAC,OAAO;AAAA,6BAAI,OAAI,CAAC+pB,OAAL,CAAa1d,IAAb,CAAkB,4DAAK,CAAL,CAAlB,EAA2BpG,SAA3B,CAAqCjG,OAArC,CAAJ;AAAA,qBAAnB,CAAN;;;;AACqC,2BAAM,KAAK8pB,OAAL,CAAaK,oBAAb,CAAkChf,IAAlC,CAAN;;;AAA/B/B,0B;AACNA,0BAAM,CAACyQ,IAAP,CAAY,UAAClR,CAAD,EAAImR,CAAJ,EAAU;AACpB,0BAAInR,CAAC,CAACmB,IAAF,IAAUgQ,CAAC,CAAChQ,IAAhB,EAAsB;AACpB,+BAAOnB,CAAC,CAAC4gB,QAAF,CAAW1a,WAAX,KAA2BiL,CAAC,CAACyP,QAAF,CAAW1a,WAAX,EAA3B,GAAsD,CAAC,CAAvD,GAA2D,CAAlE;AACD;;AAED,6BAAOlG,CAAC,CAACmB,IAAF,IAAU,WAAV,GAAwB,CAAC,CAAzB,GAA6B,CAApC;AACD,qBAND;uDAOO,qDAAapD,QAAb,CAAsB0C,MAAtB,EAA8B,qDAA9B,C;;;;;;;;;AACR;AAzBgB;AAAA;AAAA,iCA2BD+B,IA3BC,EA2BW;AAC1B,iBAAO,KAAK2e,OAAL,CAAa7F,eAAb,CAA6B9Y,IAA7B,CAAP;AACD;AA7BgB;AAAA;AAAA,+BA+BGA,IA/BH,EA+BiBD,OA/BjB,EA+B8B;;;;;;;AAC7C,2BAAM,KAAK4e,OAAL,CAAatF,eAAb,CAA6BrZ,IAA7B,EAAmCD,OAAnC,EAA4C;AAACkf,+BAAS,EAAE;AAAZ,qBAA5C,CAAN;;;;;;;;;AACD;AAjCgB;AAAA;AAAA,8BAmCEjf,IAnCF,EAmCc;;;;;;uDACtB,KAAK2e,OAAL,CAAaO,eAAb,CAA6Blf,IAA7B,C;;;;;;;;;AACR;AArCgB;AAAA;AAAA,+BAuCGA,IAvCH,EAuCe;;;;;;uDACvB,KAAK2e,OAAL,CAAa5B,MAAb,CAAoB/c,IAApB,C;;;;;;;;;AACR;AAzCgB;AAAA;AAAA,mCA2COA,IA3CP,EA2CmB;;;;;;uDAC3B,KAAK2e,OAAL,CAAaQ,mBAAb,CAAiCnf,IAAjC,C;;;;;;;;;AACR;AA7CgB;AAAA;AAAA,iCA+CKA,IA/CL,EA+CiB;;;;;;uDACzB,KAAK2e,OAAL,CAAaS,IAAb,CAAkBpf,IAAlB,C;;;;;;;;;AACR;AAjDgB;;AAAA;AAAA,MAAS,+CAAT,CAAnB;;AAAa0e,UAAM,6DADlB,kEACkB,GAANA,MAAM,CAAN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBb,QAAaW,IAAI;AAAA;;AAAA;;AAiCf,oBAAoBC,MAApB,EAA4C;AAAA;;AAAA;;AAC1C;AADkB,gBAAAA,MAAA,GAAAA,MAAA;AAtBV,gBAAAC,SAAA,GAAqB,IAArB;AAEA,gBAAApU,SAAA,GAA4B,EAA5B;AACA,gBAAAqU,IAAA,GAAsB,CAAC,EAAD,CAAtB;AACA,gBAAA3T,OAAA,GAAkB,OAAlB;AACA,gBAAAsL,UAAA,GAA6B,EAA7B;AACA,gBAAAhP,QAAA,GAAoB,IAApB;AACA,gBAAAsX,WAAA,GAAuB,KAAvB;AACA,gBAAAC,SAAA,GAA6B,EAA7B;AACA,gBAAAC,QAAA,GAAoB,KAApB;AACA,gBAAAC,SAAA,GAAqB,KAArB;AACA,gBAAAC,YAAA,GAA4B,KAA5B;AAGA,gBAAAC,eAAA,GAA2B,KAA3B;AACA,gBAAAC,aAAA,GAAwB,EAAxB;AAEA,gBAAAC,eAAA,GAA+D,MAA/D;AACA,gBAAAC,aAAA,GAAyB,KAAzB;AACA,gBAAAC,WAAA,GAAc,EAAd;AACA,gBAAAC,WAAA,GAAuB,KAAvB;;AAIR,gBAAK1f,SAAL,CAAenE,GAAf,CAAmB,EAAnB;;AAF0C;AAG3C;;AApCc;AAAA;AAAA,kCAuCW;;;;;;;;;AACxBhG,2BAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,yBAAKwN,WAAL;AACA,yBAAK/C,UAAL,GAAkB,KAAKrB,MAAL,CAAYsB,SAA9B;AACA,yBAAKse,SAAL,GAAiB,KAAKa,OAAL,CAAaC,QAA9B;AACA,yBAAK9e,OAAL,CAAa,KAAK5B,MAAL,CAAY6B,eAAzB,EAA0C,UAAMxD,OAAN;AAAA,6BAAiB;AAAA;AAAA;AAAA;AAAA;AACzD,qCAAKoD,QAAL,GAAgBpD,OAAhB;AACA,qCAAKzD,WAAL;;AAFyD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAjB;AAAA,qBAA1C;AAKA,yBAAKgH,OAAL,CAAa,KAAK5B,MAAL,CAAYmP,UAAzB,EAAqC;AAAA,6BAAM,OAAI,CAACqR,WAAL,GAAmB,KAAzB;AAAA,qBAArC;AAEA,yBAAK5e,OAAL,CAAa,KAAKzD,IAAL,CAAUwiB,eAAvB,EAAwC,UAAAC,CAAC,EAAI;AAC3C,6BAAI,CAAC9lB,KAAL,CAAW,iBAAX,kBAAuC8lB,CAAC,CAAC/X,KAAzC;;AACA,6BAAI,CAACgY,QAAL,CAAc,gBAAd;AACD,qBAHD;AAKA,yBAAKjf,OAAL,CAAa,KAAK5B,MAAL,CAAYuG,cAAzB,EAAyC,UAAAhB,CAAC;AAAA,6BAAI,OAAI,CAACub,aAAL,CAAmBvb,CAAnB,CAAJ;AAAA,qBAA1C;;AACe,2BAAM,KAAK9F,SAAL,CAAeC,SAAf,EAAN;;;AAATC,0B;;AACQ,2BAAM,KAAKF,SAAL,CAAeshB,QAAf,EAAN;;;AAARC,yB;AACN,yBAAKT,WAAL,GAAmB;AAACU,0BAAI,EAAED,KAAK,IAAI;AAAhB,qBAAnB;AACA,yBAAKjB,SAAL,GAAiB,uDAAMmB,aAAN,CAAoBvhB,MAApB,EAA4B,KAAKwhB,OAAL,CAAazoB,IAAb,CAAkB,IAAlB,CAA5B,CAAjB;AACA,yBAAKkJ,OAAL,CACE,KAAK+d,MAAL,CAAYyB,QAAZ,CAAqB7f,IAArB,CACE,8DAAO,UAAA5L,GAAG;AAAA,6BAAIA,GAAG,CAAC0rB,GAAJ,CAAQ,QAAR,CAAJ;AAAA,qBAAV,CADF,EAEE,2DAAI,UAAA1rB,GAAG;AAAA,6BAAIA,GAAG,CAAC0C,GAAJ,CAAQ,QAAR,CAAJ;AAAA,qBAAP,CAFF,CADF,EAKE,UAAM+C,GAAN;AAAA,6BAAa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACL4J,iCADK,GACD,cADC;;AAAA,oCAEN5J,GAAG,CAAC2B,KAAJ,CAAUiI,CAAV,CAFM;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAMLnG,sCANK,GAMIzD,GAAG,CAACpC,OAAJ,CAAYgM,CAAZ,EAAe,IAAf,CANJ;AAOLsc,qCAPK,GAOGlmB,GAAG,CAACpC,OAAJ,CAAYgM,CAAZ,EAAe,IAAf,CAPH;;AAAA,sCASPnG,MAAM,IAAI,QATH;AAAA;AAAA;AAAA;;AAUT,qCAAK0iB,WAAL,CAAiB,KAAjB,EAAwBzf,SAAxB,EAAmC,CAAC,qDAAalG,QAAb,CAAsB;AAAC2G,uCAAK,EAAE+e;AAAR,iCAAtB,EAAsC,+CAAtC,CAAD,CAAnC;;AAVS;AAAA;;AAAA;AAAA,sCAYFziB,MAAM,IAAI,UAZR;AAAA;AAAA;AAAA;;AAAA,oCAaJ,KAAK2iB,KAbD;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAgBH9W,iCAhBG,GAgBC,KAAK8W,KAAL,CAAWC,IAAX,CAAgBzQ,IAAhB,CAAqB,UAAAtG,CAAC;AAAA,yCAAIA,CAAC,CAACzM,GAAF,IAASqjB,KAAb;AAAA,iCAAtB,CAhBD;;AAAA,oCAiBJ5W,CAjBI;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAoBT,qCAAKrC,KAAL,CAAWC,GAAX,CAAe;AAAA,yCAAM,OAAI,CAACoZ,cAAL,CAAoBhX,CAApB,CAAN;AAAA,iCAAf;;AApBS;AAAA;;AAAA;AAsBN,oCAAI7L,MAAM,IAAI,UAAd,EAA0B;AAC7B,uCAAKwJ,KAAL,CAAWC,GAAX,CAAe;AAAA,2CAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oDACrBgZ,KAAK,IAAI,OADY;AAAA;AAAA;AAAA;;AAEvB,mDAAK1mB,WAAL;AACA,mDAAK0lB,aAAL,GAAqB,IAArB;AACA,mDAAKD,eAAL,GAAuB,UAAvB;AAJuB;;AAAA;AAOzB,mDAAKC,aAAL,GAAqB,KAArB;AACA,mDAAKD,eAAL,GAAuB,MAAvB;;AACA,mDAAKhlB,OAAL,CAAaC,aAAb,CAA2B,EAA3B,EAA+BnG,IAA/B,CAAoC,YAAM;AACxC,uDAAI,CAAC4W,WAAL;AACD,+CAFD;;AATyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAZ;AAAA,mCAAf;AAaD;;AApCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAb;AAAA,qBALF;AA6CA,yBAAKnK,OAAL,CAAa,KAAK+f,IAAL,CAAUC,WAAvB,EAAoC;AAAA,6BAAM,OAAI,CAACC,YAAL,EAAN;AAAA,qBAApC;;;;;;;;;AACD;AA3Gc;AAAA;AAAA,sCA6Getc,CA7Gf,EA6G0B;;;;;;AACvC,yBAAK2G,OAAL,GAAe3G,CAAC,CAAC0H,EAAjB;AACA,yBAAKzE,QAAL,GAAgB,IAAhB;AACA,yBAAKsX,WAAL,GAAmB,KAAK3hB,IAAL,CAAU2jB,YAAV,CAAuBvc,CAAvB,CAAnB;AACA,yBAAK4a,eAAL,GAAuB,KAAvB;;;;;;;;;AACD;AAlHc;AAAA;AAAA,uCAoHUzV,CApHV,EAoHsB;AACnC/T,iBAAO,CAACC,GAAR,CAAY,gBAAZ;;AACA,eAAK4qB,KAAL,CAAWO,QAAX;;AACA,eAAKvZ,QAAL,GAAgBkC,CAAhB;AACA,eAAK2V,eAAL,GAAuB,SAAvB;AACD;AAzHc;AAAA;AAAA,0CA2Ha5T,QA3Hb,EA2HuC;AACpD9V,iBAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsC6V,QAAtC;AACA,eAAK+K,UAAL,GAAkB/K,QAAlB;AACD;AA9Hc;AAAA;AAAA,oCAgIa8D,KAhIb,EAgIgC;;;;;;0BACzC,KAAKiH,UAAL,CAAgB7b,MAAhB,IAA0B,CAA1B,IAA+B,CAAC,KAAK6M,Q;;;;;;;;AAIzC,yBAAKpE,WAAL;;AACA,2BAAM,mDAAG,KAAKqD,OAAL,CAAa8I,KAAb,CAAH,CAAN;;;AACA,wBAAI,KAAK/H,QAAT,EAAmB;AACjB,2BAAKqZ,YAAL;AACD;;AACD,yBAAKjnB,WAAL;;;;;;;;;AACD;AA3Ic;AAAA;AAAA,gCA6IS2V,KA7IT,EA6I4B;;;;;;;;;;AAEzC,wBAAI,KAAK/H,QAAT,EAAmB;AACjB6G,yBAAG,GAAG,KAAKmS,KAAL,CAAWC,IAAX,CAAgBzQ,IAAhB,CAAqB,UAAA9X,CAAC;AAAA,+BAAIA,CAAC,CAAC+E,GAAF,IAAS,OAAI,CAACuK,QAAL,CAAcvK,GAA3B;AAAA,uBAAtB,CAAN;AACD;;AACKkV,uB,GAAM,KAAKqE,UAAL,CAAgB7b,MAAhB,GAAyB,CAAzB,GAA6B,KAAK6b,UAAlC,GAA+C,CAACnI,GAAG,IAAI,KAAK7G,QAAb,C;AACvD9R,uB,GAAa,I;;0BACb6Z,KAAK,IAAI,WAAT,IAAwBA,KAAK,IAAI,a;;;;;;AACzB,2BAAM,mDAAG,KAAKpS,IAAL,CAAU6M,QAAV,CAAmB,KAAKvJ,QAAxB,EAAkC,KAAKyK,OAAvC,EAAgDiH,GAAhD,EAAqD5C,KAAK,IAAI,WAA9D,CAAH,CAAN;;;;;AAAT7Z,uB;;;0BAGC6Z,KAAK,IAAI,Q;;;;;;AACD,2BAAM,mDAAG,KAAKpS,IAAL,CAAU6jB,oBAAV,CAA+B,KAAKvgB,QAApC,EAA8C,KAAKyK,OAAnD,EAA4DiH,GAA5D,CAAH,CAAN;;;;;AAATzc,uB;;AACD,wBAAI,CAACA,GAAL,EAAU;AACR,0BAAIyc,GAAG,CAACxQ,OAAJ,CAAY,KAAK6F,QAAjB,KAA8B,CAAC,CAAnC,EAAsC;AACpC,6BAAKA,QAAL,GAAgB,IAAhB;AACA,6BAAK6X,eAAL,GAAuB,MAAvB;AACD;AACF;;;0BAGC9P,KAAK,IAAI,M;;;;;;AACD,2BAAM,mDAAG,KAAKpS,IAAL,CAAU8jB,QAAV,CAAmB,KAAKxgB,QAAxB,EAAkC,KAAKyK,OAAvC,EAAgDiH,GAAhD,CAAH,CAAN;;;;;AAATzc,uB;;;0BAGC6Z,KAAK,IAAI,S;;;;;;AACD,2BAAM,mDAAG,KAAKpS,IAAL,CAAU+jB,OAAV,CAAkB,KAAKzgB,QAAvB,EAAiC,KAAKyK,OAAtC,EAA+CiH,GAA/C,CAAH,CAAN;;;;;AAATzc,uB;;;AAGH,wBAAIA,GAAJ,EAAS;AACP,2BAAKoE,KAAL,CAAW,6BAAX,EAA0CpE,GAAG,CAACqE,OAA9C;AACD;;;;;;;;;AACF;AA7Kc;AAAA;AAAA,mCA+KM;AACnB,eAAKylB,WAAL,GAAmB,IAAnB;;AACA,eAAKxgB,MAAL,CAAYqN,QAAZ,CAAqB/P,IAArB;AACD;AAlLc;AAAA;AAAA,uCAoLgBuL,KApLhB,EAoL+B;;;;;;AAC5C,yBAAKsX,eAAL,GAAuB,KAAvB;AACA,yBAAK1e,QAAL,GAAgB,IAAhB;AACA,yBAAK2C,WAAL;;AACA,2BAAM,KAAKpE,MAAL,CAAYmiB,iBAAZ,CAA8BtZ,KAAK,CAAC9L,KAAN,CAAY,GAAZ,IAAmB,2DAAnB,GAAyC8L,KAAvE,CAAN;;;AACA,yBAAKL,QAAL,GAAgB,IAAhB;AACA,yBAAK5N,WAAL;;;;;;;;;AACD;AA3Lc;AAAA;AAAA,gCA6LSwnB,IA7LT,EA6LyB;;;;;;0BAClCA,IAAI,CAAC1sB,EAAL,IAAW,U;;;;;;AACb,2BAAM,KAAK2sB,cAAL,CAAoBD,IAAI,CAAC1sB,EAAzB,CAAN;;;;;;AAIF,yBAAK4qB,aAAL,GAAqB,IAArB;;;;;;;;;AACD;AApMc;AAAA;AAAA,oCAsMOthB,IAtMP,EAsM0ByV,GAtM1B,EAsM6C5R,EAtM7C,EAsMkE;AAAA;;AAC/E,cAAMtG,KAAK,GAAGyC,IAAI,IAAI,KAAR,GAAgB,qBAAhB,GAAyC,CAAC,OAAD,EAAU,WAAV,EAAuB2D,OAAvB,CAA+B3D,IAA/B,KAAwC,CAAC,CAAzC,GAA6C,kBAA7C,GAAkE,iBAAzH;AACA,eAAKihB,SAAL,GAAiB,IAAjB;AACA,eAAKC,YAAL,GAAoBlhB,IAApB;AACA,eAAKohB,aAAL,GAAqB7jB,KAArB;AACA,eAAK+lB,eAAL,GAAuB7N,GAAvB;AACA,eAAK4L,eAAL,GAAuB,SAAvB;;AACA,cAAIrhB,IAAI,IAAI,KAAZ,EAAmB;AACjB,iBAAKujB,UAAL,GAAkB1f,EAAlB;AACD;;AACDnB,oBAAU,CAAC,YAAM;AACf,mBAAI,CAAC9G,WAAL;;AACA,mBAAI,CAAColB,QAAL,GAAgB,IAAhB;AACD,WAHS,CAAV;AAID;AApNc;AAAA;AAAA,qCAsNQlc,EAtNR,EAsN+B;AAAA;;AAC5C,eAAKkc,QAAL,GAAgB,KAAhB;AACA,eAAKuC,UAAL,GAAkB,EAAlB;AACA,eAAKD,eAAL,GAAuB,IAAvB;AACA,eAAKjC,eAAL,GAAuB,MAAvB;AACA3e,oBAAU,CAAC;AAAA,mBAAM,OAAI,CAACue,SAAL,GAAiB,KAAvB;AAAA,WAAD,CAAV;;AACA,cAAInc,EAAE,IAAI,MAAV,EAAkB;AAChB,iBAAK0e,QAAL;AACD;AACF;AA/Nc;AAAA;AAAA,uCAiOU;AACvB,eAAKha,QAAL,GAAgB,IAAhB;;AACA,eAAKia,YAAL,CAAkB,QAAlB;;AACA,cAAI,CAAC,EAAD,EAAK,GAAL,EAAU9f,OAAV,CAAkB,KAAKtH,OAAL,CAAaD,GAA/B,KAAuC,CAAC,CAA5C,EAA+C;AAC7C,iBAAKylB,QAAL,CAAc,EAAd;AACD;;AAED,cAAI,KAAKJ,OAAL,CAAaC,QAAjB,EAA2B;AACzB,iBAAKc,KAAL,CAAWO,QAAX;AACD;AACF;AA3Oc;AAAA;AAAA,uCA6OUje,EA7OV,EA6O6B;AAC1C,eAAKyd,WAAL,CAAiBzd,EAAE,CAAC9E,IAApB,EAA0B8E,EAAE,CAAC/I,OAA7B,EAAqD,CAAC+I,EAAE,CAACmG,OAAJ,CAArD;AACD;AA/Oc;AAAA;AAAA,yCAiPY;AACzB,eAAKoW,eAAL,GAAuB,UAAvB;AACA,eAAKF,eAAL,GAAuB,KAAvB;AACD;AApPc;;AAAA;AAAA,MAAS,mDAAT,CAAjB;;;;cAiC8B;;;;AAhCb,8DAAd,6DAAS,iDAAT,CAAc,G,cAAA,E,MAAA,E,MAAA;AACG,8DAAjB,6DAAS,uDAAT,CAAiB,G,cAAA,E,SAAA,E,MAAA;AACD,8DAAhB,6DAAS,sDAAT,CAAgB,G,cAAA,E,QAAA,E,MAAA;AACG,8DAAnB,6DAAS,4DAAT,CAAmB,G,cAAA,E,WAAA,E,MAAA;AACA,8DAAnB,6DAAS,2DAAT,CAAmB,G,cAAA,E,WAAA,E,MAAA;AACF,8DAAjB,6DAAS,oDAAT,CAAiB,G,cAAA,E,OAAA,E,MAAA;AACI,8DAArB,6DAAS,gEAAT,CAAqB,G,cAAA,E,MAAA,E,MAAA;AAEsB,8DAA3C,gEAAU,cAAV,EAA0B;AAAC,gBAAQ;AAAT,KAA1B,CAA2C,G,cAAA,E,OAAA,E,MAAA;AA8B5C,8DADC,4DAAQ,MAAR,CACD,G,cAAA,E,SAAA,E,IAAA;AAvCWT,QAAI,6DANhB,gEAAU;AACTlf,cAAQ,EAAE,UADD;AAETC,cAAQ,EAAR;AAAA;AAAA,+EAFS;AAITiG,mBAAa,EAAE,gEAAkBC,IAJxB;;;;AAAA,KAAV,CAMgB,GAAJ+Y,IAAI,CAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTb,QAAahJ,IAAI;AAAA;;AAAA;;AAWf,sBAAc;AAAA;;AAAA;;AACZ;AAJQ,gBAAAgM,OAAA,GAAmB,IAAnB;AACA,gBAAAC,MAAA,GAAkB,KAAlB;;AAIR,gBAAKC,cAAL;;AACA,gBAAKhhB,OAAL,CAAa,QAAKzD,IAAL,CAAU2N,MAAvB,EAA+B,UAAAxN,MAAM,EAAI;AACvC,cAAI,CAACA,MAAL,EAAa;AACX,oBAAKuiB,QAAL,CAAc,gBAAd;;AACA,oBAAK8B,MAAL,GAAc,IAAd;AACA;AACD;;AACD,kBAAKA,MAAL,GAAc,IAAd;AACD,SAPD;;AAHY;AAWb;;AAtBc;AAAA;AAAA,yCAwBU;AAAA;;AACvB,eAAK9iB,SAAL,CAAegjB,KAAf,GAAuB1tB,IAAvB,CAA4B,YAAM;AAChC,mBAAI,CAACutB,OAAL,GAAe,OAAI,CAACjC,OAAL,CAAaC,QAA5B;;AACA,mBAAI,CAACoC,OAAL,CAAaC,IAAb;;AACA,gBAAI,OAAI,CAACljB,SAAL,CAAeC,EAAf,CAAkB,SAAlB,CAAJ,EAAkC;AAChC;AACD;;AACD,mBAAI,CAAC8B,OAAL,CAAa,OAAI,CAACjD,OAAL,CAAaqkB,QAAb,GAAwBzhB,IAAxB,CACX,8DAAO,UAAA0D,CAAC;AAAA,qBAAIA,CAAC,CAACpG,MAAF,IAAY,OAAI,CAACF,OAAL,CAAaG,WAAzB,IAAwC,CAAC,CAACmG,CAAC,CAAC,MAAD,CAA/C;AAAA,aAAR,CADW,CAAb,EAEG,UAAAA,CAAC;AAAA,qBAAI,OAAI,CAACoD,KAAL,CAAWC,GAAX,CAAe;AAAA,uBAAM,OAAI,CAACuY,QAAL,CAAc5b,CAAC,CAAC,MAAD,CAAf,CAAN;AAAA,eAAf,CAAJ;AAAA,aAFJ;AAGD,WATD;AAUD;AAnCc;;AAAA;AAAA,MAAS,mDAAT,CAAjB;;AACsB,8DAAnB,6DAAS,uDAAT,CAAmB,G,cAAA,E,WAAA,E,MAAA;AACI,8DAAvB,6DAAS,4EAAT,CAAuB,G,cAAA,E,SAAA,E,MAAA;AACN,8DAAjB,6DAAS,uDAAT,CAAiB,G,cAAA,E,SAAA,E,MAAA;AACH,8DAAd,6DAAS,iDAAT,CAAc,G,cAAA,E,MAAA,E,MAAA;AACM,8DAApB,6DAAS,sEAAT,CAAoB,G,cAAA,E,SAAA,E,MAAA;AACH,8DAAjB,6DAAS,oDAAT,CAAiB,G,cAAA,E,OAAA,E,MAAA;AANPyR,QAAI,6DANhB,gEAAU;AACTlW,cAAQ,EAAE,WADD;AAETC,cAAQ,EAAR;AAAA;AAAA,+EAFS;AAITiG,mBAAa,EAAE,gEAAkBC,IAJxB;;;;AAAA,KAAV,CAMgB,GAAJ+P,IAAI,CAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJb,QAAauM,UAAU;AAAA;;AAAA;;AAAvB;AAAA;;AAAA;;;AAKY,gBAAAza,QAAA,GAAoB,IAApB;AACA,gBAAAX,KAAA,GAAqB,IAArB;AANZ;AAsCC;;AAtCsB;AAAA;AAAA,kCAWK;;;;;;;;AACxB,yBAAKqb,QAAL,GAAgB,qDAAatnB,QAAb,CAA+B;AAAC2G,2BAAK,EAAE,gBAAR;AAA0BgS,iCAAW,EAAE;AAAvC,qBAA/B,EAAyF,+CAAzF,CAAhB;AACA,yBAAKnQ,WAAL;AACA,yBAAKxC,OAAL,CAAa,KAAK5B,MAAL,CAAY6B,eAAzB,EAA0C,UAAMxD,OAAN;AAAA,6BAAiB;AAAA;AAAA;AAAA;AAAA;AACzD,qCAAKoD,QAAL,GAAgBpD,OAAhB;AACA,qCAAKzD,WAAL,GAFyD,CAGzD;;AAHyD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAjB;AAAA,qBAA1C;;;;;;;;;AAKD;AAnBoB;AAAA;AAAA,sCAqBG2K,CArBH,EAqBc;AACjC5O,iBAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B2O,CAA/B;AACA,eAAK2G,OAAL,GAAe3G,CAAC,CAAC0H,EAAjB;AACD;AAxBoB;AAAA;AAAA,uCA0BIvC,CA1BJ,EA0BgB;AACnC,eAAKlC,QAAL,GAAgBkC,CAAhB;AACA/T,iBAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B8T,CAA1B;AACD;AA7BoB;AAAA;AAAA,uCA+BI5G,EA/BJ,EA+BuB;AAC1CnN,iBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BkN,EAA7B;AACD;AAjCoB;AAAA;AAAA,gCAmCHA,EAnCG,EAmCuB;AAC1CnN,iBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BkN,EAA5B;AACD;AArCoB;;AAAA;AAAA,MAAS,mDAAT,CAAvB;;AACmB,8DAAhB,6DAAS,qDAAT,CAAgB,G,oBAAA,E,QAAA,E,MAAA;AACF,8DAAd,6DAAS,iDAAT,CAAc,G,oBAAA,E,MAAA,E,MAAA;AASf,8DADC,4DAAQ,MAAR,CACD,G,oBAAA,E,SAAA,E,IAAA;AAXWmf,cAAU,6DAJtB,gEAAU;AACTziB,cAAQ,EAAE,eADD;AAETC,cAAQ,EAAR;AAAA;AAAA;AAFS,KAAV,CAIsB,GAAVwiB,UAAU,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKb,QAAaE,QAAQ;AAAA;;AAAA;;AAArB;AAAA;;AAAA;;;AAOY,gBAAAC,SAAA,GAAqB,KAArB;AACA,gBAAAld,QAAA,GAAoB,IAApB;AACA,gBAAAmd,SAAA,GAAqB,KAArB;AATZ;AAgGC;;AAhGoB;AAAA;AAAA,kCAYO;;;;;;;AACV,2BAAM,KAAK5jB,SAAL,CAAe6jB,WAArB;;;AAAd,yBAAK9gB,M;;AACL,wBAAI,CAAC,KAAKA,MAAL,CAAY7C,MAAjB,EAAyB;AACvB,2BAAK6C,MAAL,CAAY7C,MAAZ,GAAqB,IAAI,qDAAJ,EAArB;AACA,2BAAK6C,MAAL,CAAY7C,MAAZ,CAAmByJ,KAAnB,GAA2B,EAA3B;AACD;;;;;;;;;AACF;AAlBkB;AAAA;AAAA,mCAoBE6H,KApBF,EAoBkB;AACnC,eAAKoS,SAAL,GAAiBpS,KAAjB;AACD;AAtBkB;AAAA;AAAA,gCAwBD/H,IAxBC,EAwBkB;AACnC,eAAK1G,MAAL,CAAY7C,MAAZ,CAAmByJ,KAAnB,GAA2B,KAAK5G,MAAL,CAAY7C,MAAZ,CAAmByJ,KAAnB,CAAyBzH,MAAzB,CAAgC,UAAAif,CAAC;AAAA,mBAAIA,CAAC,CAAC/X,KAAF,IAAWK,IAAI,CAACL,KAApB;AAAA,WAAjC,CAA3B;AACD;AA1BkB;AAAA;AAAA,+BA4BF;AACf,eAAKrG,MAAL,CAAY7C,MAAZ,CAAmByJ,KAAnB,CAAyBnP,IAAzB,CAA8B,IAAI,mDAAJ,EAA9B;AACD;AA9BkB;AAAA;AAAA,wCAgCK;AACtB,iBAAO,KAAKkE,IAAL,CAAU2N,MAAV,CAAiBvK,IAAjB,CAAsB,4DAAK,CAAL,CAAtB,EAA+BmC,SAA/B,EAAP;AACD;AAlCkB;AAAA;AAAA,gCAoCK;;;;;;;;0BAClB,CAAC,KAAKlB,MAAL,CAAY7C,MAAb,IAAuB,CAACpH,KAAK,CAACC,OAAN,CAAc,KAAKgK,MAAL,CAAY7C,MAAZ,CAAmByJ,KAAjC,CAAxB,IAAmE,KAAK5G,MAAL,CAAY7C,MAAZ,CAAmByJ,KAAnB,CAAyBzN,MAAzB,IAAmC,C;;;;;AACxG,yBAAKb,KAAL,CAAW,uCAAX,EAAoD,EAApD;;;;;AAGY,2BAAM,KAAK2E,SAAL,CAAe8jB,kBAAf,CAAkC,KAAK/gB,MAAL,CAAY7C,MAA9C,CAAN;;;AAARyJ,yB;;0BACFA,KAAK,CAACzN,MAAN,GAAe,C;;;;;AACjB,yBAAKyI,WAAL,G,CACA;AACA;;AACMzE,0B,GAAS,IAAI,qDAAJ,E;AACfA,0BAAM,CAACvE,GAAP,GAAa,KAAKoH,MAAL,CAAY7C,MAAZ,CAAmBvE,GAAhC;AACAuE,0BAAM,CAACyJ,KAAP,GAAe,EAAf;;AACA,2BAAM,KAAK3J,SAAL,CAAe+jB,SAAf,CAAyB7jB,MAAzB,CAAN;;;;AACA,2BAAM,KAAK8jB,aAAL,EAAN;;;;AACsB,2BAAM,mDAAG,KAAKtlB,IAAL,CAAU8e,KAAV,CAAgB7T,KAAhB,CAAH,CAAN;;;;;AAAf1S,uB;AAAK4H,0B;AACZ,yBAAK8kB,SAAL,GAAiB,IAAjB;AACA,yBAAKxoB,WAAL;;0BAEIlE,GAAG,IAAI,CAAC4H,M;;;;;AACV,yBAAKxD,KAAL,CAAW,sCAAX,EAAmD,EAAnD;AACAnE,2BAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,GAAtB;;;;;AAIF,2BAAM,KAAK+sB,aAAL,EAAN;;;;AAEY,2BAAM,KAAK7W,MAAL,CAAY8W,iBAAZ,EAAN;;;AAAR7a,yB;AACFiG,qB,GAAa,K;;AACjB,wBAAIjG,KAAK,IAAI,2DAAT,IAAgC,CAAC,KAAKrG,MAAL,CAAY7C,MAAZ,CAAmByJ,KAAnB,CAAyB4H,IAAzB,CAA8B,UAAA4P,CAAC;AAAA,6BAAIA,CAAC,CAAC/X,KAAF,IAAWA,KAAf;AAAA,qBAA/B,CAArC,EAA2F;AACzFiG,uBAAC,GAAG,IAAJ;AACD;;;AACD,2BAAM,KAAKrP,SAAL,CAAekkB,YAAf,CAA4B,KAAKnhB,MAAjC,CAAN;;;yBACIsM,C;;;;;;AACF,2BAAM,KAAK9O,MAAL,CAAYmiB,iBAAZ,CAA8B,KAAK3f,MAAL,CAAY7C,MAAZ,CAAmByJ,KAAnB,CAAyB,CAAzB,EAA4BP,KAA1D,CAAN;;;AACA,yBAAKgY,QAAL,CAAc,EAAd,EAAkB1rB,IAAlB,CAAuB;AAAA,6BAAMsQ,MAAM,CAACqU,QAAP,CAAgB8J,MAAhB,EAAN;AAAA,qBAAvB;;;;;AAGF,2BAAM,KAAK5jB,MAAL,CAAYmiB,iBAAZ,CAA8B,IAA9B,CAAN;;;AACA,yBAAKtB,QAAL,CAAc,gBAAd,E,CACA;AACA;;;;;;;;;AACD;AA9EkB;AAAA;AAAA,0CAgFe;;;;;;;;AAChC,yBAAKzc,WAAL;;AACsB,2BAAM,mDAAG,KAAKzG,GAAL,CAASsf,KAAT,CAAe,KAAKza,MAAL,CAAYqhB,YAA3B,CAAH,CAAN;;;;;AAAfntB,uB;AAAK4H,0B;;yBAER5H,G;;;;;AACFC,2BAAO,CAACkE,KAAR,CAAcnE,GAAd;AACA,yBAAKoE,KAAL,CAAW,kDAAX,EAA+DpE,GAAG,CAACqE,OAAnE;AACA,yBAAKH,WAAL;;;;AAIF,yBAAK6E,SAAL,CAAeqkB,iBAAf,CAAiCxlB,MAAjC;;AACA,yBAAKxD,KAAL,CAAW,0CAAX,EAAuD,EAAvD,EAA2D,SAA3D,EAAsE,IAAtE;AACA,yBAAKF,WAAL;;;;;;;;;;AAED;AA/FkB;;AAAA;AAAA,MAAS,mDAAT,CAArB;;AACmB,8DAAhB,6DAAS,qDAAT,CAAgB,G,kBAAA,E,QAAA,E,MAAA;AACF,8DAAd,6DAAS,iDAAT,CAAc,G,kBAAA,E,MAAA,E,MAAA;AACE,8DAAhB,6DAAS,qDAAT,CAAgB,G,kBAAA,E,QAAA,E,MAAA;AACU,8DAA1B,6DAAS,2DAAT,CAA0B,G,kBAAA,E,WAAA,E,MAAA;AACN,8DAApB,6DAAS,+DAAT,CAAoB,G,kBAAA,E,KAAA,E,MAAA;AAOrB,8DADC,4DAAQ,MAAR,CACD,G,kBAAA,E,SAAA,E,IAAA;AAZWuoB,YAAQ,6DANpB,gEAAU;AACT3iB,cAAQ,EAAE,aADD;AAETC,cAAQ,EAAR;AAAA;AAAA,mFAFS;AAITiG,mBAAa,EAAE,gEAAkBC,IAJxB;;;;AAAA,KAAV,CAMoB,GAARwc,QAAQ,CAAR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFb,QAAaY,WAAW;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACLC,OADK,EACiB;AAAA;;AACrC,cAAI,CAACA,OAAD,IAAY,CAACzrB,KAAK,CAACC,OAAN,CAAcwrB,OAAd,CAAjB,EAAyC;AACvC,mBAAO,EAAP;AACD;;AACD,iBAAOA,OAAO,CAACruB,GAAR,CAAY,UAAA4P,CAAC;AAAA,mBAAe;AACjC+B,mBAAK,EAAE/B,CAAC,CAACuN,MAAF,GAAW,CAAX,aAAkBvN,CAAC,CAACwN,IAApB,eAA6BxN,CAAC,CAACuN,MAA/B,SAA2CvN,CAAC,CAACwN,IADnB;AAEjC6E,sBAAQ,EAAE,OAAI,CAACqM,SAAL,CAAe1e,CAAC,CAACyN,UAAjB,CAFuB;AAGjCzB,kBAAI,EAAEhM,CAH2B;AAIjCoZ,wBAAU,EAAEpZ,CAAC,CAACyN,UAAF,CAAarX,MAAb,IAAuB;AAJF,aAAf;AAAA,WAAb,CAAP;AAMD;AAXqB;;AAAA;AAAA,MAAS,+CAAT,CAAxB;;AAAaooB,eAAW,6DADvB,2DAAK;AAAC5rB,UAAI,EAAE;AAAP,KAAL,CACuB,GAAX4rB,WAAW,CAAX;;AAeb,QAAaG,aAAa;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACPnf,KADO,EACoB;AAC1C,iBAAOA,KAAK,CAACpP,GAAN,CAAU,UAAA4P,CAAC;AAAA,mBAAe;AAC/B+B,mBAAK,EAAE/B,CAAC,CAACkZ,QADsB;AAE/B9G,kBAAI,EAAEpS,CAAC,CAACvG,IAAF,IAAU,MAFe;AAG/BuS,kBAAI,EAAEhM;AAHyB,aAAf;AAAA,WAAX,CAAP;AAKD;AAPuB;;AAAA;AAAA,MAAS,+CAAT,CAA1B;;AAAa2e,iBAAa,6DADzB,2DAAK;AAAC/rB,UAAI,EAAE;AAAP,KAAL,CACyB,GAAb+rB,aAAa,CAAb;;AAWb,QAAaC,WAAW;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,+BAEP5e,CAFO,EAEI;AACxB,iBAAOA,CAAC,CAACuN,MAAF,GAAW,CAAX,aAAkBvN,CAAC,CAACwN,IAApB,eAA6BxN,CAAC,CAACuN,MAA/B,SAA2CvN,CAAC,CAACwN,IAApD;AACD;AAJqB;AAAA;AAAA,kCAKZhT,MALY,EAKE;AAAA;;AACtB,iBAAO,mDACL,gDAAG,KAAKqkB,MAAL,CAAYrkB,MAAZ,CAAH,CADK,EAEL,KAAK5B,IAAL,CAAUkmB,cAAV,CAAyB9iB,IAAzB,CAA8B,8DAAO,UAAAgE,CAAC;AAAA,mBAAIA,CAAC,CAAC0H,EAAF,IAAQlN,MAAM,CAACkN,EAAnB;AAAA,WAAR,CAA9B,CAFK,EAGL1L,IAHK,CAIL,2DAAI,UAAAjD,MAAM,EAAI;AACZ,gBAAI,OAAOA,MAAP,IAAkB,QAAtB,EAAgC;AAC9B,qBAAOA,MAAP;AACD;;AAED,mBAAO,OAAI,CAAC8lB,MAAL,CAAY9lB,MAAZ,CAAP;AACD,WAND,CAJK,CAAP;AAYD;AAlBqB;;AAAA;AAAA,MAAS,+CAAT,CAAxB;;AACiB,8DAAd,6DAAS,iDAAT,CAAc,G,qBAAA,E,MAAA,E,MAAA;AADJ6lB,eAAW,6DADvB,2DAAK;AAAChsB,UAAI,EAAE;AAAP,KAAL,CACuB,GAAXgsB,WAAW,CAAX;;AAsBb,QAAaG,eAAe;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCAChB5Z,CADgB,EACF;AACtB,iBAAO,sDAAM6Z,iBAAN,CAAwB7Z,CAAC,CAACnN,WAA1B,CAAP;AACD;AAHyB;;AAAA;AAAA,MAAS,+CAAT,CAA5B;;AAAa+mB,mBAAe,6DAD3B,2DAAK;AAACnsB,UAAI,EAAE;AAAP,KAAL,CAC2B,GAAfmsB,eAAe,CAAf;;AAOb,QAAaE,WAAW;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,iCACLC,EADK,EACKC,EADL,EACa;AACjC,iBAAOD,EAAE,CAAChH,WAAH,MAAoBiH,EAAE,CAACjH,WAAH,EAApB,IAAwCgH,EAAE,CAAClH,QAAH,MAAiBmH,EAAE,CAACnH,QAAH,EAAzD,IAA0EkH,EAAE,CAACnH,OAAH,MAAgBoH,EAAE,CAACpH,OAAH,EAAjG;AACD;AAHqB;AAAA;AAAA,kCAKLviB,OALK,EAKW;AAC/B,cAAM0pB,EAAE,GAAG,IAAI5W,IAAJ,EAAX;AACA,cAAM6W,EAAE,GAAG,IAAI7W,IAAJ,CAAS9S,OAAO,CAACkT,cAAR,GAAyB,IAAlC,CAAX;;AACA,cAAI,KAAK0W,QAAL,CAAcF,EAAd,EAAkBC,EAAlB,CAAJ,EAA2B;AACzB,mBAAO,uCAAU,CAACA,EAAD,EAAK,OAAL,CAAjB;AACD;;AAED,cAAME,EAAE,GAAG,IAAI/W,IAAJ,CAAS6W,EAAE,CAACG,OAAH,KAAe,KAAK,EAAL,GAAU,EAAV,GAAe,IAAvC,CAAX;;AACA,cAAI,KAAKF,QAAL,CAAcF,EAAd,EAAkBG,EAAlB,CAAJ,EAA2B;AACzB,mBAAO,gBAAgB,uCAAU,CAACF,EAAD,EAAK,OAAL,CAAjC;AACD;;AAED,cAAID,EAAE,CAACI,OAAH,KAAeH,EAAE,CAACG,OAAH,EAAf,IAA+B,KAAK,EAAL,GAAU,EAAV,GAAe,EAAf,GAAoB,IAAvD,EAA6D;AAC3D,mBAAO,uCAAU,CAACH,EAAD,EAAK,QAAL,CAAjB;AACD;;AAED,iBAAO,uCAAU,CAACA,EAAD,EAAK,cAAL,CAAjB;AACD;AAtBqB;;AAAA;AAAA,MAAS,+CAAT,CAAxB;;AAAaF,eAAW,6DADvB,2DAAK;AAACrsB,UAAI,EAAE;AAAP,KAAL,CACuB,GAAXqsB,WAAW,CAAX;;AA0Bb,QAAaM,WAAW;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACLrQ,GADK,EACO;AAC3B,cAAI,CAACA,GAAG,CAACC,IAAL,IAAaD,GAAG,CAACC,IAAJ,CAAS7B,KAAT,GAAiB,CAAlC,EAAqC;AACnC,mBAAO,IAAP;AACD;;AAED,iBAAO4B,GAAG,CAACC,IAAJ,CAAS1L,UAAT,CAAoB,CAApB,CAAP;AACD;AAPqB;;AAAA;AAAA,MAAS,+CAAT,CAAxB;;AAAa8b,eAAW,6DADvB,2DAAK;AAAC3sB,UAAI,EAAE;AAAP,KAAL,CACuB,GAAX2sB,WAAW,CAAX;;AAWb,QAAaC,cAAc;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACf9rB,CADe,EACL;AAClB,iBAAOA,CAAC,CAACsb,WAAF,IAAiBtb,CAAC,CAACsJ,KAA1B;AACD;AAHwB;;AAAA;AAAA,MAAS,+CAAT,CAA3B;;AAAawiB,kBAAc,6DAD1B,2DAAK;AAAC5sB,UAAI,EAAE;AAAP,KAAL,CAC0B,GAAd4sB,cAAc,CAAd;;AAOb,QAAaC,kBAAkB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACnB/rB,CADmB,EACT;AAClB,cAAMgsB,MAAM,GAAG,SAATA,MAAS,CAACnW,CAAD;AAAA,yDAA4CA,CAA5C;AAAA,WAAf;;AACA,iBAAO7V,CAAC,CAACsb,WAAF,aAAmBtb,CAAC,CAACsb,WAArB,eAAqC0Q,MAAM,CAAChsB,CAAC,CAACsJ,KAAH,CAA3C,SAA0D0iB,MAAM,CAAChsB,CAAC,CAACsJ,KAAH,CAAvE;AACD;AAJ4B;;AAAA;AAAA,MAAS,+CAAT,CAA/B;;AAAayiB,sBAAkB,6DAD9B,2DAAK;AAAC7sB,UAAI,EAAE;AAAP,KAAL,CAC8B,GAAlB6sB,kBAAkB,CAAlB;;AAQb,QAAaE,MAAM;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCAEPC,IAFO,EAEK;AACpB,iBAAO,KAAKC,UAAL,CAAgBC,uBAAhB,CAAwCF,IAAxC,CAAP;AACD;AAJgB;;AAAA;AAAA,MAAS,+CAAT,CAAnB;;AAC+B,8DAA5B,6DAAc,uEAAd,CAA4B,G,gBAAA,E,YAAA,E,MAAA;AADlBD,UAAM,6DADlB,2DAAK;AAAC/sB,UAAI,EAAE;AAAP,KAAL,CACkB,GAAN+sB,MAAM,CAAN;;AAQb,QAAaI,eAAe;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCAChBrsB,CADgB,EACL;AACnB,cAAMssB,UAAU,GAAG,sDAAMhB,iBAAN,CAAwBtrB,CAAxB,CAAnB;;AACA,cAAIssB,UAAU,CAAC5pB,MAAX,IAAqB,CAAzB,EAA4B;AAC1B,mBAAO,EAAP;AACD;;AAED,cAAM4F,IAAI,GAAG,IAAIyjB,kBAAJ,EAAb;AACA,iBAAOO,UAAU,CACd5vB,GADI,CACA,UAAAsD,CAAC;AAAA,mBAAIsI,IAAI,CAAC0iB,SAAL,CAAehrB,CAAf,CAAJ;AAAA,WADD,EAEJ0a,MAFI,CAEG,UAACC,GAAD,EAAMva,CAAN;AAAA,mBAAYua,GAAG,IAAIA,GAAG,IAAI,EAAP,GAAY,EAAZ,GAAiB,IAArB,CAAH,GAAgCva,CAA5C;AAAA,WAFH,EAEkD,EAFlD,CAAP;AAGD;AAXyB;;AAAA;AAAA,MAAS,+CAAT,CAA5B;;AAAaisB,mBAAe,6DAD3B,2DAAK;AAACntB,UAAI,EAAE;AAAP,KAAL,CAC2B,GAAfmtB,eAAe,CAAf;;AAeb,QAAaE,aAAa;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACdvsB,CADc,EACD;AACrB,iBAAO,sDAAMsrB,iBAAN,CAAwBtrB,CAAxB,CAAP;AACD;AAHuB;;AAAA;AAAA,MAAS,+CAAT,CAA1B;;AAAausB,iBAAa,6DADzB,2DAAK;AAACrtB,UAAI,EAAE;AAAP,KAAL,CACyB,GAAbqtB,aAAa,CAAb;;AAOb,QAAaC,WAAW;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACLxsB,CADK,EACK;AACzB,iBAAO,sDAAMysB,WAAN,CAAkBzsB,CAAlB,CAAP;AACD;AAHqB;;AAAA;AAAA,MAAS,+CAAT,CAAxB;;AAAawsB,eAAW,6DADvB,2DAAK;AAACttB,UAAI,EAAE;AAAP,KAAL,CACuB,GAAXstB,WAAW,CAAX;;AAOb,QAAaE,gBAAgB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACV9nB,CADU,EACA;AACzB,iBAAO,qDAAajC,QAAb,CAA+B;AAAC2G,iBAAK,EAAE1E,CAAC,CAAC0E,KAAV;AAAiBgS,uBAAW,EAAE1W,CAAC,CAAC+nB;AAAhC,WAA/B,EAA8E,+CAA9E,CAAP;AACD;AAH0B;;AAAA;AAAA,MAAS,+CAAT,CAA7B;;AAAaD,oBAAgB,6DAD5B,2DAAK;AAACxtB,UAAI,EAAE;AAAP,KAAL,CAC4B,GAAhBwtB,gBAAgB,CAAhB;;AAOb,QAAaE,UAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACJ5sB,CADI,EACM;AACzB,cAAM6V,CAAC,GAAG7V,CAAC,CAACsb,WAAF,IAAiBtb,CAAC,CAACsJ,KAA7B;AACA,iBAAOuM,CAAC,CAACgX,MAAF,CAAS,CAAT,EAAY,CAAZ,EAAeC,WAAf,EAAP;AACD;AAJoB;;AAAA;AAAA,MAAS,+CAAT,CAAvB;;AAAaF,cAAU,6DADtB,2DAAK;AAAC1tB,UAAI,EAAE;AAAP,KAAL,CACsB,GAAV0tB,UAAU,CAAV;;AAQb,QAAaG,aAAa;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACPC,IADO,EACK;AAC3B,cAAI,CAACA,IAAL,EAAW;AACT,mBAAO,EAAP;AACD;;AACD,cAAMhhB,CAAC,GAAG9L,IAAI,CAAC+sB,KAAL,CAAY/sB,IAAI,CAACvC,GAAL,CAASqvB,IAAT,IAAiB9sB,IAAI,CAACvC,GAAL,CAAS,IAAT,CAA7B,CAAV;AACA,iBAAO,CAAEqvB,IAAI,GAAG9sB,IAAI,CAACgtB,GAAL,CAAS,IAAT,EAAelhB,CAAf,CAAT,EAA6BmhB,OAA7B,CAAqC,CAArC,IAA0C,GAA1C,GAAgD,CAAC,GAAD,EAAM,IAAN,EAAY,IAAZ,EAAkB,IAAlB,EAAwB,IAAxB,EAA8BnhB,CAA9B,CAAvD;AACD;AAPuB;;AAAA;AAAA,MAAS,+CAAT,CAA1B;;AAAa+gB,iBAAa,6DADzB,2DAAK;AAAC7tB,UAAI,EAAE;AAAP,KAAL,CACyB,GAAb6tB,aAAa,CAAb;;AAWb,QAAaK,YAAY;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACNxoB,CADM,EACO;AAC5B,cAAIA,CAAC,CAACoB,QAAF,CAAWlC,KAAX,CAAiB,MAAjB,CAAJ,EAA8B;AAC5B,mBAAO,YAAP;AACD;;AAED,cAAIc,CAAC,CAACoB,QAAF,CAAWlC,KAAX,CAAiB,WAAjB,CAAJ,EAAoC;AAClC,mBAAO,aAAP;AACD;;AAED,cAAIc,CAAC,CAACoB,QAAF,CAAWlC,KAAX,CAAiB,QAAjB,CAAJ,EAAgC;AAC9B,mBAAO,cAAP;AACD;;AAED,cAAIc,CAAC,CAACoB,QAAF,CAAWlC,KAAX,CAAiB,OAAjB,CAAJ,EAA+B;AAC7B,mBAAO,aAAP;AACD;;AAED,cAAIc,CAAC,CAACoB,QAAF,CAAWlC,KAAX,CAAiB,uBAAjB,CAAJ,EAA+C;AAC7C,mBAAO,cAAP;AACD;;AAED,iBAAO,QAAP;AACD;AAvBsB;;AAAA;AAAA,MAAS,+CAAT,CAAzB;;AAAaspB,gBAAY,6DADxB,2DAAK;AAACluB,UAAI,EAAE;AAAP,KAAL,CACwB,GAAZkuB,YAAY,CAAZ;;AA2Bb,QAAaC,YAAY;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACNzoB,CADM,EACI;AACzB,cAAI,CAACA,CAAL,EAAQ;AACN,mBAAO,EAAP;AACD;;AAED,iBAAOA,CAAC,CAAC+nB,YAAF,aAAoB/nB,CAAC,CAAC+nB,YAAtB,eAAuC/nB,CAAC,CAAC0E,KAAzC,SAAoD1E,CAAC,CAAC0E,KAA7D;AACD;AAPsB;;AAAA;AAAA,MAAS,+CAAT,CAAzB;;AAAa+jB,gBAAY,6DADxB,2DAAK;AAACnuB,UAAI,EAAE;AAAP,KAAL,CACwB,GAAZmuB,YAAY,CAAZ;;AAWb,QAAaC,WAAW;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCAEL9R,GAFK,EAEO;AAAA;;AAC3B,iBAAO,KAAK+R,QAAL,CAAc3kB,eAAd,CAA8BN,IAA9B,CACL,2DAAI,UAAAlD,OAAO,EAAI;AACb,gBAAIA,OAAO,CAAC6B,SAAR,IAAqB,2DAAzB,EAA8C;AAC5C,qBAAO,EAAP;AACD;;AAAA;;AAED,gBAAMrC,CAAC,GAAG,OAAI,CAAC2oB,QAAL,CAAcvmB,WAAd,CAA0BwU,GAAG,CAACvU,SAA9B,CAAV;;AAEA,gBAAI,CAACrC,CAAL,EAAQ;AACN,qBAAO,EAAP;AACD;;AAED,gBAAM0D,IAAI,GAAG,IAAIokB,gBAAJ,EAAb;AAEA,mBAAO;AAACc,yBAAW,uBAAgB,sDAAMf,WAAN,CAAkBnkB,IAAI,CAAC0iB,SAAL,CAAepmB,CAAf,CAAlB,CAAhB;AAAZ,aAAP;AACD,WAdD,CADK,CAAP;AAiBD;AApBqB;;AAAA;AAAA,MAAS,+CAAT,CAAxB;;AACmB,8DAAhB,6DAAS,sDAAT,CAAgB,G,qBAAA,E,UAAA,E,MAAA;AADN0oB,eAAW,6DADvB,2DAAK;AAACpuB,UAAI,EAAE;AAAP,KAAL,CACuB,GAAXouB,WAAW,CAAX;;AAwBb,QAAaG,iBAAiB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACX7oB,CADW,EACD;AACzB,iBAAOA,CAAC,CAACqC,SAAF,IAAe,2DAAtB;AACD;AAH2B;;AAAA;AAAA,MAAS,+CAAT,CAA9B;;AAAawmB,qBAAiB,6DAD7B,2DAAK;AAACvuB,UAAI,EAAE;AAAP,KAAL,CAC6B,GAAjBuuB,iBAAiB,CAAjB;;AAOb,QAAa7T,KAAK;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACChV,CADD,EACc;AAC5B,cAAI,CAACtF,KAAK,CAACC,OAAN,CAAcqF,CAAd,CAAL,EAAuB;AACrB,mBAAO,CAAP;AACD;;AAAA;AAED,iBAAOA,CAAC,CAAClC,MAAT;AACD;AAPe;;AAAA;AAAA,MAAS,+CAAT,CAAlB;;AAAakX,SAAK,6DADjB,2DAAK;AAAC1a,UAAI,EAAE;AAAP,KAAL,CACiB,GAAL0a,KAAK,CAAL;;AAWb,QAAa8T,UAAU;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,gCACL3C,OADK,EACiB;AACpC,cAAIA,OAAO,CAACroB,MAAR,IAAkB,CAAtB,EAAyB;AACvB,mBAAO,KAAP;AACD;;AAED,cAAM4J,CAAC,GAAGye,OAAO,CAAChT,IAAR,CAAa,UAAAzL,CAAC;AAAA,mBAAIA,CAAC,CAAC0H,EAAF,IAAQ,gDAAZ;AAAA,WAAd,CAAV;;AACA,cAAI1H,CAAJ,EAAO;AACL,mBAAO,IAAP;AACD;;AAED,iBAAO,KAAKgG,OAAL,CAAayY,OAAO,CAACruB,GAAR,CAAY,UAAA4P,CAAC;AAAA,mBAAIA,CAAC,CAACyN,UAAN;AAAA,WAAb,EAA+BW,MAA/B,CAAsC,UAACC,GAAD,EAAMva,CAAN;AAAA,mBAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,WAAtC,EAAiE,EAAjE,CAAb,CAAP;AACD;AAZoB;AAAA;AAAA,kCAaJwE,CAbI,EAaQ+oB,QAbR,EAawB;AAC3C,cAAI,CAAC/oB,CAAD,IAAM+oB,QAAQ,IAAI,gDAAtB,EAAgC;AAC9B,mBAAO,KAAP;AACD;;AAED,iBAAO,KAAKrb,OAAL,CAAa1N,CAAC,CAACmP,YAAf,CAAP;AACD;AAnBoB;;AAAA;AAAA,MAAS,+CAAT,CAAvB;;AAAa2Z,cAAU,6DADtB,2DAAK;AAACxuB,UAAI,EAAE;AAAP,KAAL,CACsB,GAAVwuB,UAAU,CAAV;;AAuBb,QAAaE,eAAe;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACTxoB,OADS,EACO;AAC/B,iBAAOA,OAAO,CAACmI,QAAR,CAAiBjF,IAAjB,CACL,2DAAI,UAAAyiB,OAAO,EAAI;AACb,gBAAI,CAACzrB,KAAK,CAACC,OAAN,CAAcwrB,OAAd,CAAL,EAA6B;AAC3B,qBAAO,EAAP;AACD;;AACD,gBAAM1lB,MAAM,GAAsB,CAAC;AAAC2S,mBAAK,EAAE,EAAR;AAAY3J,mBAAK,EAAE;AAAnB,aAAD,CAAlC;AACAhJ,kBAAM,CAACrE,IAAP,OAAAqE,MAAM,qBAAS,sDAAMwoB,gBAAN,CAAuB9C,OAAvB,EAAgCruB,GAAhC,CAAoC,UAAA4P,CAAC;AAAA,qBAAgB;AAAC0L,qBAAK,EAAE1L,CAAC,CAAC0H,EAAV;AAAc3F,qBAAK,EAAEjJ,OAAO,CAAC6B,SAAR,IAAqB,2DAArB,GAA2CqF,CAAC,CAACwN,IAA7C,GAAoDxN,CAAC,CAAC0H;AAA3E,eAAhB;AAAA,aAArC,CAAT,EAAN;AACA,mBAAO3O,MAAP;AACD,WAPD,CADK,CAAP;AAUD;AAZyB;;AAAA;AAAA,MAAS,+CAAT,CAA5B;;AAAauoB,mBAAe,6DAD3B,2DAAK;AAAC1uB,UAAI,EAAE;AAAP,KAAL,CAC2B,GAAf0uB,eAAe,CAAf;;AAgBb,QAAaE,QAAQ;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCACFjY,CADE,EACM9P,IADN,EACkB;AACnCrI,iBAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBkY,CAAvB,EAA0B9P,IAA1B,EAAgC,OAAO8P,CAAvC;AACA,iBAAO,OAAOA,CAAP,IAAa9P,IAApB;AACD;AAJkB;;AAAA;AAAA,MAAS,+CAAT,CAArB;;AAAa+nB,YAAQ,6DADpB,2DAAK;AAAC5uB,UAAI,EAAE;AAAP,KAAL,CACoB,GAAR4uB,QAAQ,CAAR;;;;;;;;;;;;;;;;AC/Sb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAGO,QAAMC,MAAM,GAAW,CAC5B;AAAC3mB,UAAI,EAAE,YAAP;AAAqBpI,eAAS,EAAE,4DAAhC;AAA4CsZ,UAAI,EAAE;AAAC0V,mBAAW,EAAE;AAAd;AAAlD,KAD4B,EAE5B;AAAC5mB,UAAI,EAAE,SAAP;AAAkBpI,eAAS,EAAE,gDAA7B;AAAmCsZ,UAAI,EAAE;AAAC0V,mBAAW,EAAE;AAAd;AAAzC,KAF4B,EAG5B;AAAC5mB,UAAI,EAAE,EAAP;AAAWpI,eAAS,EAAE,gDAAtB;AAA4BsZ,UAAI,EAAE;AAAC0V,mBAAW,EAAE;AAAd;AAAlC,KAH4B,CAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCSAC,U,GAAc,uD,CAAdA,U;;AAKP,QAAaC,GAAG;AAAA;;AAAA;;AA8Bd,qBAAc;AAAA;;AAAA;;AACZ;AA1BK,gBAAArb,MAAA,GAAiC,IAAI,kDAAJ,CAA2B,CAA3B,CAAjC;AACA,gBAAAoD,iBAAA,GAA4B,CAA5B;AACA,gBAAAmV,cAAA,GAAuC,IAAI,0DAAJ,EAAvC;AACA,gBAAAlX,gBAAA,GAAiD,IAAI,0DAAJ,EAAjD;AACA,gBAAAC,cAAA,GAA+C,IAAI,0DAAJ,EAA/C;AACA,gBAAAga,gBAAA,GAAiD,IAAI,0DAAJ,EAAjD;AACA,gBAAAzG,eAAA,GAA6C,IAAI,0DAAJ,EAA7C;AAEC,gBAAAgC,MAAA,GAAkB,KAAlB;AAEA,gBAAAvE,IAAA,GAAe,IAAf;AACA,gBAAAiJ,SAAA,GAA4B,EAA5B;;AAgBN,gBAAK5gB,KAAL;;AACA,gBAAKhH,SAAL,CAAe6nB,UAAf,CAA0BnsB,SAA1B,CAAoC;AAAA,iBAAM,QAAKsL,KAAL,EAAN;AAAA,SAApC;;AAHY;AAIb;;AAlCa;AAAA;AAAA,gCAkBQ;;;;;;;AACL,2BAAM,KAAKhH,SAAL,CAAeC,SAAf,EAAN;;;AAAf,yBAAKwI,O;;wBACA,CAAC,KAAKA,O;;;;;AACT,yBAAKkW,IAAL,aAAe,KAAKlW,OAAL,CAAa9M,GAA5B;AACA,yBAAKunB,MAAL,GAAc,IAAd;AACA,yBAAK7W,MAAL,CAAYsT,IAAZ,CAAiB,IAAjB;;;;AAGF,yBAAKuD,MAAL,GAAc,KAAd;AACA,yBAAK7W,MAAL,CAAYsT,IAAZ,CAAiB,KAAjB;;;;;;;;;AACD;AA5Ba;AAAA;AAAA,sCAoCQ;AACpB,cAAI,CAAC,KAAKuD,MAAV,EAAkB;AAChB,kBAAM,IAAIttB,KAAJ,CAAU,eAAV,CAAN;AACD;AACF;AAxCa;AAAA;AAAA,qCA0CgBuU,KA1ChB,EA0C+BpU,MA1C/B,EA0C+C+E,MA1C/C,EA0C+DgtB,UA1C/D,EA0CmFvoB,IA1CnF,EA0C+GqG,IA1C/G,EA0CgI;;;;;;;;AAC5I,yBAAKmiB,WAAL;;AAEM9d,2B,GAAU;AAAC,sCAAgB;AAAjB,qB;;AAEhB,wBAAIE,KAAJ,EAAW;AACTF,6BAAO,CAAC,eAAD,CAAP,oBAAqCE,KAArC;AACD;;AACD,wBAAI,CAACvE,IAAL,EAAW;AACTkM,0BAAI,GAAG,KAAK1R,SAAL,CAAeC,EAAf,CAAkB,SAAlB,qBACKtK,MADL,qBACsB+E,MADtB,yBAC2CktB,kBAAkB,CAACrU,IAAI,CAAC0K,SAAL,CAAeyJ,UAAf,CAAD,CAD7D,IAEH;AAACG,8BAAM,EAAElyB,MAAT;AAAiBmyB,8BAAM,EAAEptB,MAAzB;AAAiCqtB,kCAAU,EAAExU,IAAI,CAAC0K,SAAL,CAAeyJ,UAAf;AAA7C,uBAFJ;AAGD,qBAJD,MAKM;AACJhW,0BAAI,GAAG,IAAI+M,QAAJ,EAAP;AACA3nB,6BAAO,CAACC,GAAR,CAAY,YAAZ,EAA0ByO,IAA1B,EAAgCA,IAAI,CAACjF,OAArC;AACCmR,0BAAiB,CAACsW,MAAlB,CAAyB,QAAzB,EAAmCryB,MAAnC;AACA+b,0BAAiB,CAACsW,MAAlB,CAAyB,QAAzB,EAAmCttB,MAAnC;AACAgX,0BAAiB,CAACsW,MAAlB,CAAyB,eAAzB,EAA0C,MAA1C;AACAtW,0BAAiB,CAACsW,MAAlB,CAAyB,YAAzB,EAAuCzU,IAAI,CAAC0K,SAAL,CAAeyJ,UAAf,CAAvC;AACAhW,0BAAiB,CAACsW,MAAlB,CAAyB,cAAzB,EAAyCxiB,IAAI,CAACjF,OAA9C;AACD,6BAAOsJ,OAAO,CAAC,cAAD,CAAd;AACD;;0BAGG,KAAK7J,SAAL,CAAeC,EAAf,CAAkB,SAAlB,KAAgCuF,I;;;;;;AACnB,2BAAMoE,KAAK,CAAC,KAAK2U,IAAN,EAAY;AACpC7jB,4BAAM,EAAE,MAD4B;AAEpC9C,0BAAI,EAAE8Z,IAF8B;AAGpC7H,6BAAO,EAAEA;AAH2B,qBAAZ,CAAX;;;AAATpL,0B;;AAKC,2BAAMA,MAAM,CAACwS,IAAP,EAAN;;;AAAPA,wB;;;;;AAGAna,2BAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B2a,IAA/B,EAAqC7H,OAArC;;AACe,2BAAM,KAAKoe,KAAL,CAAWC,WAAX,CAAuB,KAAK3J,IAA5B,EAAkC;AACrD7jB,4BAAM,EAAE,MAD6C;AACrCgX,0BAAI,EAAEA,IAD+B;AACf7H,6BAAO,EAAEA,OADM;AACGse,kCAAY,EAAE;AADjB,qBAAlC,CAAN;;;AAAT1pB,2B;AAGNwS,wBAAI,GAAGxS,OAAM,CAACiT,IAAd;;;AAGI8M,4B,GAAW,qDAAaziB,QAAb,CAAsBkV,IAAtB,EAA4B,oDAA5B,C;;0BAEb,OAAOuN,QAAQ,CAAC4J,SAAhB,IAA8B,WAA9B,IAA6C5J,QAAQ,CAAC4J,SAAT,IAAsB,I;;;;;AACrEtxB,2BAAO,CAACC,GAAR,CAAY,UAAZ,YAA2B,CAAC,GAAD,EAAM,GAAN,EAAW+L,OAAX,CAAmB0b,QAAQ,CAAC4J,SAA5B,KAA0C,CAAC,CAA3C,GAA+C,YAA/C,GAA8D,YAAzF,cAAyG5J,QAAQ,CAAC6J,YAAT,IAAyB7J,QAAQ,CAAC4J,SAA3I;0BACM5yB,KAAK,WAAI,CAAC,GAAD,EAAM,GAAN,EAAWsN,OAAX,CAAmB0b,QAAQ,CAAC4J,SAA5B,KAA0C,CAAC,CAA3C,GAA+C,YAA/C,GAA8D,YAAlE,cAAkF5J,QAAQ,CAAC6J,YAAT,IAAyB7J,QAAQ,CAAC4J,SAApH,E;;;uDAGN,qDAAarsB,QAAb,CAAsByiB,QAAQ,CAAC8J,MAA/B,EAAuCnpB,IAAvC,C;;;;;;;;;AACR;AA3Fa;AAAA;AAAA,+BA6FO4hB,CA7FP,EA6FqB;;;;;;;;AACF,2BAAM,KAAKwH,YAAL,CAAkB,IAAlB,EAAwB,MAAxB,EAAgC,OAAhC,EAAyC;AAACC,2BAAK,EAAEzH,CAAC,CAAC/X,KAAV;AAAiByf,8BAAQ,EAAE1H,CAAC,CAAC2H,IAA7B;AAAmCC,4BAAM,EAAE;AAA3C,qBAAzC,EAA4F,sDAA5F,CAAN;;;AAAzBlqB,0B;;0BACF,CAACA,MAAD,IAAW,CAACA,MAAM,CAACmqB,S;;;;;uDACd,K;;;AAET7H,qBAAC,CAAChX,KAAF,GAAUtL,MAAM,CAACmqB,SAAjB;uDAEO,I;;;;;;;;;AACR;AArGa;AAAA;AAAA,8BAuGKrf,KAvGL,EAuG8B;;;;;;;;;AACpCpE,qB,GAA6B,E;AAEnCoE,yBAAK,CAAC3Q,OAAN,CAAc,UAAAmoB,CAAC;AAAA,6BAAI5b,CAAC,CAAC/K,IAAF,CAAO,OAAI,CAACyuB,MAAL,CAAY9H,CAAZ,CAAP,CAAJ;AAAA,qBAAf;;AAEgB,2BAAM3rB,OAAO,CAACe,GAAR,CAAYgP,CAAZ,CAAN;;;AAAV2jB,2B;uDAECA,OAAO,CAAChnB,MAAR,CAAe,UAAAzI,CAAC;AAAA,6BAAI,CAACA,CAAL;AAAA,qBAAhB,EAAwByC,MAAxB,IAAkC,C;;;;;;;;;AAC1C;AA/Ga;AAAA;AAAA,2CAiHailB,CAjHb,EAiH6B;AACvC,eAAKD,eAAL,CAAqBrjB,IAArB,CAA0BsjB,CAA1B;AACAjqB,iBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BgqB,CAA5B;AACA,gBAAMvrB,KAAK,CAAC,cAAD,CAAX;AACH;AArHa;AAAA;AAAA,iCAwHZwT,KAxHY,EAwHGrT,MAxHH,EAyHZ+E,MAzHY,EAyHIgtB,UAzHJ,EA0HZvoB,IA1HY,EA0HgBqG,IA1HhB,EA0HiC;;;;;;;;AAEvCub,qB,GAAI,KAAKgI,YAAL,CAAkB/f,KAAlB,C;;wBACL+X,C;;;;;0BACG;AACJ7lB,6BAAO,EAAE,iCADL;AAEJmO,0BAAI,EAAEL,KAFF;AAGJtO,4BAAM,EAAEA,MAHJ;AAIJgtB,gCAAU,EAAEA,UAJR;AAKJvoB,0BAAI,EAAEA,IALF;AAMJqG,0BAAI,EAAEA;AANF,qB;;;wBASHub,CAAC,CAAChX,K;;;;;AACL,yBAAKif,kBAAL,CAAwBjI,CAAxB;;uDACO,I;;;;AAEa,2BAAM,mDAAG,KAAKwH,YAAL,CAAkBxH,CAAC,CAAChX,KAApB,EAA2BpU,MAA3B,EAAmC+E,MAAnC,EAA2CgtB,UAA3C,EAAuDvoB,IAAvD,EAA6DqG,IAA7D,CAAH,CAAN;;;;;AAAf3O,uB;AAAK4H,0B;;yBAER5H,G;;;;;yBACEA,GAAG,CAACqE,OAAJ,CAAYgC,KAAZ,CAAkB,aAAlB,C;;;;;AACF,yBAAK8rB,kBAAL,CAAwBjI,CAAxB;;;;;0BAGIlqB,G;;;uDAGD4H,M;;;;;;;;;AACR;AAtJa;AAAA;AAAA,qCAwJOuK,KAxJP,EAwJoB;AAChC,eAAK2e,WAAL;;AACA,iBAAO,KAAKtf,OAAL,CAAakB,KAAb,CAAmB4H,IAAnB,CAAwB,UAAA4P,CAAC;AAAA,mBAAIA,CAAC,CAAC/X,KAAF,IAAWA,KAAf;AAAA,WAAzB,CAAP;AACD,SA3Ja,CA6Jd;;AA7Jc;AAAA;AAAA,sCA8JU;;;;;;;;;AAClB7D,qB,GAAI,E;;AAER,yBAAKkD,OAAL,CAAakB,KAAb,CAAmB3Q,OAAnB,CAA2B,UAAAmoB,CAAC;AAAA,6BAAI5b,CAAC,CAAC/K,IAAF,CAAO,OAAI,CAAC6uB,QAAL,CAAclI,CAAC,CAAC/X,KAAhB,EAAuB,MAAvB,EAA+B,aAA/B,EAA8C,IAA9C,EAAoD,+CAApD,CAAP,CAAJ;AAAA,qBAA5B;;;AAEiC,2BAAM5T,OAAO,CAACe,GAAR,CAAYgP,CAAZ,CAAN;;;AAA3BxD,4B;AACAlD,0B,GAAyBkD,QAAQ,CAACmS,MAAT,CAAgB,UAACC,GAAD,EAAMva,CAAN;AAAA,6BAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,qBAAhB,EAA2C,EAA3C,C;AAC/B,yBAAKguB,SAAL,GAAiB/oB,MAAjB;AACAA,0BAAM,CAAC7F,OAAP,CAAe,UAAMoF,CAAN;AAAA,6BAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AACxBA,iCAAC,CAAC2I,QAAF,GAAa,IAAI,kDAAJ,CAAiC,CAAjC,CAAb;AACMoa,iCAFkB,GAEd,KAAKgI,YAAL,CAAkB/qB,CAAC,CAAC0E,KAApB,CAFc;;AAAA,oCAGnBqe,CAHmB;AAAA;AAAA;AAAA;;AAItB/iB,iCAAC,CAAC2I,QAAF,CAAW4Y,IAAX,CAAgB,EAAhB;AAJsB;;AAAA;AAOlB2J,oCAPkB,GAOI,EAPJ;;AAQxB,8EAAMC,eAAN,CAAsBnrB,CAAC,CAACmP,YAAxB,EAAsC+b,IAAtC;;AACApyB,uCAAO,CAACC,GAAR,CAAY,oBAAZ;AATwB;AAUxB,uCAAM,KAAKqyB,gBAAL,CAAsBprB,CAAtB,EAAyBA,CAAC,CAACmP,YAA3B,CAAN;;AAVwB;AAWxB+b,oCAAI,CAACtwB,OAAL,CAAa,UAAAywB,CAAC;AAAA,yCAAIA,CAAC,CAAChpB,SAAF,GAAcrC,CAAC,CAACqC,SAApB;AAAA,iCAAd;AACArC,iCAAC,CAAC2I,QAAF,CAAW4Y,IAAX,CAAgBvhB,CAAC,CAACmP,YAAlB;;AAZwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAX;AAAA,qBAAf;AAcM9T,qB,GAAIoF,MAAM,CAACqV,MAAP,CAAc,UAACC,GAAD,EAAMva,CAAN;AAAA,6BAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,qBAAd,EAAyC,EAAzC,C;;AACV,wBAAImI,QAAQ,CAAC7F,MAAT,GAAkB,CAAtB,EAAyB;AACjBkC,uBADiB,GACb,IAAI,+CAAJ,EADa;AAEvBA,uBAAC,CAAC0E,KAAF,GAAUf,QAAQ,CAACmS,MAAT,CAAgB,UAACC,GAAD,EAAMva,CAAN;AAAA,+BAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,uBAAhB,EAA2C,EAA3C,EAA+C1D,GAA/C,CAAmD,UAAAkI,CAAC;AAAA,+BAAIA,CAAC,CAAC0E,KAAN;AAAA,uBAApD,EAAiEqS,IAAjE,CAAsE,GAAtE,CAAV;AACA/W,uBAAC,CAACqC,SAAF,GAAc,2DAAd;AACArC,uBAAC,CAAC+nB,YAAF,GAAiB,eAAjB;AACA/nB,uBAAC,CAACmP,YAAF,GAAiB,CACf;AAAC9M,iCAAS,EAAErC,CAAC,CAACqC,SAAd;AAAyB8S,kCAAU,EAAE,EAArC;AAAyCrI,4BAAI,EAAE,mDAAWtE,KAA1D;AAAiE0M,4BAAI,EAAE,OAAvE;AAAgF9F,0BAAE,EAAE,mDAAW5G,KAAX,CAAiB/M,QAAjB;AAApF,uBADe,EAEf;AAAC4G,iCAAS,EAAErC,CAAC,CAACqC,SAAd;AAAyB8S,kCAAU,EAAE,EAArC;AAAyCrI,4BAAI,EAAE,mDAAWwe,IAA1D;AAAgEpW,4BAAI,EAAE,YAAtE;AAAoF9F,0BAAE,EAAE,mDAAWkc,IAAX,CAAgB7vB,QAAhB;AAAxF,uBAFe,EAGf;AAAC4G,iCAAS,EAAErC,CAAC,CAACqC,SAAd;AAAyB8S,kCAAU,EAAE,EAArC;AAAyCrI,4BAAI,EAAE,mDAAWC,MAA1D;AAAkEmI,4BAAI,EAAE,QAAxE;AAAkF9F,0BAAE,EAAE,mDAAWrC,MAAX,CAAkBtR,QAAlB;AAAtF,uBAHe,EAIf;AAAC4G,iCAAS,EAAErC,CAAC,CAACqC,SAAd;AAAyB8S,kCAAU,EAAE,EAArC;AAAyCrI,4BAAI,EAAE,mDAAWye,IAA1D;AAAgErW,4BAAI,EAAE,MAAtE;AAA8E9F,0BAAE,EAAE,mDAAWmc,IAAX,CAAgB9vB,QAAhB;AAAlF,uBAJe,EAKf;AAAC4G,iCAAS,EAAErC,CAAC,CAACqC,SAAd;AAAyB8S,kCAAU,EAAE,EAArC;AAAyCrI,4BAAI,EAAE,mDAAW0e,KAA1D;AAAiEtW,4BAAI,EAAE,OAAvE;AAAgF9F,0BAAE,EAAE,mDAAWoc,KAAX,CAAiB/vB,QAAjB;AAApF,uBALe,CAAjB;AAOAuE,uBAAC,CAACkW,QAAF,GAAa,IAAb;AACAlW,uBAAC,CAAC2I,QAAF,CAAW4Y,IAAX,CAAgBvhB,CAAC,CAACmP,YAAlB;AACA9T,uBAAC,CAACe,IAAF,CAAO4D,CAAP;AACD;;uDACM3E,C;;;;;;;;;AACR,SAtMa,CAwMd;;AAxMc;AAAA;AAAA,uCAyMcmF,OAzMd,EAyMgC0qB,IAzMhC,EAyMqDxa,IAzMrD,EAyMkE;;;;;;;;;0BAC1ElQ,OAAO,CAAC6B,SAAR,IAAqB,2D;;;;;uDAChB,KAAK4oB,QAAL,CACLzqB,OAAO,CAACkE,KADH,EACU,MADV,EACkB,+BADlB,EAEL;AAACrC,+BAAS,EAAE7B,OAAO,CAAC6B,SAApB;AAA+BopB,6BAAO,EAAEP,IAAI,CAACpzB,GAAL,CAAS,UAAAmZ,CAAC;AAAA,+BAAIA,CAAC,CAAC7B,EAAN;AAAA,uBAAV;AAAxC,qBAFK,EAEyD,yDAFzD,EAGLnL,SAHK,C;;;AAOHkD,qB,GAAI,E;AACV3G,2BAAO,CAACkE,KAAR,CAAcqQ,KAAd,CAAoB,GAApB,EAAyBna,OAAzB,CAAiC,UAAArD,CAAC,EAAI;AACpC,0BAAMyI,CAAC,GAAG,OAAI,CAACwpB,SAAL,CAAerW,IAAf,CAAoB,UAAAnT,CAAC;AAAA,+BAAIA,CAAC,CAAC0E,KAAF,CAAQwB,WAAR,MAAyB3O,CAAC,CAAC2O,WAAF,EAA7B;AAAA,uBAArB,CAAV;;AACA,0BAAI,CAAClG,CAAL,EAAQ;AACN;AACD;;AAED,0BAAMkrB,IAAI,GAAkB,EAA5B;;AACA,oEAAMC,eAAN,CAAsBnrB,CAAC,CAACmP,YAAxB,EAAsC+b,IAAtC;;AACA/jB,uBAAC,CAAC/K,IAAF,CAAO,OAAI,CAACsvB,cAAL,CAAoB1rB,CAApB,EAAuBkrB,IAAvB,EAA6Bxa,IAA7B,CAAP;AACD,qBATD;;AAWe,2BAAMtZ,OAAO,CAACe,GAAR,CAAYgP,CAAZ,CAAN;;;AAAT1G,0B;uDACCA,M;;;;;;;;;AACR;AAhOa;AAAA;AAAA,+CAkOuBD,OAlOvB,EAkOyCC,MAlOzC,EAkO2E;;;;;;;;AACvFD,2BAAO,CAAC2O,YAAR,CAAqBvU,OAArB,CAA6B,UAAA8M,CAAC,EAAI;AAChCA,uBAAC,CAACsN,KAAF,GAAU,CAAV;AACAtN,uBAAC,CAACuN,MAAF,GAAW,CAAX;AACAzU,6BAAO,CAACkE,KAAR,CAAcqQ,KAAd,CAAoB,GAApB,EAAyBna,OAAzB,CAAiC,UAACrD,CAAD,EAAI8J,GAAJ,EAAY;AAC3C,4BAAMrB,CAAC,GAAG,OAAI,CAACwpB,SAAL,CAAerW,IAAf,CAAoB,UAAAnT,CAAC;AAAA,iCAAIA,CAAC,CAAC0E,KAAF,IAAWnN,CAAf;AAAA,yBAArB,CAAV;;AACA,4BAAI,CAACyI,CAAL,EAAQ;AACN;AACD;;AAED,4BAAM2rB,EAAE,GAAG,8CAAMpjB,YAAN,CAAmBb,CAAC,CAACoF,IAArB,EAA2B9M,CAAC,CAACmP,YAA7B,CAAX;;AACA,4BAAI,CAACwc,EAAL,EAAS;AACP;AACD;;AACDjkB,yBAAC,CAACsN,KAAF,IAAWvU,MAAM,CAACY,GAAD,CAAN,CAAYuqB,MAAZ,CAAmBD,EAAE,CAACvc,EAAtB,EAA0B,CAA1B,CAAX;AACA1H,yBAAC,CAACuN,MAAF,IAAYxU,MAAM,CAACY,GAAD,CAAN,CAAYuqB,MAAZ,CAAmBD,EAAE,CAACvc,EAAtB,EAA0B,CAA1B,CAAZ;AACD,uBAZD;;AAcA,6BAAI,CAACoX,cAAL,CAAoB/mB,IAApB,CAAyBiI,CAAzB;AACD,qBAlBD;;;;;;;;;AAmBD;AAtPa;AAAA;AAAA,yCAwPWlH,OAxPX,EAwP6B2P,IAxP7B,EAwP6C;AACzDA,cAAI,CAAChF,UAAL,CAAgBvQ,OAAhB,CAAwB,UAAAiS,CAAC;AAAA,mBAAIA,CAAC,CAACxK,SAAF,GAAc7B,OAAO,CAAC6B,SAA1B;AAAA,WAAzB;AACA,iBAAO8N,IAAP;AACD;AA3Pa;AAAA;AAAA,6CA6PqB;;;;;;;AAC3BhJ,qB,GAAI,E;;AACV,yBAAKqiB,SAAL,CAAe5uB,OAAf,CAAuB,UAAAoF,CAAC;AAAA,6BAAImH,CAAC,CAAC/K,IAAF,CAAO4D,CAAC,CAAC2I,QAAF,CAAWjF,IAAX,CAAgB,4DAAK,CAAL,CAAhB,EAAyBmC,SAAzB,EAAP,CAAJ;AAAA,qBAAxB;;;AACA,2BAAMzO,OAAO,CAACe,GAAR,CAAYgP,CAAZ,CAAN;;;;;;;;;AACD,SAjQa,CAmQd;;AAnQc;AAAA;AAAA,qCAqQZ3G,OArQY,EAqQM0B,MArQN,EAqQsB2pB,MArQtB,EAqQsCC,QArQtC,EAsQZC,MAtQY,EAsQIC,OAtQJ,EAsQqBC,WAtQrB,EAsQ2Cvb,IAtQ3C,EAsQ0Dwb,OAtQ1D,EAsQyE;;;;;;;;;;0BAEjF1rB,OAAO,CAAC6B,SAAR,IAAqB,2D;;;;;AACjBwd,0B,GAAS;AACbxd,+BAAS,EAAE7B,OAAO,CAAC6B,SADN;AACiBoK,4BAAM,EAAEvK,MADzB;AACiCiqB,4BAAM,EAAEN,MADzC;AAEbO,2BAAK,EAAEN,QAFM;AAEIO,4BAAM,EAAEN,MAFZ;AAEoBO,6BAAO,EAAEN,OAF7B;AAEsCO,kCAAY,EAAEN;AAFpD,qB;;AAIf,wBAAIC,OAAJ,EAAa;AACXrM,4BAAM,CAAC,cAAD,CAAN,GAAyBqM,OAAzB;AACD;;uDACM,KAAKjB,QAAL,CACLzqB,OAAO,CAACkE,KADH,EACU,MADV,EACkB,aADlB,EACiCmb,MADjC,EACyC,gDADzC,EACmD5b,SADnD,EAEL3M,IAFK,CAEA,UAAA6Y,IAAI;AAAA,6BAAI,OAAI,CAACqc,gBAAL,CAAsBhsB,OAAtB,EAA+B2P,IAA/B,CAAJ;AAAA,qBAFJ,C;;;;AAKT,2BAAM,KAAKsc,kBAAL,EAAN;;;AACMpe,2B,GAAU7N,OAAO,CAAC2O,YAAR,CAAqBgE,IAArB,CAA0B,UAAAzL,CAAC;AAAA,6BAAIA,CAAC,CAAC0H,EAAF,IAAQlN,MAAZ;AAAA,qBAA3B,C;;wBACXmM,O;;;;;uDACI,qDAAatQ,QAAb,CAAsB;AAC3BuuB,6BAAO,EAAEN,OADkB;AACTK,4BAAM,EAAEN,MADC;AACOK,2BAAK,EAAEN,QADd;AACwBK,4BAAM,EAAEN,MADhC;AACwC7W,2BAAK,EAAE,CAD/C;AAE3B7J,gCAAU,EAAE,EAFe;AAEXuhB,wCAAkB,EAAE,CAFT;AAEYC,0BAAI,EAAE,EAFlB;AAEsBC,kCAAY,EAAE,CAFpC;AAEuCC,wCAAkB,EAAE,CAF3D;AAG3BC,gCAAU,EAAEze,OAAO,CAAC6G;AAHO,qBAAtB,EAIJ,gDAJI,C;;;AAOH/N,qB,GAAI,E;AACV3G,2BAAO,CAACkE,KAAR,CAAcqQ,KAAd,CAAoB,GAApB,EAAyBna,OAAzB,CAAiC,UAAArD,CAAC,EAAI;AACpC,0BAAMyI,CAAC,GAAG,OAAI,CAACwpB,SAAL,CAAerW,IAAf,CAAoB,UAAAnT,CAAC;AAAA,+BAAIA,CAAC,CAAC0E,KAAF,IAAWnN,CAAf;AAAA,uBAArB,CAAV;;AACA,0BAAI,CAACyI,CAAL,EAAQ;AACN;AACD;;AAED,0BAAM0H,CAAC,GAAG,8CAAMa,YAAN,CAAmB8F,OAAO,CAACvB,IAA3B,EAAiC9M,CAAC,CAACmP,YAAnC,CAAV;;AAEA,0BAAM1O,MAAM,GAAG,OAAI,CAACssB,YAAL,CAAkB/sB,CAAlB,EAAqB0H,CAAC,CAAC0H,EAAvB,EAA2Byc,MAA3B,EAAmCC,QAAnC,EAA6CC,MAA7C,EAAqDC,OAArD,EAA8DC,WAA9D,EAA2Evb,IAA3E,EAAiFwb,OAAjF,EAA0F50B,IAA1F,CAA+F,UAAA6Y,IAAI;AAAA,+BAAI,OAAI,CAACqc,gBAAL,CAAsBxsB,CAAtB,EAAyBmQ,IAAzB,CAAJ;AAAA,uBAAnG,CAAf;;AACAhJ,uBAAC,CAAC/K,IAAF,CAAOqE,MAAP;AACD,qBAVD;;AAYe,2BAAMrJ,OAAO,CAACe,GAAR,CAAYgP,CAAZ,CAAN;;;AAAT1G,0B;uDACEA,MAA0B,CACjCqV,MADO,CACA,UAACC,GAAD,EAAgBva,CAAhB,EAAsB;AAC5B,0BAAI,CAACua,GAAL,EAAU;AACR,+BAAOva,CAAP;AACD;;AACDua,yBAAG,CAAC2W,kBAAJ,IAA0BlxB,CAAC,CAACkxB,kBAA5B;AACA3W,yBAAG,CAACf,KAAJ,IAAaxZ,CAAC,CAACwZ,KAAf;AACAe,yBAAG,CAAC5K,UAAJ,GAAiB4K,GAAG,CAAC5K,UAAJ,CAAe3O,MAAf,CAAsBhB,CAAC,CAAC2P,UAAxB,CAAjB;AACA,6BAAO4K,GAAP;AACD,qBATO,EASL,IATK,C;;;;;;;;;AAUT;AAvTa;AAAA;AAAA,oCA0TZvV,OA1TY,EA2TZ0B,MA3TY,EA4TZ2pB,MA5TY,EA6TZC,QA7TY,EAiUU;AAAA,cAHtBC,MAGsB,uEAHL,EAGK;AAAA,cAFtBC,OAEsB,uEAFJ,EAEI;AAAA,cADtBtb,IACsB,uEADN,KACM;AAAA,cAAtBwb,OAAsB,uEAAJ,IAAI;;;;;;;;;AAEtB,wBAAIJ,QAAQ,IAAI,CAAhB,EAAmBtrB,OAAO,CAACmI,QAAR,CAAiBjF,IAAjB,CAAsB,4DAAK,CAAL,CAAtB,EAA+BpG,SAA/B,CAAyC,UAAM6oB,OAAN;AAAA,6BAAiB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACrE+E,oCADqE,GAC/C,EAD+C;;AAE3E,8EAAMC,eAAN,CAAsBhF,OAAtB,EAA+B+E,IAA/B;;AAF2E;AAG5D,uCAAM,KAAKQ,cAAL,CAAoBlrB,OAApB,EAA6B0qB,IAA7B,EAAmCxa,IAAnC,CAAN;;AAH4D;AAGrEjQ,sCAHqE;;AAAA,qCAIvE/F,KAAK,CAACC,OAAN,CAAc8F,MAAd,CAJuE;AAAA;AAAA;AAAA;;AAAA;AAKzE,uCAAM,KAAKusB,sBAAL,CAA4BxsB,OAA5B,EAAqCC,MAArC,CAAN;;AALyE;AAAA;;AAAA;AAQ3EnI,sCAAM,CAACZ,IAAP,CAAY+I,MAAM,CAACmrB,MAAnB,EAA2BhxB,OAA3B,CAAmC,UAAAsY,CAAC,EAAI;AACtC,sCAAMxL,CAAC,GAAGwjB,IAAI,CAAC/X,IAAL,CAAU,UAAAkY,CAAC;AAAA,2CAAIA,CAAC,CAACjc,EAAF,IAAQ8D,CAAZ;AAAA,mCAAX,CAAV;;AACA,sCAAI,CAACxL,CAAL,EAAQ;AACN;AACD;;AAEDA,mCAAC,CAACsN,KAAF,GAAUvU,MAAM,CAACmrB,MAAP,CAAc1Y,CAAd,EAAiB,CAAjB,CAAV;AACAxL,mCAAC,CAACuN,MAAF,GAAWxU,MAAM,CAACmrB,MAAP,CAAc1Y,CAAd,EAAiB,CAAjB,CAAX;;AACA,yCAAI,CAACsT,cAAL,CAAoB/mB,IAApB,CAAyBiI,CAAzB;AACD,iCATD;;AAR2E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAjB;AAAA,qBAAzC;;AAoBJ,2BAAM,KAAKqlB,YAAL,CAAkBvsB,OAAlB,EAA2B0B,MAA3B,EAAmC2pB,MAAnC,EAA2CC,QAA3C,EAAqDC,MAArD,EAA6DC,OAA7D,EAAsE,KAAtE,EAA6Etb,IAA7E,EAAmFwb,OAAnF,CAAN;;;AAATzrB,0B;AAEN,yBAAK4Q,iBAAL,GAAyB5Q,MAAM,CAACisB,kBAAhC;AAEA,yBAAKnD,gBAAL,CAAsB9pB,IAAtB,CAA2BgB,MAAM,CAAC0K,UAAlC;uDACO1K,MAAM,CAAC0K,U;;;;;;;;;AACf,SA7Va,CA+Vd;;AA/Vc;AAAA;AAAA,uCAgWc3K,OAhWd,EAgWgCoW,GAhWhC,EAgW4C;;;;;;;AAClD/e,sB,GAAK+e,GAAG,CAACvU,SAAJ,GAAgBuU,GAAG,CAACvU,SAApB,GAAgC7B,OAAO,CAAC6B,S;AAC7CrC,qB,GAAI,KAAKwpB,SAAL,CAAerW,IAAf,CAAoB,UAAAnT,CAAC;AAAA,6BAAIA,CAAC,CAACqC,SAAF,IAAexK,EAAnB;AAAA,qBAArB,C;;wBACLmI,C;;;;;uDACI,I;;;;AAE0B,2BAAM,KAAKirB,QAAL,CACvCjrB,CAAC,CAAC0E,KADqC,EAC9B,MAD8B,EACtB,mBADsB,EAEvC;AAACrC,+BAAS,EAAErC,CAAC,CAACqC,SAAd;AAAyBoK,4BAAM,EAAEmK,GAAG,CAACnK,MAArC;AAA6CkgB,0BAAI,EAAE,CAAC/V,GAAG,CAACxW,GAAL;AAAnD,qBAFuC,EAEwB,mDAFxB,CAAN;;;AAA7BK,0B;;0BAKF,CAAC/F,KAAK,CAACC,OAAN,CAAc8F,MAAd,CAAD,IAA0BA,MAAM,CAAC3C,MAAP,IAAiB,C;;;;;uDACtC,I;;;AAGT2C,0BAAM,CAAC,CAAD,CAAN,CAAU4B,SAAV,GAAsBxK,EAAtB,C,CAEA;AACA;;uDAEO4I,MAAM,CAAC,CAAD,C;;;;;;;;;AACd,SArXa,CAuXd;AACA;;AAxXc;AAAA;AAAA,yCAyXWD,OAzXX,EAyX6B0B,MAzX7B,EAyX6CiO,IAzX7C,EAyXiE;AAAA;;AAC7E,cAAM1P,MAAM,GAA2B,EAAvC,CAD6E,CAE7E;;AACA,cAAM4N,OAAO,GAAG,8CAAM4e,gBAAN,CAAuB/qB,MAAvB,IAAiC,8CAAMgN,UAAN,CAAiB1O,OAAO,CAAC2O,YAAzB,EAAuCjN,MAAvC,CAAjC,GAAkF,IAAlG;;AACAxH,eAAK,CAACoQ,IAAN,CAAW,IAAIoiB,GAAJ,CAAQ/c,IAAI,CAACrY,GAAL,CAAS,UAAA+U,CAAC;AAAA,mBAAIA,CAAC,CAACxK,SAAN;AAAA,WAAV,CAAR,CAAX,EAAgDzH,OAAhD,CAAwD,UAAMuyB,SAAN;AAAA,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AACnEntB,uBADmE,GAC/D,KAAKwpB,SAAL,CAAerW,IAAf,CAAoB,UAAAnT,CAAC;AAAA,+BAAIA,CAAC,CAACqC,SAAF,IAAe8qB,SAAnB;AAAA,uBAArB,CAD+D;;AAAA,0BAEpEntB,CAFoE;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAKzE;AACM0H,uBANmE,GAM/D2G,OAAO,IAAI,IAAX,GAAkB;AAACe,0BAAE,EAAElN;AAAL,uBAAlB,GAAiC,8CAAMqG,YAAN,CAAmB8F,OAAO,CAACvB,IAA3B,EAAiC9M,CAAC,CAACmP,YAAnC,CAN8B;AAOzE1O,4BAAM,CAACrE,IAAP,CAAY;AAACoE,+BAAO,EAAER,CAAV;AAAakC,8BAAM,EAAEwF,CAAC,CAAC0H,EAAvB;AAA2Be,4BAAI,EAAEA,IAAI,CAACrM,MAAL,CAAY,UAAA+I,CAAC;AAAA,iCAAIA,CAAC,CAACxK,SAAF,IAAerC,CAAC,CAACqC,SAArB;AAAA,yBAAb;AAAjC,uBAAZ;;AAPyE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAnB;AAAA,WAAxD;AAUA,iBAAO5B,MAAP;AACD;AAxYa;AAAA;AAAA,gDA0YwBD,OA1YxB,EA0Y0C0B,MA1Y1C,EA0Y0DiO,IA1Y1D,EA0YgFid,SA1YhF,EA0YqG;;;;;;;AAC3GvmB,4B,GAAW,E,EACjB;;AACA,yBAAKwmB,gBAAL,CAAsB7sB,OAAtB,EAA+B0B,MAA/B,EAAuCiO,IAAvC,EAA6CvV,OAA7C,CAAqD,UAAAuM,CAAC,EAAI;AACxDN,8BAAQ,CAACzK,IAAT,CAAcgxB,SAAS,CAACjmB,CAAC,CAAC3G,OAAH,EAAY2G,CAAC,CAACjF,MAAd,EAAsBiF,CAAC,CAACgJ,IAAxB,CAAvB;AACD,qBAFD;;uDAIO/Y,OAAO,CAACe,GAAR,CAAY0O,QAAZ,C;;;;;;;;;AACR,SAlZa,CAoZd;;AApZc;AAAA;AAAA,gCAqZQ2F,IArZR,EAqZsBhM,OArZtB,EAqZwC0B,MArZxC,EAqZwDiO,IArZxD,EAqZ8EnP,MArZ9E,EAqZ+F;;;;;;;;;0BACvGR,OAAO,CAAC6B,SAAR,IAAqB,2D;;;;;;AACvB,2BAAM,KAAK4oB,QAAL,CACJzqB,OAAO,CAACkE,KADJ,EACW,MADX,EACmB8H,IADnB,EAEJ;AAACnK,+BAAS,EAAE7B,OAAO,CAAC6B,SAApB;AAA+BoK,4BAAM,EAAEvK,MAAvC;AAA+CyqB,0BAAI,EAAExc,IAAI,CAACrY,GAAL,CAAS,UAAA+U,CAAC;AAAA,+BAAIA,CAAC,CAACzM,GAAN;AAAA,uBAAV,EAAqB2W,IAArB,CAA0B,GAA1B,CAArD;AAAqFuW,+BAAS,EAAEtsB;AAAhG,qBAFI,CAAN;;;;;;AAOI3G,4B,GAAW,SAAXA,QAAW,CAACmG,OAAD,EAAmB0B,MAAnB,EAAmCiO,IAAnC,EAA4D;AAC3E,6BAAO,OAAI,CAACod,OAAL,CAAa/gB,IAAb,EAAmBhM,OAAnB,EAA4B0B,MAA5B,EAAoCiO,IAApC,EAA0CnP,MAA1C,CAAP;AACD,qB;;;AAED,2BAAM,KAAKwsB,uBAAL,CAA6BhtB,OAA7B,EAAsC0B,MAAtC,EAA8CiO,IAA9C,EAAoD9V,QAAQ,CAACQ,IAAT,CAAc,IAAd,CAApD,CAAN;;;;;;;;;AACD,SAnaa,CAqad;;AArac;AAAA;AAAA,iCAsaQ2F,OAtaR,EAsa0B0B,MAta1B,EAsa0C0M,QAta1C,EAsaoE5N,MAtapE,EAsaqF;;;;;;;;;AACjG,2BAAM,KAAKusB,OAAL,CAAa,iBAAb,EAAgC/sB,OAAhC,EAAyC0B,MAAzC,EAAiD0M,QAAjD,EAA2D5N,MAA3D,CAAN;;;AACAR,2BAAO,CAACmI,QAAR,CAAiBjF,IAAjB,CACE,4DAAK,CAAL,CADF,EAEE,2DAAI,UAAAyiB,OAAO;AAAA,6BAAI,8CAAMjX,UAAN,CAAiBiX,OAAjB,EAA0BjkB,MAA1B,CAAJ;AAAA,qBAAX,CAFF,EAGE,8DAAO,UAAAwF,CAAC;AAAA,6BAAI,CAAC,CAACA,CAAN;AAAA,qBAAR,CAHF,EAIEpK,SAJF,CAIY,UAAA4E,MAAM,EAAI;AACpB,0BAAMurB,MAAM,GAAGzsB,MAAM,GAAG,CAAC,CAAJ,GAAQ,CAA7B;AACAkB,4BAAM,CAAC+S,MAAP,IAAiBwY,MAAM,GAAG7e,QAAQ,CAAC9Q,MAAnC;AACAoE,4BAAM,CAAC8S,KAAP,IAAgByY,MAAM,GAAG7e,QAAQ,CAAC9Q,MAAlC;;AACA,6BAAI,CAAC0oB,cAAL,CAAoB/mB,IAApB,CAAyByC,MAAzB;AACD,qBATD;AAUA0M,4BAAQ,CAAChU,OAAT,CAAiB,UAAAiS,CAAC;AAAA,6BAAIA,CAAC,CAACK,MAAF,GAAWlM,MAAf;AAAA,qBAAlB;;;;;;;;;AACD,SAnba,CAqbd;;AArbc;AAAA;AAAA,6BAsbIR,OAtbJ,EAsbsB0B,MAtbtB,EAsbsC0M,QAtbtC,EAsbgE5N,MAtbhE,EAsbiF;;;;;;;AAC7F,2BAAM,KAAKusB,OAAL,CAAa,mBAAb,EAAkC/sB,OAAlC,EAA2C0B,MAA3C,EAAmD0M,QAAnD,EAA6D5N,MAA7D,CAAN;;;AACA4N,4BAAQ,CAAChU,OAAT,CAAiB,UAAAiS,CAAC;AAAA,6BAAIA,CAAC,CAACN,SAAF,GAAcvL,MAAlB;AAAA,qBAAlB;;;;;;;;;AACD;AAzba;AAAA;AAAA,0CA2bkBR,OA3blB,EA2boC0B,MA3bpC,EA2boD0M,QA3bpD,EA2b8E;;;;;;;;;0BACtFpO,OAAO,CAAC6B,SAAR,IAAqB,2D;;;;;uDAChB,KAAK4oB,QAAL,CACLzqB,OAAO,CAACkE,KADH,EAEL,MAFK,EAEG,gBAFH,EAGL;AAACrC,+BAAS,EAAE7B,OAAO,CAAC6B,SAApB;AAA+BoK,4BAAM,EAAEvK,MAAvC;AAA+CyqB,0BAAI,EAAE/d,QAAQ,CAAC9W,GAAT,CAAa,UAAA+U,CAAC;AAAA,+BAAIA,CAAC,CAACzM,GAAN;AAAA,uBAAd,EAAyB2W,IAAzB,CAA8B,GAA9B;AAArD,qBAHK,C;;;AAOH1c,4B,GAAW,SAAXA,QAAW,CAACmG,OAAD,EAAmB0B,MAAnB,EAAmCiO,IAAnC,EAA4D;AAC3E,6BAAO,OAAI,CAACud,iBAAL,CAAuBltB,OAAvB,EAAgC0B,MAAhC,EAAwCiO,IAAxC,CAAP;AACD,qB;;uDAEM,KAAKqd,uBAAL,CAA6BhtB,OAA7B,EAAsC0B,MAAtC,EAA8C0M,QAA9C,EAAwDvU,QAAQ,CAACQ,IAAT,CAAc,IAAd,CAAxD,C;;;;;;;;;AACR;AAzca;AAAA;AAAA,wCA2ce2F,OA3cf,EA2ciC0B,MA3cjC,EA2ciDyrB,QA3cjD,EA2cmE/e,QA3cnE,EA2c6F;;;;;;;;;0BACrGpO,OAAO,CAAC6B,SAAR,IAAqB,2D;;;;;AACjBwd,0B,GAAS;AAACxd,+BAAS,EAAE7B,OAAO,CAAC6B,SAApB;AAA+BoK,4BAAM,EAAEvK,MAAvC;AAA+C0rB,8BAAQ,EAAED,QAAzD;AAAmEhB,0BAAI,EAAE/d,QAAQ,CAAC9W,GAAT,CAAa,UAAA+U,CAAC;AAAA,+BAAIA,CAAC,CAACzM,GAAN;AAAA,uBAAd,EAAyB2W,IAAzB,CAA8B,GAA9B;AAAzE,qB;;AACf,2BAAM,KAAKkU,QAAL,CAAczqB,OAAO,CAACkE,KAAtB,EAA6B,MAA7B,EAAqC,cAArC,EAAqDmb,MAArD,CAAN;;;;;;AAIIxlB,4B,GAAW,SAAXA,QAAW,CAACmG,OAAD,EAAmBmtB,QAAnB,EAAqCxd,IAArC,EAA8D;AAC7E,0BAAI,CAACzV,KAAK,CAACC,OAAN,CAAcwV,IAAd,CAAD,IAAwBA,IAAI,CAACrS,MAAL,IAAe,CAA3C,EAA8C;AAC5C;AACD;;AACD,0BAAMmT,CAAC,GAAGd,IAAI,CAAC,CAAD,CAAJ,CAAQ1D,MAAlB;AACA,0BAAMvK,MAAM,GAAG,8CAAM+qB,gBAAN,CAAuBhc,CAAvB,IAA4B,8CAAM1I,YAAN,CAAwB0I,CAAxB,EAA2BzQ,OAAO,CAAC2O,YAAnC,EAAiDC,EAA7E,GAAkF6B,CAAjG;AACA,6BAAO,OAAI,CAAC4c,eAAL,CAAqBrtB,OAArB,EAA8B0B,MAA9B,EAAsCyrB,QAAtC,EAAgDxd,IAAhD,CAAP;AACD,qB;;uDAEM,KAAKqd,uBAAL,CAA6BhtB,OAA7B,EAAsCmtB,QAAtC,EAAgD/e,QAAhD,EAA0DvU,QAA1D,C;;;;;;;;;AACR,SA5da,CA8dd;;AA9dc;AAAA;AAAA,uCA+dcmG,OA/dd,EA+dgC0B,MA/dhC,EA+dgD0M,QA/dhD,EA+d0E;;;;;;;AACtF,2BAAM,KAAK8e,iBAAL,CAAuBltB,OAAvB,EAAgC0B,MAAhC,EAAwC0M,QAAxC,CAAN;;;AACA,yBAAKU,gBAAL,CAAsB7P,IAAtB,CAA2BmP,QAA3B;;;;;;;;;AACD,SAlea,CAoed;;AApec;AAAA;AAAA,qCAqeYpO,OAreZ,EAqe8B0B,MAre9B,EAqe8CyrB,QAre9C,EAqegE/e,QArehE,EAqe0F;;;;;;;AACtG,2BAAM,KAAKif,eAAL,CAAqBrtB,OAArB,EAA8B0B,MAA9B,EAAsCyrB,QAAtC,EAAgD/e,QAAhD,CAAN;;;AACA,yBAAKW,cAAL,CAAoB9P,IAApB,CAAyBmP,QAAzB;;;;;;;;;AACD;AAxea;AAAA;AAsfd;AAtfc,oCAwfZpO,OAxfY,EAwfMjD,GAxfN,EAwfmB4C,QAxfnB,EAyfZF,KAzfY,EAyfgB2W,GAzfhB,EAyfuD;AAAA,cAAxB1W,OAAwB,uEAAL,KAAK;;;;;;;;;;AAEnE,yBAAKypB,WAAL;;AACA,wBAAI/S,GAAJ,EAAS;AACPpW,6BAAO,GAAG,KAAKgpB,SAAL,CAAerW,IAAf,CAAoB,UAAAnT,CAAC;AAAA,+BAAIA,CAAC,CAACqC,SAAF,IAAeuU,GAAG,CAACvU,SAAvB;AAAA,uBAArB,CAAV;AACD;;wBACI7B,O;;;;;0BACG;AAACtD,6BAAO,EAAE,mBAAV;AAA+B0Z,yBAAG,EAAEA;AAApC,qB;;;;AAES,2BAAM,KAAKtU,oBAAL,CAA0B9B,OAA1B,EAAmCjD,GAAnC,CAAN;;;AAAXuwB,4B;;0BACF5tB,OAAO,IAAI,KAAKJ,GAAL,CAASC,W;;;;;AAChBwe,4B,GAAW,M;;AACX,2BAAM,KAAKze,GAAL,CAASyf,MAAT,CAAgBhB,QAAhB,CAAN;;;;;;;;;AACY,2BAAM,mDAAG,KAAKze,GAAL,CAASwf,KAAT,CAAef,QAAf,CAAH,CAAN;;;;;AAAT1lB,wB;;yBACHA,I;;;;;AACFC,2BAAO,CAACkE,KAAR,CAAcuhB,QAAd;0BACM,iC;;;AAIJ/b,wB,aAAU+b,Q,cAAYpe,Q;;AACZ,2BAAM,mDAAG,KAAKL,GAAL,CAAS2C,MAAT,CAAgBD,IAAhB,EAAsBsrB,QAAtB,CAAH,CAAN;;;;;AAATj1B,uB;;yBACHA,G;;;;;AACFC,2BAAO,CAACkE,KAAR,CAAc,SAAd,EAAyBwF,IAAzB;;;;;AAIwB,2BAAM,mDAAG,KAAK1C,GAAL,CAASiuB,KAAT,CAAevrB,IAAf,CAAH,CAAN;;;;;AAAnBwrB,4B;AAAUD,yB;;yBACbC,Q;;;;;AACFl1B,2BAAO,CAACkE,KAAR,CAAcgxB,QAAd;0BACM,a;;;AAGRnqB,8BAAU,CAAC;AAAA,6BAAM,OAAI,CAAC/D,GAAL,CAASmuB,OAAT,CAAiBF,KAAK,CAACl2B,EAAvB,CAAN;AAAA,qBAAD,EAAmC,KAAK,IAAxC,CAAV;AAEA,yBAAG,CAACq2B,OAAJ,CAAYH,KAAK,CAACxwB,GAAlB;uDACO,I;;;yBAGL,KAAKyE,SAAL,CAAeC,EAAf,CAAkB,SAAlB,C;;;;;;AACU,2BAAM6rB,QAAQ,CAACtP,WAAT,EAAN;;;AAAN2P,uB;AACAniB,wB,GAAO,IAAIoiB,IAAJ,CAAS,CAACD,GAAD,CAAT,EAAgB;AAAChtB,0BAAI,EAAE;AAAP,qBAAhB,C;AACP5D,wB,GAAM2O,GAAG,CAACC,eAAJ,CAAoBH,IAApB,C;AACZ,yBAAG,CAACkiB,OAAJ,CAAY3wB,IAAZ,EAAiB4C,QAAjB;uDACO,I;;;;AAGO,2BAAM,IAAI/I,OAAJ,CAAY,UAAOC,OAAP,EAAgBg3B,MAAhB;AAAA,6BAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AACrDC,sCADqD,GAC5C,IAAIC,UAAJ,EAD4C;AAErDlzB,iCAFqD,GAErCizB,MAAM,CAAC,iCAAD,CAAN,IAA6CA,MAFR;;AAG3DjzB,iCAAC,CAACmzB,SAAF,GAAc,YAAM;AAClBn3B,yCAAO,CAACgE,CAAC,CAACoF,MAAH,CAAP;AACD,iCAFD;;AAGApF,iCAAC,CAACsQ,OAAF,GAAY;AAAA,yCAAM0iB,MAAM,CAACC,MAAM,CAACtxB,KAAR,CAAZ;AAAA,iCAAZ;;AACA3B,iCAAC,CAACozB,kBAAF,CAAqBX,QAArB;;AAP2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAA3B;AAAA,qBAAZ,CAAN;;;AAAVvrB,2B;;AAUS,2BAAM8mB,UAAU,CAACqF,SAAX,CAAqB;AACxClsB,0BAAI,EAAErC,QADkC;AAExCuT,0BAAI,EAAEwM,IAAI,CAAC3d,OAAD,CAF8B;AAGxCosB,+BAAS,EAAE1uB;AAH6B,qBAArB,CAAN;;;AAATQ,0B;uDAKCA,M;;;;;;;;;AACR;AAxjBa;AAAA;AAAA,6CA0jBoBD,OA1jBpB,EA0jBsCjD,GA1jBtC,EA0jBiD;;;;;;;AAC7D,yBAAKosB,WAAL;;AACMte,wB,GAAO,KAAK0f,YAAL,CAAkBvqB,OAAO,CAACkE,KAA1B,C;;AACA,2BAAMkH,KAAK,CAACrO,GAAD,EAAM;AAACsO,6BAAO,EAAE;AAACC,qCAAa,mBAAYT,IAAI,CAACU,KAAjB;AAAd;AAAV,qBAAN,CAAX;;;AAAP2H,wB;uDACCA,IAAI,CAAC1H,IAAL,E;;;;;;;;;AACR,SA/jBa,CAikBd;;AAjkBc;AAAA;AAAA,2CAmkBZxL,OAnkBY,EAmkBME,GAnkBN,EAmkBuBP,QAnkBvB,EAokBZF,KApkBY,EAokBgB2W,GApkBhB,EAokBuD;AAAA,cAAxB1W,OAAwB,uEAAL,KAAK;;;;;;AAEnE,yBAAKypB,WAAL;;0BACI,CAACjpB,GAAG,CAACc,OAAL,IAAgB,CAACd,GAAG,CAACc,OAAJ,CAAYG,Q;;;;;uDACxB,I;;;uDAEF,KAAK0K,WAAL,CAAiB7L,OAAjB,YAA6B,KAAK6J,OAAL,CAAa9M,GAA1C,cAAiDmD,GAAG,CAACc,OAAJ,CAAYG,QAA7D,GAAyExB,QAAzE,EAAmFF,KAAnF,EAA0F2W,GAA1F,EAA+F1W,OAA/F,C;;;;;;;;;AACR,SA3kBa,CA6kBd;;AA7kBc;AAAA;AAAA,yCA8kBgBM,OA9kBhB,EA8kBkCgH,IA9kBlC,EA8kBkD;;;;;;wDACvD,KAAKyjB,QAAL,CAAczqB,OAAO,CAACkE,KAAtB,EAA6B,MAA7B,EAAqC,kBAArC,EAAyD;AAACrC,+BAAS,EAAE7B,OAAO,CAAC6B;AAApB,qBAAzD,EAAyF,oDAAzF,EAAuGmF,IAAvG,C;;;;;;;;;AACR;AAhlBa;AAAA;AAAA,mCAklBUhH,OAllBV,EAklB4BkT,IAllB5B,EAklBqC;;;;;;wDAC1C,KAAKuX,QAAL,CAAczqB,OAAO,CAACkE,KAAtB,EAA6B,MAA7B,EAAqC,kBAArC,EAAyD;AAACrC,+BAAS,EAAE7B,OAAO,CAAC6B;AAApB,qBAAzD,EAAyF,oDAAzF,EAAuGqR,IAAvG,C;;;;;;;;;AACR;AAplBa;AAAA;AAAA,yCAslBiBlT,OAtlBjB,EAslBmC2lB,OAtlBnC,EAslB2D;;;;;;;;AACxD,2BAAM,KAAK8E,QAAL,CAAczqB,OAAO,CAACkE,KAAtB,EAA6B,MAA7B,EAAqC,YAArC,EAAmD;AAACrC,+BAAS,EAAE7B,OAAO,CAAC6B;AAApB,qBAAnD,EAAmF/J,MAAnF,CAAN;;;AAATmI,0B;;AACN,kEAAMmuB,cAAN,CAAqBnuB,MAAM,CAAC,SAAD,CAAN,CAAkB,aAAlB,CAArB,EAAuD0lB,OAAvD;;AACA3lB,2BAAO,CAAC0V,QAAR,GAAmB,IAAnB;;;;;;;;;AACD;AA1lBa;AAAA;AAAA,oCA4lBM1V,OA5lBN,EA4lBsB;AAClC,iBAAO,IAAIpJ,OAAJ,CAA2B,UAAAC,OAAO;AAAA,mBAAImJ,OAAO,CAACmI,QAAR,CAAiBjF,IAAjB,CAAsB,4DAAK,CAAL,CAAtB,EAA+BpG,SAA/B,CAAyC,UAAA6oB,OAAO;AAAA,qBAAI9uB,OAAO,CAAC8uB,OAAD,CAAX;AAAA,aAAhD,CAAJ;AAAA,WAAlC,CAAP;AACD;AA9lBa;AAAA;AAAA,qCAgmBYhlB,IAhmBZ,EAgmB8BX,OAhmB9B,EAgmB8C;;;;;;;;AAC1C,2BAAM,KAAKquB,WAAL,CAAiBruB,OAAjB,CAAN;;;AAAV2lB,2B;;wBACD3lB,OAAO,CAAC0V,Q;;;;;AACXpd,2BAAO,CAACC,GAAR,CAAY,oBAAZ;;AACA,2BAAM,KAAKqyB,gBAAL,CAAsB5qB,OAAtB,EAA+B2lB,OAA/B,CAAN;;;wDAEK,8CAAM5d,YAAN,CAAmBpH,IAAnB,EAAyBglB,OAAzB,C;;;;;;;;;AACR;AAvmBa;AAAA;AAAA,qCAymBMze,CAzmBN,EAymBe;AAC3B,iBAAOA,CAAC,CAACoF,IAAF,IAAU,mDAAWye,IAA5B;AACD,SA3mBa,CA6mBd;;AA7mBc;AAAA;AAAA,oCA8mBW/qB,OA9mBX,EA8mB6BoW,GA9mB7B,EA8mB6C;;;;;;;;AAC3C,2BAAM,KAAKrO,YAAL,CAAkB,mDAAWwE,MAA7B,EAAqCvM,OAArC,CAAN;;;AAARsuB,yB;AACAjP,0B,GAAiBjJ,G;AACvBiJ,0BAAM,CAAC,WAAD,CAAN,GAAsBrf,OAAO,CAAC6B,SAA9B;AACAwd,0BAAM,CAAC,aAAD,CAAN,GAAwBiP,KAAK,CAAC1f,EAA9B;wDACO,KAAK6b,QAAL,CAAczqB,OAAO,CAACkE,KAAtB,EAA6B,MAA7B,EAAqC,aAArC,EAAoDmb,MAApD,EAA4D,2DAA5D,C;;;;;;;;;AACR,SApnBa,CAsnBd;;AAtnBc;AAAA;AAAA,oCAunBWrf,OAvnBX,EAunB6BoW,GAvnB7B,EAunB6C;;;;;;;;AAC5C,2BAAM,KAAKrO,YAAL,CAAkB,mDAAW+iB,IAA7B,EAAmC9qB,OAAnC,CAAN;;;AAAPuuB,wB;;AACQ,2BAAM,KAAKxmB,YAAL,CAAkB,mDAAWwE,MAA7B,EAAqCvM,OAArC,CAAN;;;AAARsuB,yB;AACAjP,0B,GAAiBjJ,G;AACvBiJ,0BAAM,CAAC,WAAD,CAAN,GAAsBrf,OAAO,CAAC6B,SAA9B;AACAwd,0BAAM,CAAC,aAAD,CAAN,GAAwBiP,KAAK,CAAC1f,EAA9B;AACAyQ,0BAAM,CAAC,YAAD,CAAN,GAAuBkP,IAAI,CAAC3f,EAA5B;wDACO,KAAK6b,QAAL,CAAczqB,OAAO,CAACkE,KAAtB,EAA6B,MAA7B,EAAqC,aAArC,EAAoDmb,MAApD,C;;;;;;;;;AACR,SA/nBa,CAioBd;;AAjoBc;AAAA;AAAA,0CAkoBiBrf,OAloBjB,EAkoBmCb,WAloBnC,EAkoBmE;;;;;;;0BAC3E,CAACjF,KAAK,CAACC,OAAN,CAAcgF,WAAd,CAAD,IAA+BA,WAAW,CAAC7B,MAAZ,IAAsB,C;;;;;;;;;AAGlC,2BAAM,KAAKmtB,QAAL,CAC3BzqB,OAAO,CAACkE,KADmB,EACZ,MADY,EACJ,4BADI,EAE3B;AAAChF,iCAAW,EAAEC,WAAW,CAAC7H,GAAZ,CAAgB,UAAAkI,CAAC;AAAA,+BAAIA,CAAC,CAACgvB,IAAN;AAAA,uBAAjB,CAAd;AAA4C3sB,+BAAS,EAAE7B,OAAO,CAAC6B;AAA/D,qBAF2B,EAG3B/J,MAH2B,CAAN;;;AAAjBmI,0B;AAMNnI,0BAAM,CAACZ,IAAP,CAAY+I,MAAZ,EAAoB7F,OAApB,CAA4B,UAAAsY,CAAC,EAAI;AAC/B,0BAAMlT,CAAC,GAAGL,WAAW,CAACwT,IAAZ,CAAiB,UAAAnT,CAAC;AAAA,+BAAIA,CAAC,CAACgvB,IAAF,IAAUvuB,MAAM,CAACyS,CAAD,CAApB;AAAA,uBAAlB,CAAV;;AACA,0BAAI,CAAClT,CAAL,EAAQ;AACN;AACD;;AAEDA,uBAAC,CAACqY,QAAF,GAAanF,CAAb;AACD,qBAPD;;;;;;;;;AAQD,SAppBa,CAspBd;;AAtpBc;AAAA;AAAA,8CAupBe1S,OAvpBf,EAupBiCoW,GAvpBjC,EAupBoD;AAChE,cAAM/J,CAAC,GAAG,qDAAa9O,QAAb,CAAsB;AAACqC,eAAG,EAAEwW,GAAG,CAACJ,SAAJ,CAAc,CAAd,CAAN;AAAwB/J,kBAAM,EAAEmK,GAAG,CAACJ,SAAJ,CAAc,CAAd;AAAhC,WAAtB,EAAyE,+CAAzE,CAAV;;AACA,iBAAO,KAAKxJ,cAAL,CAAoBxM,OAApB,EAA6BqM,CAA7B,CAAP;AACD,SA1pBa,CA4pBd;;AA5pBc;AAAA;AAAA,6CA6pBoBrM,OA7pBpB,EA6pBsC0B,MA7pBtC,EA6pBsD0M,QA7pBtD,EA6pBgF;;;;;;;;AAC9E,2BAAM,KAAKrG,YAAL,CAAkB,mDAAWijB,KAA7B,EAAoChrB,OAApC,CAAN;;;AAARyuB,yB;;0BAEFA,KAAK,CAAC7f,EAAN,IAAYlN,M;;;;;;AACd,2BAAM,KAAKgtB,cAAL,CAAoB1uB,OAApB,EAA6B0B,MAA7B,EAAqC0M,QAArC,CAAN;;;;;;;;AAGA,2BAAM,KAAKugB,YAAL,CAAkB3uB,OAAlB,EAA2B0B,MAA3B,EAAmC+sB,KAAK,CAAC7f,EAAzC,EAA6CR,QAA7C,CAAN;;;;;;;;;AAEH;AAtqBa;AAAA;AAAA,gCAwqBOpO,OAxqBP,EAwqByB0B,MAxqBzB,EAwqByC0M,QAxqBzC,EAwqBmE;;;;;;wDACxE,KAAKugB,YAAL,CAAkB3uB,OAAlB,EAA2B0B,MAA3B,EAAmC,gDAAnC,EAA6C0M,QAA7C,C;;;;;;;;;AACR,SA1qBa,CA4qBd;;AA5qBc;AAAA;AAAA,iCA6qBQpO,OA7qBR,EA6qB0B0B,MA7qB1B,EA6qB0C0M,QA7qB1C,EA6qBoE;;;;;;;;AACnE,2BAAM,KAAKrG,YAAL,CAAkB,mDAAWgjB,IAA7B,EAAmC/qB,OAAnC,CAAN;;;AAAP4uB,wB;AACApqB,sB,GAAKoqB,IAAI,CAAChgB,EAAL,IAAWlN,MAAX,GAAoB,OAApB,GAA8BktB,IAAI,CAAChgB,E;;AAC9C,2BAAM,KAAK+f,YAAL,CAAkB3uB,OAAlB,EAA2B0B,MAA3B,EAAmC8C,EAAnC,EAAuC4J,QAAvC,CAAN;;;;;;;;;AACD;AAjrBa;AAAA;AAAA,gCA0eQrR,GA1eR,EA0eqB4C,QA1erB,EA0ewC;AACpD,cAAMH,CAAC,GAAGrG,QAAQ,CAACwlB,aAAT,CAAuB,GAAvB,CAAV;;AACA,cAAIhf,QAAJ,EAAc;AACZH,aAAC,CAAC2B,QAAF,GAAaxB,QAAb;AACD;;AACDH,WAAC,CAAC5G,MAAF,GAAW,QAAX;AACA4G,WAAC,CAAC+K,IAAF,GAASxN,GAAT;AACA5D,kBAAQ,CAACC,IAAT,CAAcN,WAAd,CAA0B0G,CAA1B;AACAA,WAAC,CAACqf,KAAF;AACA1lB,kBAAQ,CAACC,IAAT,CAAc6E,WAAd,CAA0BuB,CAA1B;AACD;AApfa;;AAAA;AAAA,MAAS,+CAAT,CAAhB;;AACsB,8DAAnB,6DAAS,mDAAT,CAAmB,G,aAAA,E,WAAA,E,MAAA;AACA,8DAAnB,6DAAS,uDAAT,CAAmB,G,aAAA,E,WAAA,E,MAAA;AACJ,8DAAf,6DAAS,2DAAT,CAAe,G,aAAA,E,OAAA,E,MAAA;AACK,8DAApB,6DAAS,+DAAT,CAAoB,G,aAAA,E,KAAA,E,MAAA;AAJVspB,OAAG,qEADf,kEACe,GAAHA,GAAG,CAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTb,QAAM+F,sBAAsB,GAAG,CAA/B;AACA,QAAMC,YAAY,GAAG,KAAK,IAAL,GAAY,EAAjC;;AAGA,QAAaC,UAAU;AAAA;;AAAA;;AAUrB,4BAAc;AAAA;;AAAA;;AACZ;AAJM,gBAAAC,OAAA,GAAkB,CAAlB;AACA,gBAAAC,cAAA,GAAyB,IAAzB;AAEM;AAEb;;AAZoB;AAAA;AAAA,kCAcEp1B,QAdF,EAcsB;;;;;;;;;AACzC,yBAAKq1B,SAAL,GAAiBr1B,QAAjB;;AACsB,2BAAM,KAAKuH,SAAL,CAAe+tB,wBAAf,EAAN;;;AAAtB,yBAAKF,c;;0BACD,KAAKA,cAAL,IAAuB,C;;;;;;;;yBAGvB,KAAKztB,SAAL,CAAeC,EAAf,CAAkB,SAAlB,C;;;;;AACF,yBAAK2tB,gBAAL;;;;;AAGF,yBAAKC,gBAAL,GAAwBjoB,MAAM,CAAC,iBAAD,CAA9B;AACA9O,2BAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,KAAK82B,gBAAxC;;wBACK,KAAKA,gB;;;;;;;;AAGV,yBAAKA,gBAAL,CAAsBC,YAAtB,CAAmC,KAAKC,cAAL,CAAoBl1B,IAApB,CAAyB,IAAzB,CAAnC;;AAEMwC,uB,GAAM,mDAAM,KAAK2E,SAAL,CAAeguB,KAAf,CAAqBtsB,IAArB,CAA0B,2DAAI;AAAA,6BAAM,OAAN;AAAA,qBAAJ,CAA1B,CAAN,EAAqD,KAAK1B,SAAL,CAAeiuB,MAAf,CAAsBvsB,IAAtB,CAA2B,2DAAI;AAAA,6BAAM,QAAN;AAAA,qBAAJ,CAA3B,CAArD,C;AACZrG,uBAAG,CAACC,SAAJ,CAAc,UAAM2I,EAAN;AAAA,6BAAY;AAAA;AAAA;AAAA;AAAA;AAAA,sCACpBA,EAAE,IAAI,QADc;AAAA;AAAA;AAAA;;AAEtBnN,uCAAO,CAACC,GAAR,CAAY,uBAAZ;;AACA,qCAAKm3B,oBAAL,GAHsB,CAItB;;;AAJsB,sCAKlB,KAAKV,OAAL,IAAgBH,sBALE;AAAA;AAAA;AAAA;;AAAA;AAME,uCAAM,KAAKztB,SAAL,CAAe+tB,wBAAf,EAAN;;AANF;AAMpB,qCAAKF,cANe;;AAAA;AAUxB,oCAAIxpB,EAAE,IAAI,OAAV,EAAmB;AACjB,uCAAKkqB,qBAAL;AACD;;AAZuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAd;;;;;;;;;AAcD;AA9CoB;AAAA;AAAA,gDAgDiB;;;;;;AACpC,yBAAKD,oBAAL;;AACAp3B,2BAAO,CAACC,GAAR,CAAY,uBAAZ;;AACA,yBAAK82B,gBAAL,CAAsBO,KAAtB,CAA4B,KAAKC,kBAAL,CAAwBx1B,IAAxB,CAA6B,IAA7B,CAA5B,EAAgE,KAAKy1B,kBAAL,CAAwBz1B,IAAxB,CAA6B,IAA7B,CAAhE,EAAoG;AAClG01B,mCAAa,EAAE,KAAKd,cAD8E;AAElGe,iCAAW,EAAE,KAFqF;AAGlGC,qCAAe,EAAE;AAHiF,qBAApG;;;;;;;;;AAKD;AAxDoB;AAAA;AAAA,6CA0DQ;AAC3B33B,iBAAO,CAACC,GAAR,CAAY,wCAAZ;AACD;AA5DoB;AAAA;AAAA,2CA8DMxB,CA9DN,EA8DgB;AACnCuB,iBAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CxB,CAA3C;AACD;AAhEoB;AAAA;AAAA,+CAkEU;AAC7B,eAAKs4B,gBAAL,CAAsBa,IAAtB,CAA2B,KAAKL,kBAAL,CAAwBx1B,IAAxB,CAA6B,IAA7B,CAA3B,EAA+D,KAAKy1B,kBAAL,CAAwBz1B,IAAxB,CAA6B,IAA7B,CAA/D;AACD;AApEoB;AAAA;AAAA,yCAsEI;AAAA;;AACvB,iBAAO,IAAIzD,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,mBAAI,CAACmT,KAAL,CAAWC,GAAX,CAAe;AAAA,qBAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AACzB,+BAAM,KAAKkmB,IAAL,EAAN;;AADyB;AAEzBt5B,+BAAO;;AAFkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAZ;AAAA,aAAf;AAID,WALM,CAAP;AAMD;AA7EoB;AAAA;AAAA,+BA+EA;;;;;;;;;AACL,2BAAM,mDAAG,KAAKq4B,SAAL,EAAH,CAAN;;;;;AAAP72B,uB;AACPC,2BAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,GAAtB;;0BAEIA,GAAG,IAAI,EAAE,KAAK22B,OAAP,IAAkBH,sBAAzB,IAAmD,KAAKI,cAAL,GAAsBH,Y;;;;;AAC3Ex2B,2BAAO,CAACC,GAAR,CAAY,uDAAZ,EAAqEF,GAArE;AACA,yBAAK42B,cAAL,GAAsBH,YAAtB;;AACA,yBAAKa,qBAAL;;AACAr3B,2BAAO,CAACC,GAAR,CAAY,UAAZ;;;;yBAIEF,G;;;;;AACFC,2BAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CF,GAA5C;;;;0BAGO,KAAK22B,OAAL,IAAgBH,sB;;;;;;AACD,2BAAM,KAAKztB,SAAL,CAAe+tB,wBAAf,EAAN;;;AAAtB,yBAAKF,c;AACL32B,2BAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C,KAAK02B,cAAjD,EAAiE,qBAAjE;;AACA,yBAAKU,qBAAL;;AACAr3B,2BAAO,CAACC,GAAR,CAAY,UAAZ;;;AAGF,yBAAKy2B,OAAL,GAAe,CAAf;;;;;;;;;AACD;AAvGoB;AAAA;AAAA,2CAyGY;;;;;;;;AAC/B,0EAAS,KAAKC,cAAd,EAA8BnyB,SAA9B,CAAwC;AAAA,6BAAM,OAAI,CAACoyB,SAAL,EAAN;AAAA,qBAAxC;;;;;;;;;AACD;AA3GoB;;AAAA;AAAA,MAAS,+CAAT,CAAvB;;AACoB,8DAAjB,6DAAS,oDAAT,CAAiB,G,oBAAA,E,OAAA,E,MAAA;AACE,8DAAnB,6DAAS,uDAAT,CAAmB,G,oBAAA,E,WAAA,E,MAAA;AACA,8DAAnB,6DAAS,kDAAT,CAAmB,G,oBAAA,E,WAAA,E,MAAA;AAHTH,cAAU,6DADtB,kEACsB,GAAVA,UAAU,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNb,QAAMqB,YAAY,GAAG,UAArB;;AAGA,QAAa3c,QAAQ;AAAA;;AAAA;;AA0BnB,0BAAc;AAAA;;AAAA;;AACZ;AAxBK,gBAAAxO,QAAA,GAA2B,EAA3B;;AAyBL,gBAAKmD,KAAL;;AAFY;AAGb;;AA7BkB;AAAA;AAAA,uCAKI5I,CALJ,EAKY;AAC7B,cAAI,CAACA,CAAD,IAAM,CAACtF,KAAK,CAACC,OAAN,CAAcqF,CAAC,CAACmL,UAAhB,CAAX,EAAwC;AACtC,mBAAO,EAAP;AACD;;AAED,iBAAOnL,CAAC,CAACmL,UAAT;AACD;AAXkB;AAAA;AAAA,gCAaG;;;;;;;;;AACJ,2BAAM,KAAK4D,MAAL,CAAY8hB,IAAZ,CAAiBD,YAAjB,EAA+B,+CAA/B,EAAwC,EAAxC,CAAN;;;AAAhB,yBAAKnrB,Q;;AACL,yBAAKnF,IAAL,CAAUipB,gBAAV,CAA2BjsB,SAA3B,CAAqC,UAACsR,QAAD,EAA8B;AACjE,0BAAMsc,IAAI,GAAGtc,QAAQ,CAAC9W,GAAT,CAAa,UAAA+U,CAAC;AAAA,+BAAI,OAAI,CAACikB,cAAL,CAAoBjkB,CAAC,CAACgK,IAAtB,EAC5Bra,MAD4B,CACrB,OAAI,CAACs0B,cAAL,CAAoBjkB,CAAC,CAAC5H,EAAtB,CADqB,EAE5BzI,MAF4B,CAErB,OAAI,CAACs0B,cAAL,CAAoBjkB,CAAC,CAAC9H,GAAtB,CAFqB,EAG5BvI,MAH4B,CAGrB,OAAI,CAACs0B,cAAL,CAAoBjkB,CAAC,CAAChI,EAAtB,CAHqB,CAAJ;AAAA,uBAAd,EAIViR,MAJU,CAIH,UAACC,GAAD,EAAMva,CAAN;AAAA,+BAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,uBAJG,EAIwB,EAJxB,CAAb;;AAMA,6BAAI,CAACsD,GAAL,CAASosB,IAAT;AACD,qBARD;;;;;;;;;AASD;AAxBkB;AAAA;AAAA,4BA+BF6F,IA/BE,EA+B8B;;;;;;;;AAC/C,qBAACr2B,KAAK,CAACC,OAAN,CAAco2B,IAAd,IAAsBA,IAAtB,GAA6B,CAACA,IAAD,CAA9B,EACGn2B,OADH,CACW,UAAAQ,CAAC,EAAI;AACZ,0BAAI,OAAI,CAACqK,QAAL,CAAc3N,GAAd,CAAkB,UAAAsD,CAAC;AAAA,+BAAIA,CAAC,CAACsJ,KAAN;AAAA,uBAAnB,EAAgCI,OAAhC,CAAwC1J,CAAC,CAACsJ,KAA1C,KAAoD,CAAC,CAAzD,EAA4D;AAC1D,+BAAI,CAACe,QAAL,CAAcrJ,IAAd,CAAmBhB,CAAnB;;AACA;AACD;;AAED,0BAAMgR,OAAO,GAAG,OAAI,CAAC3G,QAAL,CAAc0N,IAAd,CAAmB,UAAA6d,EAAE;AAAA,+BAAIA,EAAE,CAACtsB,KAAH,IAAYtJ,CAAC,CAACsJ,KAAlB;AAAA,uBAArB,CAAhB;;AACA0H,6BAAO,CAACsK,WAAR,GAAsBtb,CAAC,CAACsb,WAAxB;AACD,qBATH;;AAUA,2BAAM,KAAK3H,MAAL,CAAYkiB,IAAZ,CAAiBL,YAAjB,EAA+B,KAAKnrB,QAApC,CAAN;;;;;;;;;AACD;AA3CkB;;AAAA;AAAA,MAAS,+CAAT,CAArB;;AACmB,8DAAhB,6DAAS,4CAAT,CAAgB,G,kBAAA,E,QAAA,E,MAAA;AACF,8DAAd,6DAAS,wCAAT,CAAc,G,kBAAA,E,MAAA,E,MAAA;AAFJwO,YAAQ,6DADpB,kEACoB,GAARA,QAAQ,CAAR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHb,QAAaid,WAAW;AAAA;;AAAA;;AAAxB;AAAA;;AAAA;;;AACU,gBAAAxB,SAAA,GAAsB,IAAtB;AADV;AAuDC;;AAvDuB;AAAA;AAAA,6BAGJhoB,CAHI,EAGG;;;;;;;AACjB4mB,0B,GAAS,IAAIC,UAAJ,E;AACTlzB,qB,GAAgBizB,MAAM,CAAC,iCAAD,CAAN,IAA6CA,M;wDAE5D,IAAIl3B,OAAJ,CAAY,UAACC,OAAD,EAAUg3B,MAAV,EAAqB;AACtChzB,uBAAC,CAACmzB,SAAF,GAAc;AACZn3B,+BAAO,CAAC,KAAKoJ,MAAN,CAAP;AACD,uBAFD;;AAGApF,uBAAC,CAACsQ,OAAF,GAAY;;;;;;AACV0iB,wCAAM,CAAC,KAAKrxB,KAAN,CAAN;;;;;;;;;AACD,uBAFD;;AAGA3B,uBAAC,CAACozB,kBAAF,CAAqB/mB,CAArB;AACD,qBARM,C;;;;;;;;;AASR;AAhBqB;AAAA;AAAA,4BAkBLzO,EAlBK,EAkBe;;;;;;;;;AACnC,wBAAI,KAAKy2B,SAAT,EAAoB;AAClB,2BAAKA,SAAL,CAAe,EAAf;AACD;;AACDz2B,sBAAE,CAAComB,KAAH;;AACwB,2BAAM,IAAIjoB,OAAJ,CAAY,UAAAC,OAAO,EAAI;AACnD,6BAAI,CAACq4B,SAAL,GAAiBr4B,OAAjB;AACA,6EAAU4B,EAAV,EAAc,QAAd,EAAwByK,IAAxB,CAA6B,4DAAK,CAAL,CAA7B,EAAsCpG,SAAtC,CAAgD,YAAM;AACpDxE,+BAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBE,EAAE,CAACiO,KAA5B;AACA7P,+BAAO,CAAM4B,EAAE,CAACiO,KAAT,CAAP;AACD,uBAHD;AAID,qBAN6B,CAAN;;;AAAlBA,yB;AAQAzG,0B,GAAS/F,KAAK,CAACoQ,IAAN,CAAW5D,KAAX,EAAkBpP,GAAlB,CAAsB,UAAA4P,CAAC;AAAA,6BAAI,qDAAa3J,QAAb,CAAkC;AAACwE,+BAAO,EAAEmF;AAAV,uBAAlC,EAAgD,kDAAhD,CAAJ;AAAA,qBAAvB,C;AACfzO,sBAAE,CAACma,KAAH,GAAW,EAAX;wDACO3S,M;;;;;;;;;AACR;AAlCqB;AAAA;AAAA,kCAoCC0wB,IApCD,EAoCe;;;;;;;AAC7B1wB,0B,GAAS,IAAI,0DAAJ,E;AACfA,0BAAM,CAAC2wB,QAAP,GAAkB,0CAAlB;AACA3wB,0BAAM,CAACiT,IAAP,GAAc,EAAd;AAEAyd,wBAAI,CAACv2B,OAAL,CAAa,UAACwY,KAAD,EAAQnU,GAAR,EAAgB;AAC3B,0BAAImU,KAAK,YAAYvL,IAArB,EAA2B;AACzBwpB,+BAAO,GAAGpyB,GAAV;AACA;AACD;;AACDwB,4BAAM,CAACiT,IAAP,cAAkBjT,MAAM,CAAC2wB,QAAzB,wDAAkFnyB,GAAlF,uBAAyGmU,KAAzG;AACD,qBAND;AAQM1L,qB,GAAIypB,IAAI,CAAC32B,GAAL,CAAS62B,OAAT,C;;AACM,2BAAM,KAAKC,IAAL,CAAU5pB,CAAV,CAAN;;;AAAVnF,2B;AACN9B,0BAAM,CAACiT,IAAP,cAAkBjT,MAAM,CAAC2wB,QAAzB,wDAAkFC,OAAlF,4BAAyG3pB,CAAC,CAACpN,IAA3G,iCAAyIoN,CAAC,CAACvG,IAA3I,qBAAkKoB,OAAlK,iBAAoL9B,MAAM,CAAC2wB,QAA3L;wDAEO3wB,M;;;;;;;;;AACR;AAtDqB;;AAAA;AAAA,MAAS,+CAAT,CAAxB;;AAAaywB,eAAW,6DADvB,kEACuB,GAAXA,WAAW,CAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDb,QAAaK,MAAM;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,4BAGK;AACpB,iBAAQ,KAAKvvB,SAAL,CAAeC,EAAf,CAAkB,SAAlB,KAAgC,KAAKD,SAAL,CAAewvB,KAAf,KAAyB,IAA1D,IAAmE,KAAKxvB,SAAL,CAAeC,EAAf,CAAkB,QAAlB,CAA1E;AACD;AALgB;;AAAA;AAAA,MAAS,+CAAT,CAAnB;;AACsB,8DAAnB,6DAAS,uDAAT,CAAmB,G,gBAAA,E,WAAA,E,MAAA;AADTsvB,UAAM,6DADlB,kEACkB,GAANA,MAAM,CAAN;;;;;;;;;;;;;;;;ACNb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAUaE,M;AAAb;AAAA;;AACS,aAAA9b,KAAA,GAAkB,OAAO,sEAAYld,QAAnB,IAAgC,WAAhC,GAA8C,iDAASi5B,KAAvD,GAA+D,sEAAYj5B,QAA7F;AACA,aAAAk5B,YAAA,GAAwB,sEAAYh5B,QAApC;AAEA,aAAAi5B,MAAA,GAAiC,IAAI,0DAAJ,EAAjC;AAuCR,O,CArCC;;;;;6BAEajc,K,EAAiC;AAC5C,cAAIA,KAAK,IAAI,KAAKA,KAAlB,EAAyB;AACvB,gBAAIkc,KAAK,GAAG,EAAZ;;AACA,gBAAI,sEAAYr5B,UAAhB,EAA4B,CAE3B,CAFD,MAGK;AACH,kBAAI,KAAKm5B,YAAT,EAAuB;AACrBE,qBAAK,GAAGr6B,KAAK,GAAGq6B,KAAR,CAAc9c,KAAd,CAAoB,IAApB,CAAR;AACAjc,uBAAO,CAACg5B,KAAR;AACAh5B,uBAAO,CAACC,GAAR,CAAY84B,KAAZ;AACD;;AALE,gDANwBv1B,IAMxB;AANwBA,oBAMxB;AAAA;;AAOHxD,qBAAO,CAACC,GAAR,CAAY+N,KAAZ,CAAkBhO,OAAlB,EAA2BwD,IAAI,CAAC,CAAD,CAA/B;AACA,mBAAKs1B,MAAL,CAAYnyB,IAAZ,CAAiB;AAACoyB,qBAAK,EAAEA,KAAR;AAAev1B,oBAAI,EAAEA,IAArB;AAA2BqZ,qBAAK,EAAEA;AAAlC,eAAjB;AACD;AACF;AACF;;;oCAEkB3Y,K,EAAY;AAC7BlE,iBAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBiE,KAAxB;;AACA,eAAK+0B,IAAL,CAAU,iDAASL,KAAnB,EAA0B,CAAC10B,KAAK,CAACE,OAAP,EAAgB,CAACF,KAAK,CAAC60B,KAAN,IAAe,EAAhB,EAAoB9c,KAApB,CAA0B,IAA1B,CAAhB,CAA1B;AACD;;;gCAE4B;AAAA,6CAAbzY,IAAa;AAAbA,gBAAa;AAAA;;AAC3B,eAAKy1B,IAAL,CAAU,iDAASr5B,KAAnB,EAA0B4D,IAA1B;AACD;;;+BAEyB;AAAA,6CAAXA,IAAW;AAAXA,gBAAW;AAAA;;AACxB,eAAKy1B,IAAL,CAAU,iDAASC,IAAnB,EAAyB11B,IAAzB;AACD;;;gCAE4B;AAAA,6CAAbA,IAAa;AAAbA,gBAAa;AAAA;;AAC3B,eAAKy1B,IAAL,CAAU,iDAASL,KAAnB,EAA0Bp1B,IAA1B;AACD;;;;;;QAGU21B,e;;;;AACG,oBAAAr2B,MAAA,GAAS,IAAI61B,MAAJ,EAAT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QC3CTS,kB,GAAsB,wD,CAAtBA,kB;;AAGP,QAAaC,KAAK;AAAA;;AAAA;;AAehB,uBAAc;AAAA;;AAAA;;AACZ;AAVK,gBAAA3iB,QAAA,GAAW,IAAI,0DAAJ,EAAX;AACA,gBAAA8B,UAAA,GAAa,IAAI,0DAAJ,EAAb;AACA,gBAAA8gB,UAAA,GAAa,IAAI,0DAAJ,EAAb;AACA,gBAAA1pB,cAAA,GAAuC,IAAI,0DAAJ,EAAvC;AACA,gBAAA1E,eAAA,GAA0C,IAAI,kDAAJ,CAA2B,CAA3B,CAA1C;AAEC,gBAAAwlB,SAAA,GAA4B,IAA5B;AACA,gBAAA6I,aAAA,GAA4C,IAA5C;;AAIN,gBAAK/N,iBAAL,CAAuB,IAAvB;;AAEA4N,0BAAkB,CAACI,WAAnB,CAA+B,kCAA/B,EAAmE,UAAM3lB,CAAN;AAAA,iBAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5E,yBAAK4lB,eAAL,CAAqB5lB,CAAC,CAAC6lB,YAAF,CAAeC,KAApC;;AAD4E;AAE5D,2BAAMP,kBAAkB,CAACQ,UAAnB,EAAN;;AAF4D;AAEtEC,2BAFsE;;AAG5E,wBAAIA,OAAO,CAACC,aAAR,CAAsB90B,MAAtB,GAA+B,CAAnC,EAAsC;AACpCo0B,wCAAkB,CAACW,MAAnB,CAA0BF,OAA1B;AACD;;AAL2E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAX;AAAA,SAAnE;AAJY;AAWb;;AA1Be;AAAA;AAAA,oCA2CG96B,EA3CH,EA2Ca;AAC3B,cAAI,CAAC6C,KAAK,CAACC,OAAN,CAAc,KAAK6uB,SAAnB,CAAL,EAAoC;AAClC,mBAAO,IAAP;AACD;;AAED,iBAAO,KAAKA,SAAL,CAAerW,IAAf,CAAoB,UAAAnT,CAAC;AAAA,mBAAIA,CAAC,CAACqC,SAAF,IAAexK,EAAnB;AAAA,WAArB,KAA+C,IAAtD;AACD;AAjDe;AAAA;AAAA,4CAmDYA,EAnDZ,EAmDwBsuB,OAnDxB,EAmD8C;AAC5D,cAAIA,OAAO,CAACroB,MAAR,IAAkB,CAAtB,EAAyB;AACvB,mBAAO,IAAP;AACD;;AACD,cAAMoE,MAAM,GAAGikB,OAAO,CAAChT,IAAR,CAAa,UAAAzL,CAAC;AAAA,mBAAIA,CAAC,CAAC0H,EAAF,CAAKlJ,WAAL,MAAsBrO,EAAE,CAACqO,WAAH,EAA1B;AAAA,WAAd,CAAf;;AACA,cAAIhE,MAAJ,EAAY;AACV,mBAAOA,MAAP;AACD;;AAED,cAAM4wB,UAAU,GAAG3M,OAAO,CAACruB,GAAR,CAAY,UAAA4P,CAAC;AAAA,mBAAIA,CAAC,CAACyN,UAAN;AAAA,WAAb,EAA+BW,MAA/B,CAAsC,UAACC,GAAD,EAAMva,CAAN;AAAA,mBAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,WAAtC,EAAiE,EAAjE,CAAnB;AACA,iBAAO,KAAKu3B,mBAAL,CAAyBl7B,EAAzB,EAA6Bi7B,UAA7B,CAAP;AACD;AA9De;AAAA;AAAA,oCAgEGtyB,OAhEH,EAgEqB3I,EAhErB,EAgE+B;AAAA;;AAC7C,iBAAO2I,OAAO,CAACmI,QAAR,CAAiBjF,IAAjB,CACL,4DAAK,CAAL,CADK,EAEL,2DAAI,UAAAyiB,OAAO;AAAA,mBAAI,OAAI,CAAC4M,mBAAL,CAAyBl7B,EAAzB,EAA6BsuB,OAA7B,CAAJ;AAAA,WAAX,CAFK,CAAP;AAID;AArEe;AAAA;AAAA,0CAuEenb,KAvEf,EAuE8B;;;;;;;;0BACxCA,KAAK,IAAI,I;;;;;;AACX,2BAAM,KAAK+D,MAAL,CAAYuV,iBAAZ,CAA8BtZ,KAA9B,CAAN;;;wDAGK,IAAI5T,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,iFAAc,kDAAK,OAAI,CAAC0X,MAAL,CAAY8W,iBAAZ,EAAL,CAAd,EAAqD,OAAI,CAACpiB,SAA1D,EAAqEC,IAArE,CACE,2DAAI;AAAA;AAAA,4BAAEsH,KAAF;AAAA,4BAASrH,QAAT;;AAAA,+BAAuBA,QAAQ,CAAC7F,MAAT,GAAkB,CAAlB,GAAuB6F,QAAQ,CAACwP,IAAT,CAAc,UAAAnT,CAAC;AAAA,iCAAIA,CAAC,CAAC0E,KAAF,IAAWsG,KAAX,IAAqBA,KAAK,IAAI,2DAAT,IAAgChL,CAAC,CAACqC,SAAF,IAAe2I,KAAxE;AAAA,yBAAf,KAAkGrH,QAAQ,CAAC,CAAD,CAAjI,GAAwI,IAA/J;AAAA,uBAAJ,CADF,EAEE,4DAAK,CAAL,CAFF,EAGE,2DAAI,UAAAnD,OAAO;AAAA,+BAAI,OAAI,CAACwD,eAAL,CAAqBud,IAArB,CAA0B/gB,OAA1B,CAAJ;AAAA,uBAAX,CAHF,EAIE,2DAAI;AAAA,+BAAMnJ,OAAO,EAAb;AAAA,uBAAJ,CAJF,EAKEwO,SALF;AAMD,qBAPM,C;;;;;;;;;AAQR;AApFe;AAAA;AAAA,iCAsFAmtB,SAtFA,EAsFgC;AAC9C,cAAI,CAACt4B,KAAK,CAACC,OAAN,CAAcq4B,SAAd,CAAL,EAA+B;AAC7B,mBAAO,IAAP;AACD;;AACD,iBAAOA,SAAS,CAACld,MAAV,CAAiB,UAACC,GAAD,EAAMva,CAAN;AAAA,mBAAY,CAACua,GAAD,GAAOA,GAAP,GAAkBva,CAAC,CAACkJ,KAAF,CAAQxF,KAAR,CAAc,0CAAd,CAA9B;AAAA,WAAjB,EAA0G,IAA1G,CAAP;AACD;AA3Fe;AAAA;AAAA,wCA6FQ2N,CA7FR,EA6FoB;AAClC,eAAKrP,OAAL,CAAaC,aAAb,oBAAuCoP,CAAC,CAACzM,GAAzC;AACD;AA/Fe;AAAA;AAAA,iCAiGCyM,CAjGD,EAiGW;AACzB,cAAM/B,IAAI,GAAG+B,CAAC,CAACgK,IAAF,IAAUnc,KAAK,CAACC,OAAN,CAAckS,CAAC,CAACgK,IAAF,CAAO1L,UAArB,CAAV,IAA8C0B,CAAC,CAACgK,IAAF,CAAO1L,UAAP,CAAkBrN,MAAlB,GAA2B,CAAzE,GAA6E+O,CAAC,CAACgK,IAAF,CAAO1L,UAAP,CAAkB,CAAlB,CAA7E,GAAoG,IAAjH;;AACA,cAAI,CAACL,IAAL,EAAW;AACT,mBAAO,aAAP;AACD;;AAED,iBAAOA,IAAI,CAAC4L,WAAL,IAAoB5L,IAAI,CAACpG,KAAhC;AACD;AAxGe;AAAA;AAAA,kCA0GQkK,QA1GR,EA0GkC;;;;;;;;;;AAC1CvU,4B,GAAW,KAAKk4B,eAAL,CAAqB13B,IAArB,CAA0B,IAA1B,C;;yBACb,KAAKmH,SAAL,CAAeC,EAAf,CAAkB,SAAlB,C;;;;;0BACE2F,MAAM,CAACqrB,YAAP,CAAoBC,UAApB,IAAkC,S;;;;;;AACvB,2BAAMtrB,MAAM,CAACqrB,YAAP,CAAoBE,iBAApB,EAAN;;;AAAPC,yB;;0BACFA,KAAI,IAAI,S;;;;;;;;AAIRR,iC,GAAqC,E;AAC3ChkB,4BAAQ,CAAChU,OAAT,CAAiB,UAAAiS,CAAC,EAAI;AACpB,0BAAMoE,CAAC,GAAG,IAAIrJ,MAAM,CAACqrB,YAAX,CAAwB,OAAI,CAACI,QAAL,CAAcxmB,CAAd,CAAxB,EAA0C;AAACjT,4BAAI,EAAEiT,CAAC,CAACqK;AAAT,uBAA1C,CAAV;;AACAjG,uBAAC,CAAChG,OAAF,GAAY,YAAM;AAChB5Q,gCAAQ,CAACwS,CAAD,CAAR;AACA+lB,qCAAa,CAACh4B,OAAd,CAAsB,UAAA+R,CAAC;AAAA,iCAAIA,CAAC,CAACqR,KAAF,EAAJ;AAAA,yBAAvB;AACD,uBAHD;;AAIA4U,mCAAa,CAACx2B,IAAd,CAAmB6U,CAAnB;AACD,qBAPD;;;;;AAYW,2BAAMihB,kBAAkB,CAACiB,iBAAnB,EAAN;;;AAAPC,wB;;wBACDA,IAAI,CAACE,O;;;;;;;;;AAIV,2BAAMpB,kBAAkB,CAACqB,QAAnB,CAA4B;AAChCX,mCAAa,EAAEhkB,QAAQ,CAAC9W,GAAT,CAAa,UAAA+U,CAAC;AAAA,+BAAuB;AAClDnO,+BAAK,EAAE,OAAI,CAAC20B,QAAL,CAAcxmB,CAAd,CAD2C;AAElDjT,8BAAI,EAAEiT,CAAC,CAACqK,OAF0C;AAGlDrf,4BAAE,EAAE6jB,QAAQ,CAAC7O,CAAC,CAACzM,GAAH,CAHsC;AAIlDqyB,+BAAK,EAAE5lB;AAJ2C,yBAAvB;AAAA,uBAAd;AADiB,qBAA5B,CAAN;;;;;;;;;AAQD;AA7Ie;AAAA;AAAA,0CA+IS2mB,OA/IT,EA+I2B5kB,QA/I3B,EA+IqD;AACnE,cAAM6kB,EAAE,GAAID,OAAO,IAAIA,OAAO,CAACpjB,cAApB,IAAuC,CAAlD;;AACA,cAAIxB,QAAQ,CAAC,CAAD,CAAR,CAAYwB,cAAZ,IAA8BqjB,EAAlC,EAAsC;AACpC;AACD;;AAED,eAAKC,SAAL,CAAe9kB,QAAQ,CAAC9K,MAAT,CAAgB,UAAA+I,CAAC;AAAA,mBAAIA,CAAC,CAACuD,cAAF,GAAmBqjB,EAAvB;AAAA,WAAjB,CAAf;AACD;AAtJe;AAAA;AAAA,gDAwJe7c,GAxJf,EAwJ6B1U,MAxJ7B,EAwJ2C;AACzD,cAAI,CAAC,8CAAM+qB,gBAAN,CAAuB/qB,MAAM,CAACkN,EAA9B,CAAL,EAAwC;AACtC,mBAAOwH,GAAG,CAACnK,MAAJ,IAAcvK,MAAM,CAACkN,EAA5B;AACD;;AAED,cAAI,CAAC,KAAKoa,SAAV,EAAqB;AACnB,mBAAO,KAAP;AACD;;AAED,cAAMxpB,CAAC,GAAG,KAAKwpB,SAAL,CAAerW,IAAf,CAAoB,UAAAnT,CAAC;AAAA,mBAAIA,CAAC,CAACqC,SAAF,IAAeuU,GAAG,CAACvU,SAAvB;AAAA,WAArB,CAAV;;AAEA,cAAI,CAACrC,CAAL,EAAQ;AACN,mBAAO,KAAP;AACD;;AAED,cAAM0H,CAAC,GAAG1H,CAAC,CAACmP,YAAF,CAAegE,IAAf,CAAoB,UAAAzL,CAAC;AAAA,mBAAIA,CAAC,CAAC0H,EAAF,IAAQwH,GAAG,CAACnK,MAAhB;AAAA,WAArB,CAAV;;AACA,cAAI,CAAC/E,CAAL,EAAQ;AACN,mBAAO,KAAP;AACD;;AAED,iBAAOA,CAAC,CAACoF,IAAF,IAAU5K,MAAM,CAAC4K,IAAxB;AACD;AA7Ke;AAAA;AAAA,4BA4BI;AAAA;;AAClB,cAAI,KAAKulB,aAAT,EAAwB;AACtB,mBAAO,KAAKA,aAAZ;AACD;;AAED,eAAKA,aAAL,GAAqB,KAAK/xB,IAAL,CAAU2N,MAAV,CAAiBvK,IAAjB,CACnB,8DAAO,UAAAjD,MAAM;AAAA,mBAAIA,MAAJ;AAAA,WAAb,CADmB,EAEnB,gEAAS;AAAA,mBAAM,kDAAK,OAAI,CAACH,IAAL,CAAUqzB,WAAV,EAAL,CAAN;AAAA,WAAT,CAFmB,EAGnB,2DAAI,UAAAhwB,QAAQ;AAAA,mBAAI,OAAI,CAAC6lB,SAAL,GAAiB7lB,QAArB;AAAA,WAAZ,CAHmB,EAInB,oEAJmB,CAArB;AAOA,iBAAO,KAAK0uB,aAAZ;AACD;AAzCe;;AAAA;AAAA,MAAS,+CAAT,CAAlB;;AACiB,8DAAd,6DAAS,wCAAT,CAAc,G,eAAA,E,MAAA,E,MAAA;AACE,8DAAhB,6DAAS,4CAAT,CAAgB,G,eAAA,E,QAAA,E,MAAA;AACG,8DAAnB,6DAAS,uDAAT,CAAmB,G,eAAA,E,WAAA,E,MAAA;AACF,8DAAjB,6DAAS,uDAAT,CAAiB,G,eAAA,E,SAAA,E,MAAA;AAJPF,SAAK,6DADjB,kEACiB,GAALA,KAAK,CAAL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRb,QAAayB,UAAU;AAAA;;AAAA;;AASrB,4BAAc;AAAA;;AAAA;;AACZ;AALK,gBAAAC,UAAA,GAAoC,IAAI,kDAAJ,CAA0B,CAA1B,CAApC;AACA,gBAAAC,YAAA,GAAsC,IAAI,kDAAJ,CAA0B,CAA1B,CAAtC;AACA,gBAAA/P,WAAA,GAAc,IAAI,0DAAJ,EAAd;;AAIL,gBAAKvmB,OAAL,CAAau2B,MAAb,CAAoBrwB,IAApB,CAAyB,8DAAO,UAAAuC,EAAE;AAAA,iBAAIA,EAAE,YAAY,6DAAlB;AAAA,SAAT,CAAzB,EAAoE3I,SAApE,CAA8E,YAAM;AAClF,kBAAKu2B,UAAL,CAAgBtS,IAAhB,CAAqB,QAAKO,MAAL,CAAYkS,IAAZ,CAAiBC,UAAjB,CAA4BC,QAA5B,CAAqCxgB,IAA1D;;AACA,kBAAKogB,YAAL,CAAkBvS,IAAlB,CAAuB,QAAKO,MAAL,CAAYmS,UAAZ,CAAuBC,QAAvB,CAAgCrU,MAAvD;AACD,SAHD;;AAIAlmB,gBAAQ,CAACw6B,gBAAT,CAA0B,YAA1B,EAAwC,UAAAluB,EAAE,EAAI;AAC5CA,YAAE,CAACmuB,eAAH;AACAnuB,YAAE,CAACouB,cAAH;;AACA,kBAAK7pB,KAAL,CAAWC,GAAX,CAAe,YAAM;AACnB,oBAAKsZ,WAAL,CAAiBtkB,IAAjB;AACD,WAFD;AAGD,SAND,EAMG,KANH;AANY;AAab;;AAtBoB;AAAA;AAAA,uCAwBCR,GAxBD,EAwBc;AACjC,iBAAO,KAAK60B,YAAL,CAAkBpwB,IAAlB,CACL,8DAAO,UAAAyD,CAAC;AAAA,mBAAI7O,MAAM,CAACZ,IAAP,CAAYyP,CAAZ,EAAerC,OAAf,CAAuB7F,GAAvB,KAA+B,CAAC,CAApC;AAAA,WAAR,CADK,EAEL,2DAAI,UAAAkI,CAAC;AAAA,mBAAIA,CAAC,CAAClI,GAAD,CAAL;AAAA,WAAL,CAFK,EAGL,6EAHK,CAAP;AAMD;AA/BoB;;AAAA;AAAA,MAAS,+CAAT,CAAvB;;AACoB,8DAAjB,6DAAS,sDAAT,CAAiB,G,oBAAA,E,SAAA,E,MAAA;AACQ,8DAAzB,6DAAS,8DAAT,CAAyB,G,oBAAA,E,QAAA,E,MAAA;AACR,8DAAjB,6DAAS,oDAAT,CAAiB,G,oBAAA,E,OAAA,E,MAAA;AAHP20B,cAAU,6DADtB,kEACsB,GAAVA,UAAU,CAAV;;;;;;;;;;;;;;;;ACNb;AAAA;;;AAAA;AAAA;AAAA;;QAAaU,yB;;;;;;;qCACEC,K,EAA6B;AACxC,iBAAO,KAAP;AACD;;;8BACKA,K,EAA+BC,Y,EAAiC,CAAU;;;qCACnED,K,EAA6B;AACxC,iBAAO,KAAP;AACD;;;iCACQA,K,EAA6B;AACpC,iBAAO,IAAP;AACD;;;yCACgBE,M,EAAgCC,I,EAA4B;AAC3E,iBAAO,IAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPH,QAAMC,UAAU,GAAG,QAAnB;AACA,QAAMC,aAAa,GAAG,WAAtB;AACA,QAAMC,gBAAgB,GAAG,cAAzB;AACA,QAAMC,cAAc,GAAG,uBAAvB;AACA,QAAMC,qBAAqB,GAAG,uBAA9B;AACA,QAAMC,aAAa,GAAG,kBAAtB;AACA,QAAMC,aAAa,GAAG,eAAtB;AACA,QAAMC,KAAK,GAAG,OAAd;AAEA,QAAMC,sBAAsB,GAAsB,CAChD;AAAC1rB,WAAK,EAAE,UAAR;AAAoB2J,WAAK,EAAE,KAAK;AAAhC,KADgD,EAEhD;AAAC3J,WAAK,EAAE,WAAR;AAAqB2J,WAAK,EAAE,KAAK,IAAL,GAAY;AAAxC,KAFgD,EAGhD;AAAC3J,WAAK,EAAE,YAAR;AAAsB2J,WAAK,EAAE,KAAK,IAAL,GAAY;AAAzC,KAHgD,EAIhD;AAAC3J,WAAK,EAAE,YAAR;AAAsB2J,WAAK,EAAE,KAAK,IAAL,GAAY;AAAzC,KAJgD,EAKhD;AAAC3J,WAAK,EAAE,OAAR;AAAiB2J,WAAK,EAAE;AAAxB,KALgD,CAAlD;AAQA,QAAMgiB,oBAAoB,GAAsB,CAC9C;AAAC3rB,WAAK,EAAE,MAAR;AAAgB2J,WAAK,EAAE;AAAvB,KAD8C,EAE9C;AAAC3J,WAAK,EAAE,YAAR;AAAsB2J,WAAK,EAAE;AAA7B,KAF8C,CAAhD;AAKA,QAAMiiB,SAAS,GAAsB,CACnC;AAAC5rB,WAAK,EAAE,aAAR;AAAuB2J,WAAK,EAAE;AAA9B,KADmC,EAEnC;AAAC3J,WAAK,EAAE,aAAR;AAAuB2J,WAAK,EAAE;AAA9B,KAFmC,EAGnC;AAAC3J,WAAK,EAAE,cAAR;AAAwB2J,WAAK,EAAE;AAA/B,KAHmC,CAArC;AAMA,QAAMkiB,aAAa,GAAsB,CACvC;AAAC7rB,WAAK,EAAE,OAAR;AAAiB2J,WAAK,EAAa;AAAnC,KADuC,EAEvC;AAAC3J,WAAK,EAAE,MAAR;AAAgB2J,WAAK,EAAa;AAAlC,KAFuC,CAAzC;;AAMA,QAAakS,QAAQ;AAAA;;AAAA;;AAiBnB,0BAAc;AAAA;;AAAA;;AACZ;AAfK,gBAAAmE,UAAA,GAAa,IAAI,0DAAJ,EAAb;;AAgBL,gBAAK8L,SAAL;;AACA,gBAAKC,cAAL;;AAHY;AAIb;;AArBkB;AAAA;AAAA,oCAKM;;;;;;;;AACT,2BAAM,KAAKtS,QAAL,EAAN;;;AAARC,yB;;0BACFA,KAAK,IAAI,M;;;;;AACXxpB,4BAAQ,CAACC,IAAT,CAAcH,KAAd,CAAoBg8B,eAApB,GAAsC,SAAtC;AACA97B,4BAAQ,CAACuQ,aAAT,CAAuB,aAAvB,EAAsCC,YAAtC,CAAmD,MAAnD,EAA2D,mCAA3D;;;;AAIFxQ,4BAAQ,CAACC,IAAT,CAAcH,KAAd,CAAoBg8B,eAApB,GAAsC,SAAtC;AACA97B,4BAAQ,CAACuQ,aAAT,CAAuB,aAAvB,EAAsCC,YAAtC,CAAmD,MAAnD,EAA2D,oCAA3D;;;;;;;;;AACD;AAfkB;AAAA;AAAA,yCAuBY;;;;;;;;AACnB,2BAAM,KAAKurB,iBAAL,EAAN;;;AAAJt6B,qB;;wBACDA,C;;;;;;;;AAIL,yBAAK0E,GAAL,CAASkf,WAAT,GAAuB5jB,CAAvB;;;;;;;;;AACD;AA9BkB;AAAA;AAAA,oCAgCH;AACd,iBAAO,KAAK2T,MAAL,CAAY8hB,IAAZ,CAAiB8D,UAAjB,EAA6B,qDAA7B,CAAP;AACD;AAlCkB;AAAA;AAAA,kCAoCIgB,OApCJ,EAoC4B;;;;;;;AAC7CA,2BAAO,CAACpqB,KAAR,CAAc3Q,OAAd,CAAsB,UAAAmoB,CAAC;AAAA,6BAAIA,CAAC,CAAC2H,IAAF,GAAS,IAAb;AAAA,qBAAvB;;AACe,2BAAM,KAAK3b,MAAL,CAAYkiB,IAAZ,CAAiB0D,UAAjB,EAA6BgB,OAA7B,CAAN;;;AAATl1B,0B;AACN,yBAAKgpB,UAAL,CAAgBhqB,IAAhB;wDACOgB,M;;;;;;;;;AACR;AAzCkB;AAAA;AAAA,sCA2CK;;;;;;wDACf,KAAKsO,MAAL,CAAY8hB,IAAZ,CAAiB+D,aAAjB,EAAgC3wB,SAAhC,EAA2C,EAA3C,C;;;;;;;;;AACR;AA7CkB;AAAA;AAAA,oCA+CArH,CA/CA,EA+CW;AAC5B,iBAAO,KAAKmS,MAAL,CAAYkiB,IAAZ,CAAiB2D,aAAjB,EAAgCh4B,CAAhC,CAAP;AACD;AAjDkB;AAAA;AAAA,yCAmDE;AACnB,iBAAO,KAAKmS,MAAL,CAAY8hB,IAAZ,CAAiBgE,gBAAjB,EAAmC5wB,SAAnC,EAA8C,MAA9C,CAAP;AACD;AArDkB;AAAA;AAAA,uCAuDG9C,IAvDH,EAuD6B;AAC9C,iBAAO,KAAK4N,MAAL,CAAYkiB,IAAZ,CAAiB4D,gBAAjB,EAAmC1zB,IAAnC,CAAP;AACD;AAzDkB;AAAA;AAAA,mDA2DY;AAC7B,iBAAO,KAAK4N,MAAL,CAAY8hB,IAAZ,CAAiBiE,cAAjB,EAAiC7wB,SAAjC,EAA4C,KAAK,IAAL,GAAY,EAAxD,CAAP;AACD;AA7DkB;AAAA;AAAA,iDA+DamP,KA/Db,EA+D4B;AAC7C,iBAAO,KAAKrE,MAAL,CAAYkiB,IAAZ,CAAiB6D,cAAjB,EAAiC1hB,KAAjC,CAAP;AACD;AAjEkB;AAAA;AAAA,4CAmEK;AACtB,iBAAO,KAAKrE,MAAL,CAAY8hB,IAAZ,CAAiBkE,qBAAjB,EAAwC,sEAAxC,CAAP;AACD;AArEkB;AAAA;AAAA,0CAuEM9jB,CAvEN,EAuE+B;AAChD,iBAAO,KAAKlC,MAAL,CAAYkiB,IAAZ,CAAiB8D,qBAAjB,EAAwC9jB,CAAxC,CAAP;AACD;AAzEkB;AAAA;AAAA,0CA2EG;AACpB,iBAAO,KAAKlC,MAAL,CAAY8hB,IAAZ,CAAiBoE,aAAjB,CAAP;AACD;AA7EkB;AAAA;AAAA,wCA+EIhkB,CA/EJ,EA+Ea;AAC9B,iBAAO,KAAKlC,MAAL,CAAYkiB,IAAZ,CAAiBgE,aAAjB,EAAgChkB,CAAhC,CAAP;AACD;AAjFkB;AAAA;AAAA,mCAmFJ;AACb,iBAAO,KAAKlC,MAAL,CAAY8hB,IAAZ,CAAiBqE,KAAjB,CAAP;AACD;AArFkB;AAAA;AAAA,iCAuFHjkB,CAvFG,EAuFS;AAC1B,iBAAO,KAAKlC,MAAL,CAAYkiB,IAAZ,CAAiBiE,KAAjB,EAAwBjkB,CAAxB,CAAP;AACD;AAzFkB;AAAA;AAAA,0CA2FS;;;;;;;;AACX,2BAAO,KAAKlC,MAAL,CAAY8hB,IAAZ,CAAiBmE,aAAjB,CAAP;;;AAATv0B,0B;;0BACFA,MAAM,IAAI,I;;;;;wDACL,K;;;wDAEFA,M;;;;;;;;;AACR;AAjGkB;AAAA;AAAA,wCAmGIwQ,CAnGJ,EAmGc;AAAmB,iBAAO,KAAKlC,MAAL,CAAYkiB,IAAZ,CAAiB+D,aAAjB,EAAgC/jB,CAAhC,CAAP;AAA4C;AAnG7E;AAAA;AAAA,sCAqGGA,CArGH,EAqGuBiM,OArGvB,EAqGiD;AAClE,cAAMzc,MAAM,GAAG,IAAI,kDAAJ,EAAf;AACAA,gBAAM,CAAC+F,KAAP,GAAe0W,OAAO,CAAC/J,IAAR,CAAa,UAAAlb,CAAC;AAAA,mBAAIA,CAAC,CAACmb,KAAF,IAAWnC,CAAf;AAAA,WAAd,CAAf;AACAxQ,gBAAM,CAACyc,OAAP,GAAiBA,OAAjB;AACA,iBAAOzc,MAAP;AACD;AA1GkB;AAAA;AAAA,qCA4HOm1B,QA5HP,EA4H4B;;;;;;;AACvCzuB,qB,GAAI,E;AACVA,qBAAC,CAAC/K,IAAF,CAAO,KAAKupB,SAAL,CAAeiQ,QAAQ,CAAC9zB,MAAxB,CAAP;AACAqF,qBAAC,CAAC/K,IAAF,CAAO,KAAKy5B,wBAAL,CAA8BD,QAAQ,CAACE,kBAAT,CAA4BtvB,KAA5B,CAAkC4M,KAAhE,CAAP;AACAjM,qBAAC,CAAC/K,IAAF,CAAO,KAAK25B,cAAL,CAAoBH,QAAQ,CAACpxB,WAAT,CAAqBgC,KAArB,CAA2B4M,KAA/C,CAAP;AACAjM,qBAAC,CAAC/K,IAAF,CAAO,KAAK45B,WAAL,CAAiBJ,QAAQ,CAAC9J,QAAT,CAAkBtlB,KAAlB,CAAwB4M,KAAzC,CAAP;AACAjM,qBAAC,CAAC/K,IAAF,CAAO,KAAK65B,eAAL,CAAqBL,QAAQ,CAAC5P,YAA9B,CAAP;AACA7e,qBAAC,CAAC/K,IAAF,CAAO,KAAK85B,eAAL,CAAqBN,QAAQ,CAACO,cAA9B,CAAP;AACAhvB,qBAAC,CAAC/K,IAAF,CAAO,KAAKg6B,QAAL,CAAcR,QAAQ,CAACzS,KAAT,CAAe3c,KAAf,CAAqB4M,KAAnC,CAAP;;AACA,2BAAMhc,OAAO,CAACe,GAAR,CAAYgP,CAAZ,CAAN;;;AACA,yBAAKouB,SAAL;;;;;;;;;AACD;AAvIkB;AAAA;AAAA,2CAyIazzB,MAzIb,EAyIkC;;;;;;;wBAC9CA,M;;;;;wDACI,E;;;;AAGO,2BAAM,KAAKD,SAAL,EAAN;;;AAAVw0B,2B;;0BAEF,CAACA,OAAD,IAAYA,OAAO,CAAC94B,GAAR,IAAeuE,MAAM,CAACvE,G;;;;;wDAC7BuE,MAAM,CAACyJ,K;;;wDAGTzJ,MAAM,CAACyJ,KAAP,CAAazH,MAAb,CAAoB,UAAAif,CAAC;AAAA,6BAAI,CAACA,CAAC,CAAChX,KAAH,IAAYgX,CAAC,CAAC2H,IAAlB;AAAA,qBAArB,C;;;;;;;;;AACR;AArJkB;AAAA;AAAA,4BA4GG;AAAA;;AACpB,iBAAO,IAAItzB,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,gBAAMmP,KAAK,GAAG,IAAI,mDAAJ,EAAd;AACA,gBAAMW,CAAC,GAAG,EAAV;AACAA,aAAC,CAAC/K,IAAF,CAAO,OAAI,CAACuzB,wBAAL,GAAgCr4B,IAAhC,CAAqC,UAAA2Z,CAAC;AAAA,qBAAIzK,KAAK,CAACsvB,kBAAN,GAA2B,OAAI,CAACQ,aAAL,CAAmBrlB,CAAnB,EAAsBkkB,sBAAtB,CAA/B;AAAA,aAAtC,CAAP;AACAhuB,aAAC,CAAC/K,IAAF,CAAO,OAAI,CAACiI,cAAL,GAAsB/M,IAAtB,CAA2B,UAAA2Z,CAAC;AAAA,qBAAIzK,KAAK,CAAChC,WAAN,GAAoB,OAAI,CAAC8xB,aAAL,CAAmBrlB,CAAnB,EAAsBmkB,oBAAtB,CAAxB;AAAA,aAA5B,CAAP;AACAjuB,aAAC,CAAC/K,IAAF,CAAO,OAAI,CAAC+R,WAAL,GAAmB7W,IAAnB,CAAwB,UAAA2Z,CAAC;AAAA,qBAAIzK,KAAK,CAACslB,QAAN,GAAiB,OAAI,CAACwK,aAAL,CAAmBrlB,CAAnB,EAAsBokB,SAAtB,CAArB;AAAA,aAAzB,CAAP;AACAluB,aAAC,CAAC/K,IAAF,CAAO,OAAI,CAACyF,SAAL,GAAiBvK,IAAjB,CAAsB,UAAA2Z,CAAC;AAAA,qBAAIzK,KAAK,CAAC1E,MAAN,GAAemP,CAAnB;AAAA,aAAvB,CAAP;AACA9J,aAAC,CAAC/K,IAAF,CAAO,OAAI,CAACm6B,eAAL,GAAuBj/B,IAAvB,CAA4B,UAAA2Z,CAAC;AAAA,qBAAIzK,KAAK,CAACwf,YAAN,GAAqB/U,CAAzB;AAAA,aAA7B,CAAP;AACA9J,aAAC,CAAC/K,IAAF,CAAO,OAAI,CAACo6B,eAAL,GAAuBl/B,IAAvB,CAA4B,UAAA2Z,CAAC;AAAA,qBAAIzK,KAAK,CAAC2vB,cAAN,GAAuBllB,CAA3B;AAAA,aAA7B,CAAP;AACA9J,aAAC,CAAC/K,IAAF,CAAO,OAAI,CAAC8mB,QAAL,GAAgB5rB,IAAhB,CAAqB,UAAA2Z,CAAC;AAAA,qBAAIzK,KAAK,CAAC2c,KAAN,GAAc,OAAI,CAACmT,aAAL,CAAmBrlB,CAAnB,EAAsBqkB,aAAtB,CAAlB;AAAA,aAAtB,CAAP;AAEAl+B,mBAAO,CAACe,GAAR,CAAYgP,CAAZ,EAAe7P,IAAf,CAAoB;AAAA,qBAAMD,OAAO,CAACmP,KAAD,CAAb;AAAA,aAApB;AACD,WAZM,CAAP;AAaD;AA1HkB;;AAAA;AAAA,MAAS,+CAAT,CAArB;;AACmB,8DAAhB,6DAAS,4CAAT,CAAgB,G,kBAAA,E,QAAA,E,MAAA;AACI,8DAApB,6DAAS,8DAAT,CAAoB,G,kBAAA,E,KAAA,E,MAAA;AAFV8e,YAAQ,6DADpB,kEACoB,GAARA,QAAQ,CAAR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCb,QAAMhF,OAAO,GAAG,+DAAUD,IAAV,GAAiB,0DAAjB,GAA6B,wDAAQC,OAArD;AAEA,QAAMmW,MAAM,GAAG,oBAAf;AACA,QAAMC,eAAe,GAAG,iBAAxB;AACA,QAAMC,aAAa,GAAG,sBAAtB;;AAGA,QAAaC,KAAK;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BACK33B,GADL,EACkBkC,IADlB,EACkC01B,QADlC,EACyD;;;;;;;;AACxD,2BAAMvW,OAAO,CAAC9lB,GAAR,CAAY;AAACyE,yBAAG,EAAEw3B,MAAM,GAAGx3B;AAAf,qBAAZ,CAAN;;;AAATwB,0B;;wBACDA,MAAM,CAAC2S,K;;;;;wDACHyjB,QAAQ,GAAGA,QAAH,GAAc,I;;;wDAExB,qDAAa94B,QAAb,CAAsBwX,IAAI,CAACC,KAAL,CAAW/U,MAAM,CAAC2S,KAAlB,EAAyBM,IAA/C,EAAqDvS,IAArD,C;;;;;;;;;AACR;AAPe;AAAA;AAAA,6BASElC,GATF,EASeyU,IATf,EASwB;;;;;;wDAC/B4M,OAAO,CAACnkB,GAAR,CAAY;AAAC8C,yBAAG,EAAEw3B,MAAM,GAAGx3B,GAAf;AAAoBmU,2BAAK,EAAEmC,IAAI,CAAC0K,SAAL,CAAe;AAACvM,4BAAI,EAAEA,IAAP;AAAaojB,4BAAI,EAAE,IAAI9mB,IAAJ;AAAnB,uBAAf;AAA3B,qBAAZ,C;;;;;;;;;AACR;AAXe;AAAA;AAAA,4CAac;;;;;;wDACrB,KAAK6gB,IAAL,CAAU6F,eAAV,C;;;;;;;;;AACR;AAfe;AAAA;AAAA,0CAiBe1rB,KAjBf,EAiB8B;;;;;;wDACrC,KAAKimB,IAAL,CAAUyF,eAAV,EAA2B1rB,KAA3B,C;;;;;;;;;AACR;AAnBe;AAAA;AAAA,0CAqBY;;;;;;wDACnB,KAAK6lB,IAAL,CAAU8F,aAAV,C;;;;;;;;;AACR;AAvBe;AAAA;AAAA,wCAyBajvB,CAzBb,EAyBwB;;;;;;AACtC,yBAAKupB,IAAL,CAAU0F,aAAV,EAAyBjvB,CAAzB;;;;;;;;;AACD;AA3Be;;AAAA;AAAA,MAAS,+CAAT,CAAlB;;AAAakvB,SAAK,6DADjB,kEACiB,GAALA,KAAK,CAAL;;;;;;;;;;;;;;;;ACbb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAEaG,K;;;;;;;oCACe3qB,O,EAAgB;AACxC,cAAM9R,IAAI,GAAG8R,OAAO,CAAC1H,KAArB;AACA,cAAIsyB,IAAI,GAAG,CAAX;;AACA,eAAK,IAAI5vB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG9M,IAAI,CAACwD,MAAzB,EAAiCsJ,CAAC,EAAlC,EAAsC;AACpC4vB,gBAAI,GAAG18B,IAAI,CAAC28B,UAAL,CAAgB7vB,CAAhB,KAAsB,CAAC4vB,IAAI,IAAI,CAAT,IAAcA,IAApC,CAAP;AACD;;AAED,cAAIE,CAAC,GAAGF,IAAI,GAAG,GAAf;AACA,iBAAO,SAAOE,CAAP,GAAS,aAAhB;AACD;;;0CAEkC97B,C,EAAgB;AACjD,cAAI,CAACA,CAAD,IAAM,CAACV,KAAK,CAACC,OAAN,CAAcS,CAAC,CAAC+P,UAAhB,CAAX,EAAwC;AACtC,mBAAO,EAAP;AACD;;AAED,iBAAO/P,CAAC,CAAC+P,UAAT;AACD;;;oCAEyBI,K,EAA2BP,K,EAAa;AAChE,iBAAOO,KAAK,CAAC4H,IAAN,CAAW,UAAA4P,CAAC;AAAA,mBAAIA,CAAC,CAAC/X,KAAF,IAAWA,KAAf;AAAA,WAAZ,CAAP;AACD;;;sCAE4Bmb,O,EAAwBgR,S,EAAiC;AACpF,cAAI,CAACz8B,KAAK,CAACC,OAAN,CAAcwrB,OAAd,CAAD,IAA2BA,OAAO,CAACroB,MAAR,IAAkB,CAAjD,EAAoD;AAClD,mBAAO,IAAP;AACD;;AACD,cAAM2C,MAAM,GAAG0lB,OAAO,CAAChT,IAAR,CAAagkB,SAAb,CAAf;AAEA,iBAAO12B,MAAM,IAAIs2B,KAAK,CAACK,aAAN,CAAoBjR,OAAO,CAACruB,GAAR,CAAY,UAAA4P,CAAC;AAAA,mBAAIA,CAAC,CAACyN,UAAN;AAAA,WAAb,EAA+BW,MAA/B,CAAsC,UAACC,GAAD,EAAMva,CAAN;AAAA,mBAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,WAAtC,EAAiE,EAAjE,CAApB,EAA0F27B,SAA1F,CAAjB;AAED;;;qCAE0Bh2B,I,EAAkBglB,O,EAAsB;AACjE,iBAAO4Q,KAAK,CAACK,aAAN,CAAoBjR,OAApB,EAA8B,UAAAze,CAAC;AAAA,mBAAIA,CAAC,CAACoF,IAAF,IAAU3L,IAAd;AAAA,WAA/B,CAAP;AACD;;;uCAE4BuS,I,EAAqByS,O,EAAwB;AACxE,cAAIzS,IAAI,CAAC5V,MAAL,IAAe,CAAnB,EAAsB;AACpB;AACD;;AAED4V,cAAI,CAAC9Y,OAAL,CAAa,UAAA+wB,EAAE,EAAI;AACjB,gBAAMjkB,CAAC,GAAGqvB,KAAK,CAAC7nB,UAAN,CAAiBiX,OAAjB,EAA0BwF,EAAE,CAAC,UAAD,CAA5B,CAAV;;AACA,gBAAI,CAACjkB,CAAL,EAAQ;AACN;AACD;;AAEDA,aAAC,CAACoF,IAAF,GAAS6e,EAAE,CAAC,MAAD,CAAX;AACD,WAPD;AASA,eAAKiD,cAAL,CACElb,IAAI,CACD5P,MADH,CACU,UAAAmI,CAAC;AAAA,mBAAI,CAAC,CAACA,CAAC,CAAC,YAAD,CAAH,IAAqBvR,KAAK,CAACC,OAAN,CAAcsR,CAAC,CAAC,YAAD,CAAD,CAAgB,aAAhB,CAAd,CAAzB;AAAA,WADX,EAEGnU,GAFH,CAEO,UAAAmU,CAAC;AAAA,mBAAIA,CAAC,CAAC,YAAD,CAAD,CAAgB,aAAhB,CAAJ;AAAA,WAFR,EAGG6J,MAHH,CAGU,UAACC,GAAD,EAAMva,CAAN;AAAA,mBAAYua,GAAG,CAACvZ,MAAJ,CAAWhB,CAAX,CAAZ;AAAA,WAHV,EAGqC,EAHrC,CADF,EAKE2qB,OALF;AAOD;;;mCAEwBA,O,EAAwBtuB,E,EAAU;AACzD,iBAAOk/B,KAAK,CAACK,aAAN,CAAoBjR,OAApB,EAA8B,UAAAze,CAAC;AAAA,mBAAIA,CAAC,CAAC0H,EAAF,IAAQvX,EAAZ;AAAA,WAA/B,CAAP;AACD;;;qCAE0B+e,G,EAAmB;AAC5C,iBAAO,CAAC,CAACA,GAAG,CAACjQ,QAAN,IAAkBiQ,GAAG,CAACJ,SAAtB,IAAmC9b,KAAK,CAACC,OAAN,CAAcic,GAAG,CAACJ,SAAlB,CAAnC,IAAmEI,GAAG,CAACJ,SAAJ,CAAc1Y,MAAd,IAAwB,CAAlG;AACD;;;oCAEyB0I,K,EAAkB;AAC1C,iBAAO,CAACA,KAAK,CAACsE,IAAP,IAAe,CAACtE,KAAK,CAACxB,EAAtB,IAA4B,CAACwB,KAAK,CAACgO,IAAnC,IAA2C,CAAChO,KAAK,CAACkO,IAAlD,IACF,CAAClO,KAAK,CAACiO,KADL,IACc,CAACjO,KAAK,CAACoK,MADrB,IAC+B,CAACpK,KAAK,CAAC+N,OADtC,IACiD,CAAC/N,KAAK,CAAC7G,WAD/D;AAED;;;sCAE2BmC,M,EAAuBzH,Q,EAAkB;AACnE,cAAI,CAACyH,MAAD,IAAW,CAACpH,KAAK,CAACC,OAAN,CAAcmH,MAAM,CAACyJ,KAArB,CAAhB,EAA6C;AAC3C,mBAAO,EAAP;AACD;;AACD,cAAM7D,CAAC,GAAG,SAAJA,CAAI,CAACzB,EAAD;AAAA,mBAAa5L,QAAQ,CAAC4L,EAAE,CAACse,IAAJ,CAArB;AAAA,WAAV;;AACA,cAAM9jB,MAAM,GAAGqB,MAAM,CAACyJ,KAAP,CAAazT,GAAb,CAAiB,UAAAirB,CAAC;AAAA,mBAAc;AAC7CtZ,mBAAK,EAAEsZ,CAAC,CAAC/X,KADoC;AAC7BtB,kBAAI,EAAE,YADuB;AACTC,qBAAO,EAAEjC,CADA;AACG7P,gBAAE,EAAEkrB,CAAC,CAAC/X;AADT,aAAd;AAAA,WAAlB,CAAf;;AAGA,cAAIlJ,MAAM,CAACyJ,KAAP,CAAazN,MAAb,GAAsB,CAA1B,EAA6B;AAC3B2C,kBAAM,CAACrE,IAAP,CAAY;AAACqN,mBAAK,EAAE,eAAR;AAAyBC,kBAAI,EAAE,aAA/B;AAA8CC,qBAAO,EAAEjC,CAAvD;AAA0D7P,gBAAE,EAAE;AAA9D,aAAZ;AACD;;AACD4I,gBAAM,CAACrE,IAAP,CAAY;AAACqN,iBAAK,EAAE,UAAR;AAAoBC,gBAAI,EAAE,WAA1B;AAAuCC,mBAAO,EAAEjC,CAAhD;AAAmD7P,cAAE,EAAE;AAAvD,WAAZ;AAEA,iBAAO4I,MAAP;AACD;;;yCAEiCwQ,C,EAAI;AACpC,iBAAOvW,KAAK,CAACC,OAAN,CAAcsW,CAAd,KAAoBA,CAAC,CAACnT,MAAF,GAAW,CAA/B,IAAoCmT,CAAC,CAAC,CAAD,CAAD,YAAgB,sDAA3D;AACD;;;yCAE8BpZ,E,EAAU;AACvC,cAAI,CAACA,EAAE,CAACqH,KAAH,CAAS,UAAT,CAAL,EAA2B;AACzB,mBAAO,KAAP;AACD;;AACD,iBAAO,CAAC,mDAAWosB,IAAZ,EAAkB,mDAAWC,IAA7B,EAAmC,mDAAW/iB,KAA9C,EAAqD,mDAAWgjB,KAAhE,EAAuE,mDAAWze,MAAlF,EAA0FjI,OAA1F,CAAkG4W,QAAQ,CAAC7jB,EAAD,CAA1G,KAAmH,CAAC,CAA3H;AACD;;;wCAE6BsuB,O,EAAwB1lB,M,EAAqB;AACzEA,gBAAM,CAACrE,IAAP,CAAY0K,KAAZ,CAAkBrG,MAAlB,EAA0B0lB,OAA1B;AACAA,iBAAO,CAACvrB,OAAR,CAAgB,UAAA8M,CAAC;AAAA,mBAAIqvB,KAAK,CAAC5L,eAAN,CAAsBzjB,CAAC,CAACyN,UAAxB,EAAoC1U,MAApC,CAAJ;AAAA,WAAjB;AACD;;;yCAE8B0lB,O,EAAsB;AACnD,cAAM1lB,MAAM,GAAG,EAAf;AACA0lB,iBAAO,CAACvrB,OAAR,CAAgB,UAAA8M,CAAC,EAAI;AACnBjH,kBAAM,CAACrE,IAAP,CAAYsL,CAAZ;AACAjH,kBAAM,CAACrE,IAAP,OAAAqE,MAAM,qBAASs2B,KAAK,CAAC9N,gBAAN,CAAuBvhB,CAAC,CAACyN,UAAzB,CAAT,EAAN;AACD,WAHD;AAKA,iBAAO1U,MAAP;AACD;;;oCAEyB42B,E,EAAYC,E,EAAY;AAChD,cAAID,EAAE,CAACnxB,WAAH,MAAoBoxB,EAAE,CAACpxB,WAAH,EAAxB,EAA0C;AACxC,mBAAO,KAAP;AACD;;AAED,cAAImxB,EAAE,CAACnxB,WAAH,MAAoB,OAApB,IAA+BoxB,EAAE,CAACpxB,WAAH,MAAoB,mDAAWsC,KAAX,CAAiB/M,QAAjB,EAAvD,EAAoF;AAClF,mBAAO,KAAP;AACD;;AAED,iBAAO47B,EAAE,CAACnxB,WAAH,MAAoBoxB,EAAE,CAACpxB,WAAH,EAA3B;AACD;;;6CAEkCqxB,W,EAAqBt+B,E,EAAe;AACrE,cAAIA,EAAE,CAACu+B,WAAH,IAAkBD,WAAtB,EAAmC;AACjC,mBAAO,IAAP;AACD;;AAED,cAAME,KAAK,GAAGF,WAAW,GAAGt+B,EAAE,CAACu+B,WAA/B;AACA,cAAMvmB,CAAC,GAAG,CAAChY,EAAE,CAACu+B,WAAH,GAAiBD,WAAlB,IAAiC,CAA3C;AACA,cAAMG,MAAM,GAAGz+B,EAAE,CAAC0+B,YAAH,GAAkBF,KAAjC;AACA,cAAMG,CAAC,GAAG,CAAC3+B,EAAE,CAAC0+B,YAAH,GAAkBD,MAAnB,IAA6B,CAAvC;AACA,4CAA2BD,KAA3B,0BAAgDxmB,CAAhD,kBAAyD2mB,CAAzD,8BAA8EF,MAA9E;AACD;AAED;;;;;;;qCAI2B7mB,G,EAAW;AACpC,cAAI,CAACA,GAAL,EAAU;AACR,mBAAO,CAAC,EAAD,EAAK,IAAL,CAAP;AACD;;AACD,cAAM1J,CAAC,GAAG,yBAAV;;AACA,cAAI,CAAC0J,GAAG,CAAC3R,KAAJ,CAAUiI,CAAV,CAAL,EAAmB;AACjB,mBAAO,CAAC0J,GAAD,EAAM,IAAN,CAAP;AACD;;AAED,iBAAO,CAACA,GAAG,CAAC1V,OAAJ,CAAYgM,CAAZ,EAAe,IAAf,CAAD,EAAuB0J,GAAG,CAAC1V,OAAJ,CAAYgM,CAAZ,EAAe,IAAf,CAAvB,CAAP;AACD","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./ion-action-sheet-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet-ios.entry.js\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-action-sheet-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-action-sheet-md.entry.js\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-alert-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert-ios.entry.js\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-alert-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-alert-md.entry.js\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-app_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8-ios.entry.js\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-app_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-app_8-md.entry.js\",\n\t\t\"common\",\n\t\t5\n\t],\n\t\"./ion-avatar_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3-ios.entry.js\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-avatar_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-avatar_3-md.entry.js\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-back-button-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button-ios.entry.js\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-back-button-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-back-button-md.entry.js\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-backdrop-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop-ios.entry.js\",\n\t\t10\n\t],\n\t\"./ion-backdrop-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-backdrop-md.entry.js\",\n\t\t11\n\t],\n\t\"./ion-button_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2-ios.entry.js\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-button_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-button_2-md.entry.js\",\n\t\t\"common\",\n\t\t13\n\t],\n\t\"./ion-card_5-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5-ios.entry.js\",\n\t\t\"common\",\n\t\t14\n\t],\n\t\"./ion-card_5-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-card_5-md.entry.js\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-checkbox-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox-ios.entry.js\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-checkbox-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-checkbox-md.entry.js\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-chip-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip-ios.entry.js\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-chip-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-chip-md.entry.js\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-col_3.entry.js\",\n\t\t20\n\t],\n\t\"./ion-datetime_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3-ios.entry.js\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-datetime_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-datetime_3-md.entry.js\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-fab_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3-ios.entry.js\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-fab_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-fab_3-md.entry.js\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-img.entry.js\",\n\t\t25\n\t],\n\t\"./ion-infinite-scroll_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-ios.entry.js\",\n\t\t26\n\t],\n\t\"./ion-infinite-scroll_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2-md.entry.js\",\n\t\t27\n\t],\n\t\"./ion-input-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input-ios.entry.js\",\n\t\t\"common\",\n\t\t28\n\t],\n\t\"./ion-input-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-input-md.entry.js\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-item-option_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3-ios.entry.js\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-item-option_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item-option_3-md.entry.js\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-item_8-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8-ios.entry.js\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-item_8-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-item_8-md.entry.js\",\n\t\t\"common\",\n\t\t33\n\t],\n\t\"./ion-loading-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading-ios.entry.js\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-loading-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-loading-md.entry.js\",\n\t\t\"common\",\n\t\t35\n\t],\n\t\"./ion-menu_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3-ios.entry.js\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-menu_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-menu_3-md.entry.js\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-modal-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal-ios.entry.js\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-modal-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-modal-md.entry.js\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-nav_2.entry.js\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-popover-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover-ios.entry.js\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-popover-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-popover-md.entry.js\",\n\t\t\"common\",\n\t\t42\n\t],\n\t\"./ion-progress-bar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar-ios.entry.js\",\n\t\t\"common\",\n\t\t43\n\t],\n\t\"./ion-progress-bar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-progress-bar-md.entry.js\",\n\t\t\"common\",\n\t\t44\n\t],\n\t\"./ion-radio_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2-ios.entry.js\",\n\t\t\"common\",\n\t\t45\n\t],\n\t\"./ion-radio_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-radio_2-md.entry.js\",\n\t\t\"common\",\n\t\t46\n\t],\n\t\"./ion-range-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range-ios.entry.js\",\n\t\t\"common\",\n\t\t47\n\t],\n\t\"./ion-range-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-range-md.entry.js\",\n\t\t\"common\",\n\t\t48\n\t],\n\t\"./ion-refresher_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2-ios.entry.js\",\n\t\t\"common\",\n\t\t49\n\t],\n\t\"./ion-refresher_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-refresher_2-md.entry.js\",\n\t\t\"common\",\n\t\t50\n\t],\n\t\"./ion-reorder_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2-ios.entry.js\",\n\t\t\"common\",\n\t\t51\n\t],\n\t\"./ion-reorder_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-reorder_2-md.entry.js\",\n\t\t\"common\",\n\t\t52\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-ripple-effect.entry.js\",\n\t\t53\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-route_4.entry.js\",\n\t\t\"common\",\n\t\t54\n\t],\n\t\"./ion-searchbar-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar-ios.entry.js\",\n\t\t\"common\",\n\t\t55\n\t],\n\t\"./ion-searchbar-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-searchbar-md.entry.js\",\n\t\t\"common\",\n\t\t56\n\t],\n\t\"./ion-segment_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2-ios.entry.js\",\n\t\t\"common\",\n\t\t57\n\t],\n\t\"./ion-segment_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-segment_2-md.entry.js\",\n\t\t\"common\",\n\t\t58\n\t],\n\t\"./ion-select_3-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3-ios.entry.js\",\n\t\t\"common\",\n\t\t59\n\t],\n\t\"./ion-select_3-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-select_3-md.entry.js\",\n\t\t\"common\",\n\t\t60\n\t],\n\t\"./ion-slide_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2-ios.entry.js\",\n\t\t61\n\t],\n\t\"./ion-slide_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-slide_2-md.entry.js\",\n\t\t62\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-spinner.entry.js\",\n\t\t\"common\",\n\t\t63\n\t],\n\t\"./ion-split-pane-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane-ios.entry.js\",\n\t\t64\n\t],\n\t\"./ion-split-pane-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-split-pane-md.entry.js\",\n\t\t65\n\t],\n\t\"./ion-tab-bar_2-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-ios.entry.js\",\n\t\t\"common\",\n\t\t66\n\t],\n\t\"./ion-tab-bar_2-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab-bar_2-md.entry.js\",\n\t\t\"common\",\n\t\t67\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js\",\n\t\t\"common\",\n\t\t68\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-text.entry.js\",\n\t\t\"common\",\n\t\t69\n\t],\n\t\"./ion-textarea-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea-ios.entry.js\",\n\t\t\"common\",\n\t\t70\n\t],\n\t\"./ion-textarea-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-textarea-md.entry.js\",\n\t\t\"common\",\n\t\t71\n\t],\n\t\"./ion-toast-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast-ios.entry.js\",\n\t\t\"common\",\n\t\t72\n\t],\n\t\"./ion-toast-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toast-md.entry.js\",\n\t\t\"common\",\n\t\t73\n\t],\n\t\"./ion-toggle-ios.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle-ios.entry.js\",\n\t\t\"common\",\n\t\t74\n\t],\n\t\"./ion-toggle-md.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-toggle-md.entry.js\",\n\t\t\"common\",\n\t\t75\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"./node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js\",\n\t\t76\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./node_modules/@ionic/core/dist/esm lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\";\nmodule.exports = webpackAsyncContext;","export default \"<div [hidden]=\\\"attachments.length == 0\\\">\\n  <p-table [value]=\\\"attachments\\\" [loading]=\\\"view._attDownloading\\\">\\n    <ng-template pTemplate=\\\"header\\\">\\n      <tr>\\n        <th style=\\\"width: 3em\\\"></th>\\n        <th style=\\\"text-align: left\\\">\\n          Attachment\\n        </th>\\n        <th style=\\\"width: 3em\\\"></th>\\n        <th style=\\\"width: 3em\\\" *ngIf=\\\"view._isCloud && message\\\"></th>\\n      </tr>\\n    </ng-template>\\n    <ng-template pTemplate=\\\"body\\\" let-row>\\n      <tr>\\n        <td><i class=\\\"fa fa-{{row | fileIcon}}\\\"></i></td>\\n        <td (click)=\\\"view._viewAttachment(row)\\\">\\n          <div>{{row.FileName}}</div>\\n          <div>{{(row.EstimatedSize || row.Size) | humanFileSize}}</div>\\n        </td>\\n        <td>\\n          <i *ngIf=\\\"message\\\" (click)=\\\"view._downloadAttachment(row)\\\" class=\\\"fa fa-download\\\"></i>\\n          <i *ngIf=\\\"!message\\\" (click)=\\\"view._removeAttachment(row)\\\" class=\\\"fa fa-trash\\\"></i>\\n        </td>\\n        <td *ngIf=\\\"view._isCloud && message\\\">\\n          <i (click)=\\\"view._uploadToCloud(row)\\\" class=\\\"fa fa-cloud-download\\\"></i>\\n        </td>\\n      </tr>\\n    </ng-template>\\n  </p-table>\\n</div>\\n\";","export default \"<div [style.background-color]=\\\"contact | avatarColor\\\" class=\\\"color-circle\\\">\\n  <span class=\\\"text\\\">{{contact | avatarText}}</span>\\n</div>\\n\\n\";","export default \"<div class=\\\"form\\\" *ngIf=\\\"view._model\\\">\\n  <div class=\\\"p-grid ui-fluid\\\">\\n    <div class=\\\"p-col-6\\\"></div>\\n    <div class=\\\"p-col-6 options\\\">\\n      <button\\n        [disabled]=\\\"view._saving\\\"\\n        (click)=\\\"view._save(false)\\\"\\n        style=\\\"width: 73px\\\"\\n        pButton\\n        icon=\\\"{{view._saving ? 'fa fa-spinner fa-spin' : 'fa fa-floppy-o'}}\\\"\\n        label=\\\"Save\\\"></button>\\n      <button [disabled]=\\\"view._saving\\\" (click)=\\\"view._send()\\\" style=\\\"width: 73px; margin-left: 10px;\\\" pButton icon=\\\"{{view._saving ? 'fa fa-spinner fa-spin' : 'fa fa-paper-plane'}}\\\" label=\\\"Send\\\"></button>\\n      <button (click)=\\\"view._attach()\\\" style=\\\"width: 87px; margin-left: 10px\\\" pButton icon=\\\"{{view._attaching ? 'fa fa-spinner fa-spin' : 'fa fa-paperclip'}}\\\" label=\\\"Attach\\\"></button>\\n      <button *ngIf=\\\"view._incloud\\\" (click)=\\\"view._cloudAttach()\\\" style=\\\"width: 87px; margin-left: 10px\\\" pButton icon=\\\"{{view._cloudAttaching ? 'fa fa-spinner fa-spin' : 'fa fa-cloud'}}\\\" label=\\\"Attach\\\"></button>\\n      <input #file type=\\\"file\\\" multiple=\\\"true\\\" style=\\\"display: none\\\"/>\\n    </div>\\n    <div class=\\\"p-col-12\\\" *ngIf=\\\"view._combinedView\\\">\\n      <span class=\\\"ui-inputgroup ui-float-label\\\">\\n        <p-dropdown id=\\\"from-dropdown\\\"\\n          [options]=\\\"view._accounts$ | async\\\"\\n          [(ngModel)]=\\\"view._account\\\"\\n          [disabled]=\\\"view._model?.Attachments.length > 0\\\"\\n          optionLabel=\\\"Email\\\"></p-dropdown>\\n        <label for=\\\"from-dropdown\\\">From</label>\\n      </span>\\n    </div>\\n    <ng-container [ngTemplateOutlet]=\\\"field\\\" [ngTemplateOutletContext]=\\\"{$implicit: {field: 'To'}}\\\"></ng-container>\\n    <ng-container [ngTemplateOutlet]=\\\"field\\\" [ngTemplateOutletContext]=\\\"{$implicit: {field: 'Cc'}}\\\"></ng-container>\\n    <ng-container [ngTemplateOutlet]=\\\"field\\\" [ngTemplateOutletContext]=\\\"{$implicit: {field: 'Bcc'}}\\\"></ng-container>\\n    <div class=\\\"p-col-12\\\">\\n      <span class=\\\"ui-inputgroup ui-float-label\\\">\\n        <input type=\\\"text\\\" pInputText id=\\\"subject-id\\\" [(ngModel)]=\\\"view._model.Subject\\\"/>\\n        <label for=\\\"subject-id\\\">Subject</label>\\n      </span>\\n    </div>\\n    <div class=\\\"p-col-12\\\">\\n      <al-editor [(model)]=\\\"view._model.Body\\\" #editor *ngIf=\\\"view._type == 'HTML'\\\"></al-editor>\\n      <textarea pInputTextarea [(ngModel)]=\\\"view._model.Body\\\" *ngIf=\\\"view._type != 'HTML'\\\"></textarea>\\n    </div>\\n    <div class=\\\"p-col-12\\\">\\n      <al-attachments [account]=\\\"view._account\\\" [attachments]=\\\"view._model.Attachments\\\" autoResize=\\\"autoResize\\\"></al-attachments>\\n    </div>\\n  </div>\\n\\n  <ng-template #field let-context>\\n    <div class=\\\"p-col-12\\\" [hidden]=\\\"!view._showCc && context.field != 'To'\\\">\\n      <span class=\\\"ui-inputgroup ui-float-label\\\">\\n        <p-autoComplete\\n          #autocomplete\\n          type=\\\"email\\\"\\n          [(ngModel)]=\\\"view._model[context.field]\\\"\\n          [suggestions]=\\\"view._contacts\\\"\\n          [autoHighlight]=\\\"true\\\"\\n          (onBlur)=\\\"view._blur(autocomplete)\\\"\\n          (onFocus)=\\\"view._focus(autocomplete)\\\"\\n          delay=\\\"0\\\"\\n          [id]=\\\"context.field\\\"\\n          [multiple]=\\\"true\\\"\\n          field=\\\"display\\\"\\n          (completeMethod)=\\\"view._filterContact($event)\\\"\\n          >\\n          <ng-template pTemplate=\\\"item\\\" let-item>\\n            <span *ngIf=\\\"item.DisplayName\\\">{{item.DisplayName}} ({{item.Email}})</span>\\n            <span *ngIf=\\\"!item.DisplayName\\\">{{item.Email}}</span>\\n          </ng-template>\\n        </p-autoComplete>\\n        <button (click)=\\\"view._showCc = true\\\" pButton icon=\\\"fa fa-angle-down\\\" *ngIf=\\\"!view._showCc && context.field == 'To'\\\"></button>\\n        <label [for]=\\\"context.field\\\">{{context.field}}</label>\\n      </span>\\n    </div>\\n  </ng-template>\\n</div>\\n\";","export default \"<div class=\\\"editor\\\" #editor contenteditable=\\\"true\\\" [innerHTML]=\\\"view._html | asHtml\\\" (keyup)=\\\"view._keyup()\\\"></div>\\n\";","export default \"<div style=\\\"position: relative\\\">\\n  <p-blockUI [target]=\\\"folders\\\" [blocked]=\\\"view._loading\\\"></p-blockUI>\\n  <div #folders>\\n    <p-tree selectionMode=\\\"single\\\" (onNodeSelect)=\\\"view._select($event.node?.data)\\\" [value]=\\\"view._account?.Folders$ | async | foldersTree\\\">\\n      <ng-template let-node pTemplate=\\\"default\\\">\\n        <span [ngClass]=\\\"{selected: view._selected == node.data}\\\">{{node.data | folderLabel | async}}</span>\\n      </ng-template>\\n    </p-tree>\\n  </div>\\n</div>\\n\";","export default \"<ng-container [ngTemplateOutlet]=\\\"view._isMobile ? mobile : desktop\\\"></ng-container>\\n\\n<ng-template #desktop>\\n  <p-table [value]=\\\"view._row\\\" [resizableColumns]=\\\"true\\\">\\n    <ng-template pTemplate=\\\"header\\\">\\n      <tr>\\n        <th class=\\\"folders-col\\\">\\n          <button (click)=\\\"view._newMessage('new')\\\" pButton icon=\\\"fa fa-envelope-o\\\" label=\\\"New message\\\"></button>\\n        </th>\\n        <th class=\\\"mails-col\\\">\\n          <div>\\n            <div class=\\\"left\\\">\\n              <ng-container [ngTemplateOutlet]=\\\"toolbarButtons\\\" [ngTemplateOutletContext]=\\\"{$implicit: actionButton}\\\"></ng-container>\\n            </div>\\n            <div class=\\\"right\\\">\\n              <button (click)=\\\"view._refresh()\\\" pButton icon=\\\"{{view._refreshing ? 'fa fa-spinner fa-spin' : 'fa fa-refresh'}}\\\"></button>\\n            </div>\\n          </div>\\n        </th>\\n        <th class=\\\"mail-col\\\">\\n          <div class=\\\"right\\\">\\n            {{view._account | currentEmail}}\\n            <p-menu #menu [popup]=\\\"true\\\" [model]=\\\"view._userMenu\\\" styleClass=\\\"menuWidth\\\"></p-menu>\\n            <button type=\\\"button\\\" pButton icon=\\\"fa fa-user\\\" (click)=\\\"menu.toggle($event)\\\"></button>\\n          </div>\\n        </th>\\n      </tr>\\n    </ng-template>\\n    <ng-template pTemplate=\\\"body\\\">\\n      <tr class=\\\"top\\\">\\n        <td>\\n          <div class=\\\"wrapper\\\">\\n            <al-folders-list [account]=\\\"view._account\\\"></al-folders-list>\\n          </div>\\n        </td>\\n        <td>\\n          <div class=\\\"messages-wrapper\\\">\\n            <al-messages-list\\n              #messagesList\\n              (selectionChanged)=\\\"view._selectionChanged($event)\\\"\\n              (notify)=\\\"view._messageNotify($event)\\\"\\n              [account]=\\\"view._account\\\"\\n              [folder]=\\\"view._folder\\\"></al-messages-list>\\n          </div>\\n        </td>\\n        <td>\\n          <div class=\\\"wrapper padding-right-10\\\">\\n            <al-message [ngClass]=\\\"view._themeClass\\\" (notify)=\\\"view._msgBodyNotify($event)\\\" [message]=\\\"view._message\\\"></al-message>\\n          </div>\\n        </td>\\n      </tr>\\n    </ng-template>\\n  </p-table>\\n  <p-dialog\\n    (onHide)=\\\"view._hideCompose(null)\\\"\\n    [autoZIndex]=\\\"false\\\"\\n    [header]=\\\"view._composeTitle\\\" [(visible)]=\\\"view._compose\\\"\\n    [closeOnEscape]=\\\"true\\\" [style]=\\\"{width: '600px'}\\\">\\n    <al-compose\\n      (notify)=\\\"view._hideCompose($event)\\\"\\n      *ngIf=\\\"view._composer\\\"\\n      [composeType]=\\\"view._composeType\\\"\\n      [message]=\\\"view._composeMessage\\\"\\n      [to]=\\\"view._composeTo\\\"></al-compose>\\n  </p-dialog>\\n  <p-dialog header=\\\"Settings\\\" [resizable]=\\\"true\\\" [closeOnEscape]=\\\"true\\\" [style]=\\\"{width: '600px'}\\\" [(visible)]=\\\"view._showSettings\\\">\\n    <al-settings></al-settings>\\n  </p-dialog>\\n</ng-template>\\n<ng-template #mobile>\\n  <p-sidebar [style]=\\\"{width: '80%'}\\\" [(visible)]=\\\"view._toolbarVisible\\\" [baseZIndex]=\\\"10000\\\">\\n    <div class=\\\"p-grid ui-fluid\\\">\\n      <div class=\\\"flex p-col-12\\\" *ngFor=\\\"let account of (view._accounts$ | async)\\\">\\n        <div class=\\\"avatar\\\">\\n          <al-avatar [contact]=\\\"account | accountToContact\\\"></al-avatar>\\n        </div>\\n        <div class=\\\"account\\\" [ngClass]=\\\"{selected: account.Email == view._account?.Email}\\\" (click)=\\\"view._changeAccount(account.Email)\\\">\\n          <h3 class=\\\"name\\\" *ngIf=\\\"account.FriendlyName\\\">{{account.FriendlyName}}</h3>\\n          <h4 class=\\\"email\\\" *ngIf=\\\"!(account | isCombinedAccount)\\\">{{account.Email}}</h4>\\n          <h4 class=\\\"email\\\" *ngIf=\\\"account | isCombinedAccount\\\">{{(view._accounts$ | async | count) - 1}} accounts</h4>\\n        </div>\\n      </div>\\n      <div class=\\\"p-col-12\\\">\\n        <al-folders-list [account]=\\\"view._account\\\"></al-folders-list>\\n      </div>\\n      <div class=\\\"p-col-12\\\" (click)=\\\"view._settingsClick()\\\">\\n        <i class=\\\"fa fa-cog\\\"></i> Settings\\n      </div>\\n    </div>\\n  </p-sidebar>\\n\\n  <p-toolbar [ngClass]=\\\"view._themeClass\\\">\\n    <div class=\\\"ui-toolbar-group-left\\\">\\n      <i (click)=\\\"view._toolbarVisible = true\\\"\\n        [hidden]=\\\"view._mobileViewType != 'list'\\\"\\n        class=\\\"fa fa-bars\\\"\\n        style=\\\"vertical-align: middle\\\"></i>\\n      <i (click)=\\\"view._toolbarBack()\\\" \\n        [hidden]=\\\"view._mobileViewType == 'list'\\\"\\n        class=\\\"fa fa-arrow-left\\\"\\n        style=\\\"vertical-align: middle\\\"></i>\\n      <i (click)=\\\"view._newMessage('new')\\\" \\n        [hidden]=\\\"view._mobileViewType != 'list'\\\"\\n        class=\\\"fa fa-plus\\\"\\n        style=\\\"vertical-align: middle\\\"></i>\\n      <ng-container [ngTemplateOutlet]=\\\"toolbarButtons\\\" [ngTemplateOutletContext]=\\\"{$implicit: actionIcon}\\\"></ng-container>\\n      <i (click)=\\\"view._refresh()\\\" \\n        [hidden]=\\\"view._mobileViewType != 'list'\\\"\\n        class=\\\"{{view._refreshing ? 'fa fa-spinner fa-spin' : 'fa fa-refresh'}}\\\"\\n        style=\\\"vertical-align: middle\\\"></i>\\n    </div>\\n  </p-toolbar>\\n\\n  <div class=\\\"p-grid ui-fluid mobile-messages-list\\\">\\n    <al-messages-list\\n      class=\\\"mobile\\\"\\n      [hidden]=\\\"view._mobileViewType != 'list'\\\"\\n      #messagesList\\n      (selectionChanged)=\\\"view._selectionChanged($event)\\\"\\n      (notify)=\\\"view._messageNotify($event)\\\"\\n      [account]=\\\"view._account\\\"\\n      [folder]=\\\"view._folder\\\"></al-messages-list>\\n    <div class=\\\"wrapper w100 ui-fluid p-grid\\\" [hidden]=\\\"view._mobileViewType != 'message'\\\">\\n      <al-message [ngClass]=\\\"view._themeClass\\\" (notify)=\\\"view._msgBodyNotify($event)\\\" [message]=\\\"view._message\\\"></al-message>\\n    </div>\\n\\n    <div class=\\\"wrapper w100 padding-10\\\" *ngIf=\\\"view._mobileViewType == 'settings'\\\">\\n      <al-settings></al-settings>\\n    </div>\\n\\n    <div class=\\\"w100 padding-10\\\" [hidden]=\\\"view._mobileViewType != 'compose'\\\">\\n      <al-compose\\n        (notify)=\\\"view._hideCompose($event)\\\"\\n        *ngIf=\\\"view._composer\\\"\\n        [composeType]=\\\"view._composeType\\\"\\n        [message]=\\\"view._composeMessage\\\"\\n        [to]=\\\"view._composeTo\\\"></al-compose>\\n    </div>\\n  </div>\\n</ng-template>\\n<ng-template #toolbarButtons let-tpl>\\n  <ng-container [ngTemplateOutlet]=\\\"tpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: {icon: 'envelope-open-o', action: 'mark-read'}}\\\"></ng-container>\\n  <ng-container [ngTemplateOutlet]=\\\"tpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: {icon: 'envelope-o', action: 'mark-unread'}}\\\"></ng-container>\\n  <ng-container [ngTemplateOutlet]=\\\"tpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: {icon: 'trash-o', action: 'delete'}}\\\"></ng-container>\\n  <ng-container *ngIf=\\\"view._account | hasArchive:view._folder\\\"\\n    [ngTemplateOutlet]=\\\"tpl\\\"\\n    [ngTemplateOutletContext]=\\\"{$implicit: {icon: 'file-archive-o', action: 'archive'}}\\\"></ng-container>\\n</ng-template>\\n<ng-template #actionIcon let-context>\\n  <i (click)=\\\"view._actionIcon(context.action)\\\" \\n    [hidden]=\\\"(view._mobileViewType != 'list' && view._mobileViewType != 'message') || (context.action == 'mark-read' && view._mobileViewType == 'message')\\\"\\n    class=\\\"fa fa-{{context.icon}}\\\"\\n    [ngClass]=\\\"{disabled: view._selection?.length == 0 && !view._message}\\\"\\n    style=\\\"vertical-align: middle\\\"></i>\\n</ng-template>\\n<ng-template #actionButton let-context>\\n  <button (click)=\\\"view._action(context.action)\\\" pButton [disabled]=\\\"view._selection?.length == 0 && !view._message\\\" icon=\\\"fa fa-{{context.icon}}\\\"></button>\\n</ng-template>\\n\";","export default \"<p-blockUI [blocked]=\\\"true\\\" #blockedUI [target]=\\\"target\\\">\\n    <i class=\\\"fa fa-spinner fa-spin fa-3w\\\" style=\\\"position:absolute;top:calc(50% - 30px);left:calc(50% - 30px);font-size: 60px;font-weight: bold\\\"></i>\\n</p-blockUI>\\n\";","export default \"<span [hidden]=\\\"!view._ready\\\">\\n  <div class=\\\"content\\\">\\n    <router-outlet></router-outlet>\\n  </div>\\n</span>\\n<p-toast key=\\\"abc\\\" position=\\\"top-center\\\"></p-toast>\\n\";","export default \"<div class=\\\"center p-grid ui-fluid\\\" *ngIf=\\\"!view._message\\\">\\n  <div class=\\\"p-col-12\\\"><h2>No message selected</h2></div>\\n  <div class=\\\"p-col-12\\\">Select a message from the list in order to view it!</div>\\n</div>\\n<div style=\\\"position: relative\\\" *ngIf=\\\"view._message\\\" class=\\\"main-container\\\">\\n  <div class=\\\"ui-fluid p-grid\\\">\\n    <div class=\\\"p-col-11\\\">\\n      <h2>{{view._message?.Subject}}</h2>\\n    </div>\\n    <div class=\\\"p-col-1\\\">\\n      <i (click)=\\\"view._star()\\\" class=\\\"fa fa-star{{!view._message?.IsFlagged ? '-o' : ''}}\\\"></i>\\n    </div>\\n    <div class=\\\"p-col avatar\\\">\\n      <al-avatar [contact]=\\\"view._message | messageFrom\\\"></al-avatar>\\n    </div>\\n    <div class=\\\"p-col details\\\">\\n      <div>{{view._message | messageFrom | messageFromTxt}}</div>\\n      <div>{{view._message | messageDate}}\\n        <span (click)=\\\"view._detailsHidden = !view._detailsHidden\\\" class=\\\"extra\\\">{{view._detailsHidden ? 'Show' : 'Hide'}} details</span>\\n      </div>\\n      <div [hidden]=\\\"view._detailsHidden\\\" class=\\\"extra-details\\\">\\n        <ng-container [ngTemplateOutlet]=\\\"detailsTpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: 'From'}\\\"></ng-container>\\n        <ng-container [ngTemplateOutlet]=\\\"detailsTpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: 'To'}\\\"></ng-container>\\n        <ng-container [ngTemplateOutlet]=\\\"detailsTpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: 'Cc'}\\\"></ng-container>\\n        <ng-template #detailsTpl let-field>\\n          <div>{{field}}: \\n            <span\\n              (click)=\\\"view._emailClick(contact)\\\"\\n              class=\\\"contact-detail\\\"\\n              *ngFor=\\\"let contact of (view._message[field] | contactsArray)\\\"\\n              [innerHTML]=\\\"contact | messageFromTxtFull | asHtml\\\"></span>\\n          </div>\\n        </ng-template>\\n      </div>\\n      <div [hidden]=\\\"!view._hasImages\\\" (click)=\\\"view._showImages()\\\">\\n        <i class=\\\"fa fa-picture-o\\\"></i>&nbsp;Show images\\n      </div>\\n    </div>\\n    <div class=\\\"p-col actions\\\">\\n      <p-splitButton *ngIf=\\\"!view._isDraft\\\" label=\\\"Reply&nbsp;&nbsp;\\\" icon=\\\"fa fa-reply\\\" (onClick)=\\\"view._action('reply')\\\" [model]=\\\"view._actions\\\"></p-splitButton>\\n      <i *ngIf=\\\"view._isDraft\\\" (click)=\\\"view._action('from-draft')\\\" class=\\\"fa fa-pencil draft\\\"></i>\\n    </div>\\n  </div>\\n  <pinch-zoom disableZoomControl=\\\"disable\\\">\\n    <div class=\\\"message-body\\\" style=\\\"{{view._maxWidth}}\\\" [ngClass]=\\\"{'hide-quote': view._quotedText}\\\" #messageBody [innerHTML]=\\\"view._html | asHtml\\\"></div>\\n  </pinch-zoom>\\n  <div [hidden]=\\\"!view._quotedText\\\">\\n    <div (click)=\\\"view._showHiddenContent()\\\" class=\\\"extra\\\">Show quoted text</div>\\n  </div>\\n  <div class=\\\"attachments\\\" [hidden]=\\\"!view._message || (view._message | attachmentsList).length == 0\\\">\\n    <al-attachments [attachments]=\\\"view._message | attachmentsList\\\" [message]=\\\"view._message\\\" [account]=\\\"view._account\\\"></al-attachments>\\n  </div>\\n</div>\\n<p-overlayPanel #menu styleClass=\\\"max-width\\\">\\n  <ng-template pTemplate>\\n    <div class=\\\"p-grid ui-fluid menu-options\\\">\\n      <div class=\\\"p-col-12\\\" (click)=\\\"view._action('reply-all'); menu.hide()\\\"><i class=\\\"fa fa-reply-all\\\"></i>Reply all</div>\\n      <div class=\\\"p-col-12\\\" (click)=\\\"view._action('forward'); menu.hide()\\\"><i class=\\\"fa fa-share\\\"></i>Forward</div>\\n      <div class=\\\"p-col-12\\\" (click)=\\\"view._download(); menu.hide()\\\"><i class=\\\"fa fa-download\\\"></i>Download</div>\\n    </div>\\n  </ng-template>\\n</p-overlayPanel>\\n<ng-template #body>\\n</ng-template>\\n\";","export default \"<p-table #table [value]=\\\"view._messages\\\" [lazy]=\\\"true\\\" selectionMode=\\\"single\\\" (onLazyLoad)=\\\"view._loadMessages($event)\\\" [paginator]=\\\"true\\\"\\n  [loading]=\\\"view._loading\\\" [rows]=\\\"view._pageSize\\\" [totalRecords]=\\\"view._totalRecords\\\" (onRowSelect)=\\\"view._selectionChanged()\\\"\\n  (onRowUnselect)=\\\"view._selectionChanged()\\\" (onHeaderCheckboxToggle)=\\\"view._selectionChanged()\\\" [pageLinks]=\\\"view._combinedView ? 1 : 5\\\"\\n  [ngClass]=\\\"{'combined-view': view._combinedView}\\\" [(selection)]=\\\"view._table.selection\\\">\\n  <ng-template pTemplate=\\\"header\\\">\\n    <tr>\\n      <th style=\\\"width: 3em\\\">\\n        <p-tableHeaderCheckbox></p-tableHeaderCheckbox>\\n      </th>\\n      <th>\\n        <div class=\\\"header p-grid ui-fluid\\\">\\n          <div class=\\\"p-col-12\\\">\\n            <div class=\\\"ui-inputgroup\\\">\\n              <input (keyup)=\\\"view._keyup($event)\\\" [(ngModel)]=\\\"view._search.simple\\\" type=\\\"text\\\" pInputText placeholder=\\\"Search\\\">\\n              <i (click)=\\\"view._clearSearch()\\\" class=\\\"fa fa-times\\\" *ngIf=\\\"view._search.simple\\\"></i>\\n              <button (click)=\\\"view._clickAdvSearch()\\\" pButton icon=\\\"fa fa-angle-down\\\"></button>\\n            </div>\\n          </div>\\n        </div>\\n      </th>\\n    </tr>\\n  </ng-template>\\n  <ng-template pTemplate=\\\"body\\\" let-row>\\n    <tr [ngClass]=\\\"{'ui-state-highlight': view._selected?.Uid == row.Uid}\\\">\\n      <td>\\n        <p-tableCheckbox [value]=\\\"row\\\"></p-tableCheckbox>\\n      </td>\\n      <td [ngClass]=\\\"{unread: !row.IsSeen}\\\" (click)=\\\"view._select(row)\\\" [ngStyle]=\\\"row | borderRight | async\\\">\\n        <div class=\\\"p-grid ui-fluid\\\">\\n          <div class=\\\"avatar\\\" *ngIf=\\\"row.From.Collection?.length > 0\\\">\\n            <al-avatar [contact]=\\\"row.From.Collection[0]\\\"></al-avatar>\\n          </div>\\n          <div class=\\\"message\\\">\\n            <div class=\\\"flex ui-fluid\\\">\\n              <div class=\\\"from\\\">{{row | messageFrom | messageFromTxt}}</div>\\n              <div class=\\\"flags\\\">\\n                <i *ngIf=\\\"row.IsForwarded\\\" class=\\\"fa fa-share\\\"></i>\\n                <i *ngIf=\\\"row.IsAnswered\\\" class=\\\"fa fa-reply\\\"></i>\\n                <i *ngIf=\\\"row.HasAttachments\\\" class=\\\"fa fa-paperclip\\\"></i>\\n              </div>\\n              <div class=\\\"date\\\">{{row | messageDate}}</div>\\n            </div>\\n            <div class=\\\"flex ui-fluid margin-top\\\">\\n              <div class=\\\"subject\\\">\\n                <i *ngIf=\\\"row.IsFlagged\\\" class=\\\"fa fa-star\\\"></i>{{row.Subject}}\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </td>\\n    </tr>\\n  </ng-template>\\n</p-table>\\n\\n<p-dialog header=\\\"Advanced search\\\" [(visible)]=\\\"view._showSearch\\\" [modal]=\\\"true\\\">\\n  <div class=\\\"p-grid ui-fluid adv-search\\\">\\n    <div class=\\\"p-col-12\\\"><input #all type=\\\"text\\\" (keyup)=\\\"view._keyup2($event)\\\" [(ngModel)]=\\\"view._search.all\\\" pInputText placeholder=\\\"All\\\"/></div>\\n    <div class=\\\"p-col-6\\\"><input type=\\\"text\\\" [(ngModel)]=\\\"view._search.from\\\" pInputText placeholder=\\\"From\\\"/></div>\\n    <div class=\\\"p-col-6\\\"><input type=\\\"text\\\" [(ngModel)]=\\\"view._search.to\\\" pInputText placeholder=\\\"To\\\"/></div>\\n    <div class=\\\"p-col-6\\\"><input type=\\\"text\\\" [(ngModel)]=\\\"view._search.subject\\\" pInputText placeholder=\\\"Subject\\\"/></div>\\n    <div class=\\\"p-col-6\\\"><input type=\\\"text\\\" [(ngModel)]=\\\"view._search.text\\\" pInputText placeholder=\\\"Text\\\"/></div>\\n    <div class=\\\"p-col-6\\\">\\n      <p-calendar appendTo=\\\"body\\\" [touchUI]=\\\"true\\\" [readonlyInput]=\\\"true\\\" [(ngModel)]=\\\"view._search.since\\\" placeholder=\\\"Since\\\" [showIcon]=\\\"true\\\"></p-calendar>\\n    </div>\\n    <div class=\\\"p-col-6\\\">\\n      <p-calendar appendTo=\\\"body\\\" [touchUI]=\\\"true\\\" [readonlyInput]=\\\"true\\\" [(ngModel)]=\\\"view._search.till\\\" placeholder=\\\"Till\\\" [showIcon]=\\\"true\\\"></p-calendar>\\n    </div>\\n    <div class=\\\"p-col-12\\\">\\n      <p-dropdown *ngIf=\\\"view._account$\\\" [options]=\\\"view._account$ | async | foldersFlatList | async\\\"\\n                  appendTo=\\\"body\\\"\\n                  [(ngModel)]=\\\"view._search.folder\\\"></p-dropdown>\\n    </div>\\n    <div class=\\\"p-col-6\\\"><p-checkbox [binary]=\\\"true\\\" label=\\\"Has Attachments\\\" [(ngModel)]=\\\"view._search.attachments\\\"></p-checkbox></div>\\n    <div class=\\\"p-col-6 right\\\"><button (click)=\\\"view._advSearch()\\\" pButton label=\\\"Search\\\"></button></div>\\n  </div>\\n</p-dialog>\\n\";","export default \"<div>\\n  <nc-filepick type=\\\"file\\\" (choose)=\\\"view._choose($event)\\\"></nc-filepick>\\n</div>\\n<!--div>\\n  <al-compose composeType=\\\"new\\\"></al-compose>\\n</div-->\\n  <!--div>\\n    <al-folders-list [account]=\\\"view._account\\\" (notify)=\\\"view._folderNotify($event)\\\"></al-folders-list>\\n  </div>\\n  <div>\\n    <al-messages-list (notify)=\\\"view._messageNotify($event)\\\" [account]=\\\"view._account\\\" [folder]=\\\"view._folder\\\"></al-messages-list>\\n  </div>\\n  <div>\\n    <al-message (notify)=\\\"view._msgBodyNotify($event)\\\" [message]=\\\"view._message\\\"></al-message>\\n  </div-->\\n\";","export default \"<div class=\\\"content-section\\\" *ngIf=\\\"view._model\\\">\\n  <p-panel header=\\\"Server\\\">\\n    <div class=\\\"panel-container p-fluid forms-grid ui-fluid\\\" style=\\\"margin: 1em 0;\\\">\\n      <div class=\\\"flex\\\">\\n        <span class=\\\"ui-float-label\\\">\\n          <input type=\\\"text\\\" id=\\\"server-url\\\" pInputText [ngModel]=\\\"view._model?.server.url\\\" (ngModelChange)=\\\"view._model.server.url = $event\\\" />\\n          <label for=\\\"server-url\\\">Server url</label>\\n        </span>\\n        <p-message [hidden]=\\\"view._model.server && view._model.server.url\\\" severity=\\\"error\\\" text=\\\"Url is required\\\"></p-message>\\n      </div>\\n    </div>\\n  </p-panel>\\n</div>\\n\\n<div class=\\\"content-section\\\" *ngIf=\\\"view._model\\\">\\n  <p-panel>\\n    <p-header>\\n      <div class=\\\"ui-helper-clearfix\\\">\\n        <span class=\\\"ui-panel-title\\\">Accounts</span>\\n        <button (click)=\\\"view._add()\\\" pButton style=\\\"float: right\\\" icon=\\\"fa fa-user-plus\\\"></button>\\n      </div>\\n    </p-header>\\n    <div class=\\\"panel-container p-fluid forms-grid ui-fluid\\\" style=\\\"margin: 1em 0;\\\">\\n      <div [ngClass]=\\\"{invalid: view._validate && !user.token}\\\" class=\\\"flex users\\\" *ngFor=\\\"let user of view._model?.server.users || []\\\">\\n        <span class=\\\"ui-float-label\\\">\\n          <input type=\\\"text\\\" [id]=\\\"user.email\\\" pInputText [(ngModel)]=\\\"user.email\\\" />\\n          <label [for]=\\\"user.email\\\">Email</label>\\n        </span>\\n        <span class=\\\"ui-float-label right\\\">\\n          <input type=\\\"password\\\" id=\\\"{{user.email}}-pass\\\" pInputText [(ngModel)]=\\\"user.pass\\\" />\\n          <label for=\\\"{{user.email}}-pass\\\">Password</label>\\n        </span>\\n        <button pButton icon=\\\"fa fa-user-times\\\" (click)=\\\"view._remove(user)\\\"></button>\\n      </div>\\n    </div>\\n  </p-panel>\\n</div>\\n\\n<div class=\\\"content-section\\\" *ngIf=\\\"view._model\\\">\\n  <p-panel header=\\\"App settings\\\">\\n    <div class=\\\"panel-container p-fluid forms-grid ui-fluid\\\" style=\\\"margin: 1em 0;\\\">\\n      <ng-container [ngTemplateOutlet]=\\\"settingTpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: {field: 'checkEmailInterval', label: 'Interval to check new emails (minutes)'}}\\\"></ng-container>\\n      <ng-container [ngTemplateOutlet]=\\\"settingTpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: {field: 'pageSize', label: 'Number of messages displayed on a page'}}\\\"></ng-container>\\n      <ng-container [ngTemplateOutlet]=\\\"settingTpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: {field: 'composeType', label: 'Type of messages to compose'}}\\\"></ng-container>\\n      <ng-container [ngTemplateOutlet]=\\\"settingTpl\\\" [ngTemplateOutletContext]=\\\"{$implicit: {field: 'theme', label: 'Application theme'}}\\\"></ng-container>\\n      <div class=\\\"p-field-checkbox\\\">\\n        <p-checkbox [(ngModel)]=\\\"view._model.previewInCloud\\\" [binary]=\\\"true\\\" inputId=\\\"checkbox-preview-in-cloud\\\"></p-checkbox>\\n        <label for=\\\"checkbox-preview-in-cloud\\\">Preview attachments in the cloud</label>\\n      </div>\\n    </div>\\n  </p-panel>\\n</div>\\n\\n<div class=\\\"content-section\\\" *ngIf=\\\"view._model\\\">\\n  <p-panel header=\\\"Nextcloud integration\\\">\\n    <div class=\\\"panel-container p-fluid forms-grid ui-fluid\\\" style=\\\"margin: 1em 0;\\\">\\n      <div class=\\\"flex users\\\">\\n        <span class=\\\"ui-float-label\\\">\\n          <input type=\\\"text\\\" id=\\\"nextcloud-url\\\" pInputText [ngModel]=\\\"view._model?.nextcloudUrl\\\" (ngModelChange)=\\\"view._model.nextcloudUrl = $event\\\" />\\n          <label for=\\\"nextcloud-url\\\">Nextcloud server base url</label>\\n        </span>\\n        <button class=\\\"login\\\" [disabled]=\\\"!view._model?.nextcloudUrl\\\" (click)=\\\"view._nextcloudLogin()\\\" pButton label=\\\"Perform login\\\"></button>\\n      </div>\\n    </div>\\n  </p-panel>\\n</div>\\n\\n<ng-template #settingTpl let-context>\\n  <div class=\\\"flex\\\">\\n    <span class=\\\"ui-float-label\\\">\\n      <p-dropdown id=\\\"setting-{{context.field}}\\\"\\n                  [options]=\\\"view._model[context.field].options\\\"\\n                  [(ngModel)]=\\\"view._model[context.field].model\\\"\\n                  optionLabel=\\\"label\\\"></p-dropdown>\\n      <label for=\\\"setting-{{context.field}}\\\">{{context.label}}</label>\\n    </span>\\n  </div>\\n</ng-template>\\n\\n<div class=\\\"content-section\\\" *ngIf=\\\"view._model\\\">\\n  <button [disabled]=\\\"!view._model?.server.url\\\" pButton label=\\\"Save\\\" (click)=\\\"view._save()\\\"></button>\\n</div>\\n\";","export default \"<div class=\\\"\\\">\\n  <!--div (click)=\\\"view._select(i, $event)\\\" [ngClass]=\\\"{selected: i.partialSelected}\\\" class=\\\"p-col-12 flex file\\\" *ngFor=\\\"let i of view._files\\\">\\n    <ng-container [ngTemplateOutlet]=\\\"item\\\" [ngTemplateOutletContext]=\\\"{$implicit: i}\\\"></ng-container>\\n  </div-->\\n  <div class=\\\"p-col-12 flex\\\">\\n    <p-tree #tree [selectionMode]=\\\"type == 'file' ? 'checkbox' : 'single'\\\" [value]=\\\"view._files\\\" [(selection)]=\\\"view._selection\\\" (onNodeExpand)=\\\"view._load($event?.node)\\\" [loading]=\\\"view._loading\\\"></p-tree>\\n  </div>\\n  <div class=\\\"p-col-12\\\">\\n    <button pButton label=\\\"Choose\\\" (click)=\\\"view._choose()\\\"></button>\\n  </div>\\n</div>\\n\\n<ng-template #item let-item>\\n  <div class=\\\"p-col-9\\\">\\n    <i class=\\\"fa-3w {{item.collapsedIcon}}\\\"></i>\\n    {{item.label}}\\n  </div>\\n  <div class=\\\"p-col-3 size\\\">\\n    {{item.data.size | humanFileSize}}\\n  </div>\\n</ng-template>\\n\";","export default \"i {\\n  font-size: 30px;\\n  margin-left: -3px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL2F0dGFjaG1lbnRzLnNjc3MiLCJzcmMvYXNzZXRzL3Njc3MvYXR0YWNobWVudHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hc3NldHMvc2Nzcy9hdHRhY2htZW50cy5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaSB7XG4gIGZvbnQtc2l6ZTogMzBweDtcbiAgbWFyZ2luLWxlZnQ6IC0zcHg7XG59XG4iLCJpIHtcbiAgZm9udC1zaXplOiAzMHB4O1xuICBtYXJnaW4tbGVmdDogLTNweDtcbn0iXX0= */\";","export default \".color-circle {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n}\\n\\n.text {\\n  color: white;\\n  text-align: center;\\n  font-size: 24px;\\n  font-weight: bold;\\n  display: inline-block;\\n  width: 40px;\\n  height: 40px;\\n  vertical-align: middle;\\n  position: relative;\\n  top: 4px;\\n  font-family: \\\"Open Sans\\\";\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL2F2YXRhci5zY3NzIiwic3JjL2Fzc2V0cy9zY3NzL2F2YXRhci5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EscUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0Esd0JBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXNzZXRzL3Njc3MvYXZhdGFyLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29sb3ItY2lyY2xlIHtcbiAgd2lkdGg6IDQwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4udGV4dCB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA0cHg7XG4gIGZvbnQtZmFtaWx5OiBcIk9wZW4gU2Fuc1wiO1xufVxuXG4iLCIuY29sb3ItY2lyY2xlIHtcbiAgd2lkdGg6IDQwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4udGV4dCB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA0cHg7XG4gIGZvbnQtZmFtaWx5OiBcIk9wZW4gU2Fuc1wiO1xufSJdfQ== */\";","export default \".options {\\n  justify-content: flex-end;\\n  display: flex;\\n}\\n\\nbutton {\\n  width: inherit;\\n}\\n\\n.ui-float-label {\\n  display: flex;\\n}\\n\\n.form {\\n  margin: 0.5em;\\n  height: calc(100vh - 40px);\\n  overflow-y: auto;\\n}\\n\\n.ui-inputgroup .ui-inputtext:not(:last-child) {\\n  border-right-width: thin;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL2NvbXBvc2Uuc2NzcyIsInNyYy9hc3NldHMvc2Nzcy9jb21wb3NlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSx5QkFBQTtFQUNBLGFBQUE7QUNBRjs7QURHQTtFQUNFLGNBQUE7QUNBRjs7QURHQTtFQUNFLGFBQUE7QUNBRjs7QURHQTtFQUNFLGFBQUE7RUFDQSwwQkFBQTtFQUNBLGdCQUFBO0FDQUY7O0FER0E7RUFDRSx3QkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9hc3NldHMvc2Nzcy9jb21wb3NlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5vcHRpb25zIHtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuYnV0dG9uIHtcbiAgd2lkdGg6IGluaGVyaXQ7XG59XG5cbi51aS1mbG9hdC1sYWJlbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5mb3JtIHtcbiAgbWFyZ2luOiAwLjVlbTtcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNDBweCk7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbi51aS1pbnB1dGdyb3VwIC51aS1pbnB1dHRleHQ6bm90KDpsYXN0LWNoaWxkKSB7XG4gIGJvcmRlci1yaWdodC13aWR0aDogdGhpbjtcbn1cblxuIiwiLm9wdGlvbnMge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICBkaXNwbGF5OiBmbGV4O1xufVxuXG5idXR0b24ge1xuICB3aWR0aDogaW5oZXJpdDtcbn1cblxuLnVpLWZsb2F0LWxhYmVsIHtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLmZvcm0ge1xuICBtYXJnaW46IDAuNWVtO1xuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0MHB4KTtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLnVpLWlucHV0Z3JvdXAgLnVpLWlucHV0dGV4dDpub3QoOmxhc3QtY2hpbGQpIHtcbiAgYm9yZGVyLXJpZ2h0LXdpZHRoOiB0aGluO1xufSJdfQ== */\";","export default \".editor {\\n  padding: 10px;\\n  border: 1px solid gray;\\n  width: 100% !important;\\n  overflow-x: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL2VkaXRvci5zY3NzIiwic3JjL2Fzc2V0cy9zY3NzL2VkaXRvci5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hc3NldHMvc2Nzcy9lZGl0b3Iuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5lZGl0b3Ige1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICBvdmVyZmxvdy14OiBhdXRvO1xufVxuIiwiLmVkaXRvciB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gIG92ZXJmbG93LXg6IGF1dG87XG59Il19 */\";","export default \"al-folders-list .ui-tree {\\n  width: 100%;\\n  border: none;\\n}\\nal-folders-list .ui-treenode-content:focus {\\n  box-shadow: none !important;\\n}\\nal-folders-list .ui-tree-wrapper {\\n  border: none;\\n}\\nal-folders-list .selected {\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL2ZvbGRlcnMtbGlzdC5zY3NzIiwic3JjL2Fzc2V0cy9zY3NzL2ZvbGRlcnMtbGlzdC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNBSjtBREdFO0VBQ0UsMkJBQUE7QUNESjtBRElFO0VBQ0UsWUFBQTtBQ0ZKO0FES0U7RUFDRSxpQkFBQTtBQ0hKIiwiZmlsZSI6InNyYy9hc3NldHMvc2Nzcy9mb2xkZXJzLWxpc3Quc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFsLWZvbGRlcnMtbGlzdCB7XG4gIC51aS10cmVlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXI6IG5vbmU7XG4gIH1cblxuICAudWktdHJlZW5vZGUtY29udGVudDpmb2N1cyB7XG4gICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICB9XG5cbiAgLnVpLXRyZWUtd3JhcHBlciB7XG4gICAgYm9yZGVyOiBub25lO1xuICB9XG5cbiAgLnNlbGVjdGVkIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxufVxuIiwiYWwtZm9sZGVycy1saXN0IC51aS10cmVlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlcjogbm9uZTtcbn1cbmFsLWZvbGRlcnMtbGlzdCAudWktdHJlZW5vZGUtY29udGVudDpmb2N1cyB7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbn1cbmFsLWZvbGRlcnMtbGlzdCAudWktdHJlZS13cmFwcGVyIHtcbiAgYm9yZGVyOiBub25lO1xufVxuYWwtZm9sZGVycy1saXN0IC5zZWxlY3RlZCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufSJdfQ== */\";","export default \"body {\\n  overflow: hidden;\\n}\\n\\napp-home .overflow {\\n  overflow-x: hidden;\\n}\\n\\napp-home #container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\napp-home #container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\napp-home #container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\napp-home #container a {\\n  text-decoration: none;\\n}\\n\\napp-home .folders-col {\\n  width: 200px;\\n  max-width: 300px;\\n}\\n\\napp-home .mails-col {\\n  width: 400px;\\n}\\n\\napp-home .mails-col button {\\n  margin-left: 10px;\\n}\\n\\napp-home .mails-col .left {\\n  float: left;\\n}\\n\\napp-home .right {\\n  float: right;\\n}\\n\\napp-home .menuWidth {\\n  min-width: 300px;\\n  text-align: left;\\n}\\n\\napp-home .mail-col {\\n  width: calc(100% - 600px);\\n}\\n\\napp-home .top td {\\n  vertical-align: top;\\n  overflow-y: auto;\\n}\\n\\napp-home .messages-wrapper {\\n  overflow-y: hidden;\\n}\\n\\napp-home .wrapper {\\n  height: calc(100vh - 48px);\\n  overflow-y: auto;\\n}\\n\\napp-home al-messages-list .ui-table-wrapper {\\n  height: calc(100vh - 97px);\\n  overflow-y: auto;\\n}\\n\\napp-home al-messages-list.mobile .ui-table-wrapper {\\n  width: calc(100% - 8px);\\n  padding-left: 9px;\\n  overflow-x: hidden;\\n  height: calc(100vh - 81px);\\n}\\n\\napp-home .mobile-messages-list {\\n  position: relative;\\n  top: 8px;\\n}\\n\\napp-home .w100 {\\n  width: 100%;\\n}\\n\\napp-home .mobile-messages-list al-message {\\n  margin-left: 9px;\\n  margin-right: 9px;\\n}\\n\\napp-home .padding-10 {\\n  padding-left: 10px;\\n  padding-right: 10px;\\n}\\n\\napp-home .padding-right-10 {\\n  padding-right: 10px;\\n}\\n\\napp-home .ui-toolbar-group-left {\\n  display: flex;\\n  font-size: 30px;\\n  width: 100%;\\n  justify-content: space-between;\\n}\\n\\napp-home .ui-toolbar-group-left i {\\n  flex: 0 1 auto;\\n}\\n\\napp-home .ui-toolbar-group-left i:last-child {\\n  position: relative;\\n  text-align: right;\\n}\\n\\napp-home [hidden] {\\n  display: none !important;\\n}\\n\\napp-home .ui-sidebar {\\n  height: 100vh;\\n  overflow-y: auto;\\n}\\n\\napp-home .disabled {\\n  opacity: 0.2;\\n}\\n\\napp-home .dark i {\\n  color: #a32049 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL2hvbWUuc2NzcyIsInNyYy9hc3NldHMvc2Nzcy9ob21lLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtBQ0NGOztBREVFO0VBQ0Usa0JBQUE7QUNDSjs7QURFRTtFQUNFLGtCQUFBO0VBRUEsa0JBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQ0RKOztBRElFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FDRko7O0FES0U7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFFQSxjQUFBO0VBRUEsU0FBQTtBQ0xKOztBRFFFO0VBQ0UscUJBQUE7QUNOSjs7QURTRTtFQUNFLFlBQUE7RUFDQSxnQkFBQTtBQ1BKOztBRFVFO0VBQ0UsWUFBQTtBQ1JKOztBRFVJO0VBQ0UsaUJBQUE7QUNSTjs7QURXSTtFQUNFLFdBQUE7QUNUTjs7QURjRTtFQUNFLFlBQUE7QUNaSjs7QURlRTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7QUNiSjs7QURnQkU7RUFDRSx5QkFBQTtBQ2RKOztBRGlCRTtFQUNFLG1CQUFBO0VBQ0EsZ0JBQUE7QUNmSjs7QURrQkU7RUFDRSxrQkFBQTtBQ2hCSjs7QURtQkU7RUFDRSwwQkFBQTtFQUNBLGdCQUFBO0FDakJKOztBRG9CRTtFQUNFLDBCQUFBO0VBQ0EsZ0JBQUE7QUNsQko7O0FEcUJFO0VBQ0UsdUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsMEJBQUE7QUNuQko7O0FEc0JFO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0FDcEJKOztBRHVCRTtFQUNFLFdBQUE7QUNyQko7O0FEd0JFO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQ3RCSjs7QUR5QkU7RUFDRSxrQkFBQTtFQUNBLG1CQUFBO0FDdkJKOztBRDBCRTtFQUNFLG1CQUFBO0FDeEJKOztBRDJCRTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLDhCQUFBO0FDekJKOztBRDRCRTtFQUNFLGNBQUE7QUMxQko7O0FENkJFO0VBQ0Usa0JBQUE7RUFDQSxpQkFBQTtBQzNCSjs7QUQ4QkU7RUFDRSx3QkFBQTtBQzVCSjs7QUQrQkU7RUFDRSxhQUFBO0VBQ0EsZ0JBQUE7QUM3Qko7O0FEZ0NFO0VBQ0UsWUFBQTtBQzlCSjs7QURpQ0U7RUFDRSx5QkFBQTtBQy9CSiIsImZpbGUiOiJzcmMvYXNzZXRzL3Njc3MvaG9tZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5hcHAtaG9tZSB7XG4gIC5vdmVyZmxvdyB7XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICB9XG4gIFxuICAjY29udGFpbmVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICB0b3A6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gIH1cblxuICAjY29udGFpbmVyIHN0cm9uZyB7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyNnB4O1xuICB9XG5cbiAgI2NvbnRhaW5lciBwIHtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgbGluZS1oZWlnaHQ6IDIycHg7XG5cbiAgICBjb2xvcjogIzhjOGM4YztcblxuICAgIG1hcmdpbjogMDtcbiAgfVxuXG4gICNjb250YWluZXIgYSB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB9XG5cbiAgLmZvbGRlcnMtY29sIHtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgbWF4LXdpZHRoOiAzMDBweDtcbiAgfVxuXG4gIC5tYWlscy1jb2wge1xuICAgIHdpZHRoOiA0MDBweDtcblxuICAgIGJ1dHRvbiB7XG4gICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICB9XG5cbiAgICAubGVmdCB7XG4gICAgICBmbG9hdDogbGVmdDtcbiAgICB9XG5cbiAgfVxuXG4gIC5yaWdodCB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICB9XG5cbiAgLm1lbnVXaWR0aCB7XG4gICAgbWluLXdpZHRoOiAzMDBweDtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB9XG5cbiAgLm1haWwtY29sIHtcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gNjAwcHgpO1xuICB9XG5cbiAgLnRvcCB0ZCB7XG4gICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICB9XG5cbiAgLm1lc3NhZ2VzLXdyYXBwZXIge1xuICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgfVxuXG4gIC53cmFwcGVyIHtcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0OHB4KTtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICB9XG5cbiAgYWwtbWVzc2FnZXMtbGlzdCAudWktdGFibGUtd3JhcHBlciB7XG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gOTdweCk7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgfVxuXG4gIGFsLW1lc3NhZ2VzLWxpc3QubW9iaWxlIC51aS10YWJsZS13cmFwcGVyIHtcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gOHB4KTtcbiAgICBwYWRkaW5nLWxlZnQ6IDlweDtcbiAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gODFweCk7XG4gIH1cblxuICAubW9iaWxlLW1lc3NhZ2VzLWxpc3Qge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0b3A6IDhweDtcbiAgfVxuXG4gIC53MTAwIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5tb2JpbGUtbWVzc2FnZXMtbGlzdCBhbC1tZXNzYWdlIHtcbiAgICBtYXJnaW4tbGVmdDogOXB4O1xuICAgIG1hcmdpbi1yaWdodDogOXB4O1xuICB9XG5cbiAgLnBhZGRpbmctMTAge1xuICAgIHBhZGRpbmctbGVmdDogMTBweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICB9XG5cbiAgLnBhZGRpbmctcmlnaHQtMTAge1xuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gIH1cblxuICAudWktdG9vbGJhci1ncm91cC1sZWZ0IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG5cbiAgfVxuICAudWktdG9vbGJhci1ncm91cC1sZWZ0IGkge1xuICAgIGZsZXg6IDAgMSBhdXRvO1xuICB9XG5cbiAgLnVpLXRvb2xiYXItZ3JvdXAtbGVmdCBpOmxhc3QtY2hpbGQge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgfVxuXG4gIFtoaWRkZW5dIHtcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cblxuICAudWktc2lkZWJhciB7XG4gICAgaGVpZ2h0OiAxMDB2aDtcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xuICB9XG5cbiAgLmRpc2FibGVkIHtcbiAgICBvcGFjaXR5OiAwLjI7XG4gIH1cblxuICAuZGFyayBpIHtcbiAgICBjb2xvcjogI2EzMjA0OSAhaW1wb3J0YW50O1xuICB9XG59XG4iLCJib2R5IHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuYXBwLWhvbWUgLm92ZXJmbG93IHtcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xufVxuYXBwLWhvbWUgI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgdG9wOiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbn1cbmFwcC1ob21lICNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cbmFwcC1ob21lICNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG4gIGNvbG9yOiAjOGM4YzhjO1xuICBtYXJnaW46IDA7XG59XG5hcHAtaG9tZSAjY29udGFpbmVyIGEge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5hcHAtaG9tZSAuZm9sZGVycy1jb2wge1xuICB3aWR0aDogMjAwcHg7XG4gIG1heC13aWR0aDogMzAwcHg7XG59XG5hcHAtaG9tZSAubWFpbHMtY29sIHtcbiAgd2lkdGg6IDQwMHB4O1xufVxuYXBwLWhvbWUgLm1haWxzLWNvbCBidXR0b24ge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cbmFwcC1ob21lIC5tYWlscy1jb2wgLmxlZnQge1xuICBmbG9hdDogbGVmdDtcbn1cbmFwcC1ob21lIC5yaWdodCB7XG4gIGZsb2F0OiByaWdodDtcbn1cbmFwcC1ob21lIC5tZW51V2lkdGgge1xuICBtaW4td2lkdGg6IDMwMHB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuYXBwLWhvbWUgLm1haWwtY29sIHtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDYwMHB4KTtcbn1cbmFwcC1ob21lIC50b3AgdGQge1xuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuYXBwLWhvbWUgLm1lc3NhZ2VzLXdyYXBwZXIge1xuICBvdmVyZmxvdy15OiBoaWRkZW47XG59XG5hcHAtaG9tZSAud3JhcHBlciB7XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDQ4cHgpO1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuYXBwLWhvbWUgYWwtbWVzc2FnZXMtbGlzdCAudWktdGFibGUtd3JhcHBlciB7XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDk3cHgpO1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuYXBwLWhvbWUgYWwtbWVzc2FnZXMtbGlzdC5tb2JpbGUgLnVpLXRhYmxlLXdyYXBwZXIge1xuICB3aWR0aDogY2FsYygxMDAlIC0gOHB4KTtcbiAgcGFkZGluZy1sZWZ0OiA5cHg7XG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gODFweCk7XG59XG5hcHAtaG9tZSAubW9iaWxlLW1lc3NhZ2VzLWxpc3Qge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogOHB4O1xufVxuYXBwLWhvbWUgLncxMDAge1xuICB3aWR0aDogMTAwJTtcbn1cbmFwcC1ob21lIC5tb2JpbGUtbWVzc2FnZXMtbGlzdCBhbC1tZXNzYWdlIHtcbiAgbWFyZ2luLWxlZnQ6IDlweDtcbiAgbWFyZ2luLXJpZ2h0OiA5cHg7XG59XG5hcHAtaG9tZSAucGFkZGluZy0xMCB7XG4gIHBhZGRpbmctbGVmdDogMTBweDtcbiAgcGFkZGluZy1yaWdodDogMTBweDtcbn1cbmFwcC1ob21lIC5wYWRkaW5nLXJpZ2h0LTEwIHtcbiAgcGFkZGluZy1yaWdodDogMTBweDtcbn1cbmFwcC1ob21lIC51aS10b29sYmFyLWdyb3VwLWxlZnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmb250LXNpemU6IDMwcHg7XG4gIHdpZHRoOiAxMDAlO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5hcHAtaG9tZSAudWktdG9vbGJhci1ncm91cC1sZWZ0IGkge1xuICBmbGV4OiAwIDEgYXV0bztcbn1cbmFwcC1ob21lIC51aS10b29sYmFyLWdyb3VwLWxlZnQgaTpsYXN0LWNoaWxkIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cbmFwcC1ob21lIFtoaWRkZW5dIHtcbiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xufVxuYXBwLWhvbWUgLnVpLXNpZGViYXIge1xuICBoZWlnaHQ6IDEwMHZoO1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuYXBwLWhvbWUgLmRpc2FibGVkIHtcbiAgb3BhY2l0eTogMC4yO1xufVxuYXBwLWhvbWUgLmRhcmsgaSB7XG4gIGNvbG9yOiAjYTMyMDQ5ICFpbXBvcnRhbnQ7XG59Il19 */\";","export default \".container {\\n  height: calc(100vh - 53px);\\n}\\n\\nbody {\\n  margin: 0px;\\n}\\n\\n.avatar {\\n  width: 40px;\\n  height: 40px;\\n  margin-right: 8px;\\n  margin-top: 8px;\\n}\\n\\n.account {\\n  width: calc(100% - 48px);\\n}\\n\\n.name {\\n  margin-top: 10px;\\n  margin-bottom: 0px;\\n  font-weight: normal;\\n}\\n\\n.email {\\n  margin-top: 0px;\\n  margin-bottom: 0px;\\n  font-weight: normal;\\n}\\n\\n.selected .email, .selected .name {\\n  font-weight: bold !important;\\n}\\n\\n.flex {\\n  display: flex;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL21haW4uc2NzcyIsInNyYy9hc3NldHMvc2Nzcy9tYWluLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwwQkFBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtBQ0NGOztBREVBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUNDRjs7QURFQTtFQUNFLHdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDQ0Y7O0FERUE7RUFDRSw0QkFBQTtBQ0NGOztBREVBO0VBQ0UsYUFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hc3NldHMvc2Nzcy9tYWluLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNTNweCk7XG59XG5cbmJvZHkge1xuICBtYXJnaW46IDBweDtcbn1cblxuLmF2YXRhciB7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIG1hcmdpbi1yaWdodDogOHB4O1xuICBtYXJnaW4tdG9wOiA4cHg7XG59XG5cbi5hY2NvdW50IHtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDQ4cHgpO1xufVxuXG4ubmFtZSB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDBweDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbn1cblxuLmVtYWlsIHtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG5cbi5zZWxlY3RlZCAuZW1haWwsIC5zZWxlY3RlZCAubmFtZXtcbiAgZm9udC13ZWlnaHQ6IGJvbGQgIWltcG9ydGFudDtcbn1cblxuLmZsZXgge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuIiwiLmNvbnRhaW5lciB7XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDUzcHgpO1xufVxuXG5ib2R5IHtcbiAgbWFyZ2luOiAwcHg7XG59XG5cbi5hdmF0YXIge1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgbWFyZ2luLXRvcDogOHB4O1xufVxuXG4uYWNjb3VudCB7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSA0OHB4KTtcbn1cblxuLm5hbWUge1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG59XG5cbi5lbWFpbCB7XG4gIG1hcmdpbi10b3A6IDBweDtcbiAgbWFyZ2luLWJvdHRvbTogMHB4O1xuICBmb250LXdlaWdodDogbm9ybWFsO1xufVxuXG4uc2VsZWN0ZWQgLmVtYWlsLCAuc2VsZWN0ZWQgLm5hbWUge1xuICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O1xufVxuXG4uZmxleCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59Il19 */\";","export default \"al-message.dark {\\n  color: #dedede;\\n}\\n\\nal-message {\\n  /*.ui-overlaypanel {\\n    top: 150px !important;\\n    left: 370px !important;\\n  }*/\\n}\\n\\nal-message .center {\\n  text-align: center;\\n}\\n\\nal-message .from {\\n  display: flex;\\n  align-items: center;\\n}\\n\\nal-message .margin {\\n  margin-left: 10px;\\n}\\n\\nal-message .buttons {\\n  text-align: right;\\n}\\n\\nal-message .buttons button {\\n  margin-left: 4px;\\n}\\n\\nal-message .avatar {\\n  max-width: 56px;\\n  margin: 8px;\\n}\\n\\nal-message .details {\\n  flex: 1;\\n  margin-top: 11px;\\n}\\n\\nal-message .actions {\\n  max-width: 117px;\\n  margin-top: 11px;\\n}\\n\\nal-message .actions .fa.draft {\\n  font-size: 30px;\\n  margin-left: 20px;\\n}\\n\\nal-message .p-col-1 {\\n  align-items: center;\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n\\nal-message .extra {\\n  color: blue;\\n}\\n\\nal-message .extra-details {\\n  font-size: 0.8em;\\n}\\n\\nal-message .contact-detail {\\n  margin-right: 5px;\\n}\\n\\nal-message .menu-options i {\\n  margin-right: 10px;\\n}\\n\\nal-message .max-width {\\n  max-width: 150px;\\n}\\n\\nal-message .message-body {\\n  overflow-x: overlay;\\n}\\n\\nal-message .hide-quote blockquote {\\n  display: none;\\n}\\n\\nal-message .main-container {\\n  padding-left: 15px;\\n}\\n\\nal-message pinch-zoom {\\n  background-color: inherit !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL21lc3NhZ2Uuc2NzcyIsInNyYy9hc3NldHMvc2Nzcy9tZXNzYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0FDQ0Y7O0FEQ0E7RUEwRUU7OztJQUFBO0FDcEVGOztBRExFO0VBQ0Usa0JBQUE7QUNPSjs7QURKRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQ01KOztBREhFO0VBQ0UsaUJBQUE7QUNLSjs7QURGRTtFQUlFLGlCQUFBO0FDQ0o7O0FESkk7RUFDRSxnQkFBQTtBQ01OOztBRERFO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUNHSjs7QURBRTtFQUNFLE9BQUE7RUFDQSxnQkFBQTtBQ0VKOztBRENFO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREFJO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FDRU47O0FERUU7RUFDRSxtQkFBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtBQ0FKOztBREdFO0VBQ0UsV0FBQTtBQ0RKOztBRElFO0VBQ0UsZ0JBQUE7QUNGSjs7QURLRTtFQUNFLGlCQUFBO0FDSEo7O0FETUU7RUFDRSxrQkFBQTtBQ0pKOztBRE9FO0VBQ0UsZ0JBQUE7QUNMSjs7QURRRTtFQUNFLG1CQUFBO0FDTko7O0FEU0U7RUFDRSxhQUFBO0FDUEo7O0FEZUU7RUFDRSxrQkFBQTtBQ2JKOztBRGdCRTtFQUNFLG9DQUFBO0FDZEoiLCJmaWxlIjoic3JjL2Fzc2V0cy9zY3NzL21lc3NhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFsLW1lc3NhZ2UuZGFyayB7XG4gIGNvbG9yOiAjZGVkZWRlO1xufVxuYWwtbWVzc2FnZSB7XG4gIC5jZW50ZXIge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIC5mcm9tIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cblxuICAubWFyZ2luIHtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgfVxuXG4gIC5idXR0b25zIHtcbiAgICBidXR0b24ge1xuICAgICAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgICB9XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIH1cblxuICAuYXZhdGFyIHtcbiAgICBtYXgtd2lkdGg6IDU2cHg7XG4gICAgbWFyZ2luOiA4cHg7XG4gIH1cblxuICAuZGV0YWlscyB7XG4gICAgZmxleDogMTtcbiAgICBtYXJnaW4tdG9wOiAxMXB4O1xuICB9XG5cbiAgLmFjdGlvbnMge1xuICAgIG1heC13aWR0aDogMTE3cHg7XG4gICAgbWFyZ2luLXRvcDogMTFweDtcbiAgICAuZmEuZHJhZnQge1xuICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgfVxuICB9XG5cbiAgLnAtY29sLTEge1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICB9XG5cbiAgLmV4dHJhIHtcbiAgICBjb2xvcjogYmx1ZTtcbiAgfVxuXG4gIC5leHRyYS1kZXRhaWxzIHtcbiAgICBmb250LXNpemU6IDAuOGVtO1xuICB9XG5cbiAgLmNvbnRhY3QtZGV0YWlsIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgfVxuICBcbiAgLm1lbnUtb3B0aW9ucyBpe1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgfVxuXG4gIC5tYXgtd2lkdGgge1xuICAgIG1heC13aWR0aDogMTUwcHg7XG4gIH1cblxuICAubWVzc2FnZS1ib2R5IHtcbiAgICBvdmVyZmxvdy14OiBvdmVybGF5O1xuICB9XG5cbiAgLmhpZGUtcXVvdGUgYmxvY2txdW90ZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIC8qLnVpLW92ZXJsYXlwYW5lbCB7XG4gICAgdG9wOiAxNTBweCAhaW1wb3J0YW50O1xuICAgIGxlZnQ6IDM3MHB4ICFpbXBvcnRhbnQ7XG4gIH0qL1xuXG4gIC5tYWluLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZy1sZWZ0OiAxNXB4O1xuICB9XG5cbiAgcGluY2gtem9vbSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdCAhaW1wb3J0YW50O1xuICB9XG59XG4iLCJhbC1tZXNzYWdlLmRhcmsge1xuICBjb2xvcjogI2RlZGVkZTtcbn1cblxuYWwtbWVzc2FnZSB7XG4gIC8qLnVpLW92ZXJsYXlwYW5lbCB7XG4gICAgdG9wOiAxNTBweCAhaW1wb3J0YW50O1xuICAgIGxlZnQ6IDM3MHB4ICFpbXBvcnRhbnQ7XG4gIH0qL1xufVxuYWwtbWVzc2FnZSAuY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuYWwtbWVzc2FnZSAuZnJvbSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5hbC1tZXNzYWdlIC5tYXJnaW4ge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cbmFsLW1lc3NhZ2UgLmJ1dHRvbnMge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cbmFsLW1lc3NhZ2UgLmJ1dHRvbnMgYnV0dG9uIHtcbiAgbWFyZ2luLWxlZnQ6IDRweDtcbn1cbmFsLW1lc3NhZ2UgLmF2YXRhciB7XG4gIG1heC13aWR0aDogNTZweDtcbiAgbWFyZ2luOiA4cHg7XG59XG5hbC1tZXNzYWdlIC5kZXRhaWxzIHtcbiAgZmxleDogMTtcbiAgbWFyZ2luLXRvcDogMTFweDtcbn1cbmFsLW1lc3NhZ2UgLmFjdGlvbnMge1xuICBtYXgtd2lkdGg6IDExN3B4O1xuICBtYXJnaW4tdG9wOiAxMXB4O1xufVxuYWwtbWVzc2FnZSAuYWN0aW9ucyAuZmEuZHJhZnQge1xuICBmb250LXNpemU6IDMwcHg7XG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xufVxuYWwtbWVzc2FnZSAucC1jb2wtMSB7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG5hbC1tZXNzYWdlIC5leHRyYSB7XG4gIGNvbG9yOiBibHVlO1xufVxuYWwtbWVzc2FnZSAuZXh0cmEtZGV0YWlscyB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59XG5hbC1tZXNzYWdlIC5jb250YWN0LWRldGFpbCB7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuYWwtbWVzc2FnZSAubWVudS1vcHRpb25zIGkge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5hbC1tZXNzYWdlIC5tYXgtd2lkdGgge1xuICBtYXgtd2lkdGg6IDE1MHB4O1xufVxuYWwtbWVzc2FnZSAubWVzc2FnZS1ib2R5IHtcbiAgb3ZlcmZsb3cteDogb3ZlcmxheTtcbn1cbmFsLW1lc3NhZ2UgLmhpZGUtcXVvdGUgYmxvY2txdW90ZSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5hbC1tZXNzYWdlIC5tYWluLWNvbnRhaW5lciB7XG4gIHBhZGRpbmctbGVmdDogMTVweDtcbn1cbmFsLW1lc3NhZ2UgcGluY2gtem9vbSB7XG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQgIWltcG9ydGFudDtcbn0iXX0= */\";","export default \"al-messages-list .header {\\n  margin-top: 0px;\\n}\\nal-messages-list .from, al-messages-list .subject {\\n  flex-grow: 1;\\n  max-width: 100%;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\nal-messages-list .subject {\\n  font-size: 13px;\\n}\\nal-messages-list .margin-top {\\n  margin-top: 0px;\\n}\\nal-messages-list .date {\\n  justify-content: right;\\n}\\nal-messages-list .flags {\\n  justify-content: right;\\n  margin-right: 4px;\\n}\\nal-messages-list .fa-star {\\n  font-size: 0.9em;\\n  padding-right: 5px;\\n}\\nal-messages-list .unread {\\n  font-weight: bold;\\n}\\nal-messages-list .ui-inputgroup {\\n  position: relative;\\n}\\nal-messages-list .ui-inputgroup .fa-times {\\n  position: absolute;\\n  right: 38px;\\n  top: 9px;\\n}\\nal-messages-list .right {\\n  text-align: right;\\n}\\nal-messages-list .avatar {\\n  width: 40px;\\n  height: 40px;\\n  margin-right: 8px;\\n  margin-top: 8px;\\n}\\nal-messages-list .message {\\n  width: calc(100% - 48px);\\n  margin-top: 8px;\\n}\\nal-messages-list .flex {\\n  display: flex;\\n}\\nal-messages-list td {\\n  overflow: hidden;\\n}\\nal-messages-list .ui-overlaypanel {\\n  max-width: 400px;\\n}\\nal-messages-list .fix-search-form .ui-overlaypanel {\\n  top: 50px !important;\\n  left: 107px !important;\\n}\\nal-messages-list .ui-datepicker {\\n  min-width: 300px !important;\\n}\\nal-messages-list .combined-view .ui-paginator-first, al-messages-list .combined-view .ui-paginator-last {\\n  display: none;\\n}\\nal-messages-list td.highlight {\\n  border-right: 5px solid !important;\\n}\\nal-messages-list .adv-search {\\n  max-width: 600px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL21lc3NhZ2VzLWxpc3Quc2NzcyIsInNyYy9hc3NldHMvc2Nzcy9tZXNzYWdlcy1saXN0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxlQUFBO0FDQUo7QURHRTtFQUNFLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQ0RKO0FESUU7RUFDRSxlQUFBO0FDRko7QURLRTtFQUNFLGVBQUE7QUNISjtBRE1FO0VBQ0Usc0JBQUE7QUNKSjtBRE9FO0VBQ0Usc0JBQUE7RUFFQSxpQkFBQTtBQ05KO0FEU0U7RUFDRSxnQkFBQTtFQUNBLGtCQUFBO0FDUEo7QURVRTtFQUNFLGlCQUFBO0FDUko7QURXRTtFQUNFLGtCQUFBO0FDVEo7QURVSTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7QUNSTjtBRFlFO0VBQ0UsaUJBQUE7QUNWSjtBRGFFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUNYSjtBRGNFO0VBQ0Usd0JBQUE7RUFDQSxlQUFBO0FDWko7QURlRTtFQUNFLGFBQUE7QUNiSjtBRGdCRTtFQUNFLGdCQUFBO0FDZEo7QURpQkU7RUFDRSxnQkFBQTtBQ2ZKO0FEa0JFO0VBQ0Usb0JBQUE7RUFDQSxzQkFBQTtBQ2hCSjtBRG1CRTtFQUNFLDJCQUFBO0FDakJKO0FEcUJJO0VBQ0UsYUFBQTtBQ25CTjtBRHVCRTtFQUNFLGtDQUFBO0FDckJKO0FEd0JFO0VBQ0UsZ0JBQUE7QUN0QkoiLCJmaWxlIjoic3JjL2Fzc2V0cy9zY3NzL21lc3NhZ2VzLWxpc3Quc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImFsLW1lc3NhZ2VzLWxpc3Qge1xuICAuaGVhZGVyIHtcbiAgICBtYXJnaW4tdG9wOiAwcHg7XG4gIH1cblxuICAuZnJvbSwgLnN1YmplY3Qge1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICB9XG5cbiAgLnN1YmplY3Qge1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgfVxuXG4gIC5tYXJnaW4tdG9wIHtcbiAgICBtYXJnaW4tdG9wOiAwcHg7XG4gIH1cblxuICAuZGF0ZSB7XG4gICAganVzdGlmeS1jb250ZW50OiByaWdodDtcbiAgfVxuXG4gIC5mbGFncyB7XG4gICAganVzdGlmeS1jb250ZW50OiByaWdodDtcbiAgICAvLyBtYXJnaW4tdG9wOiA0cHg7XG4gICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gIH1cblxuICAuZmEtc3RhciB7XG4gICAgZm9udC1zaXplOiAwLjllbTtcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gIH1cblxuICAudW5yZWFkIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuXG4gIC51aS1pbnB1dGdyb3VwIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgLmZhLXRpbWVzIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHJpZ2h0OiAzOHB4O1xuICAgICAgdG9wOiA5cHg7XG4gICAgfVxuICB9XG5cbiAgLnJpZ2h0IHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgfVxuXG4gIC5hdmF0YXIge1xuICAgIHdpZHRoOiA0MHB4O1xuICAgIGhlaWdodDogNDBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICBtYXJnaW4tdG9wOiA4cHg7XG4gIH1cblxuICAubWVzc2FnZSB7XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDQ4cHgpO1xuICAgIG1hcmdpbi10b3A6IDhweDtcbiAgfVxuXG4gIC5mbGV4IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICB9XG5cbiAgdGQge1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cblxuICAudWktb3ZlcmxheXBhbmVsIHtcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICB9XG5cbiAgLmZpeC1zZWFyY2gtZm9ybSAudWktb3ZlcmxheXBhbmVsIHtcbiAgICB0b3A6IDUwcHggIWltcG9ydGFudDtcbiAgICBsZWZ0OiAxMDdweCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLnVpLWRhdGVwaWNrZXIge1xuICAgIG1pbi13aWR0aDogMzAwcHggIWltcG9ydGFudDtcbiAgfVxuXG4gIC5jb21iaW5lZC12aWV3IHtcbiAgICAudWktcGFnaW5hdG9yLWZpcnN0LCAudWktcGFnaW5hdG9yLWxhc3Qge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cblxuICB0ZC5oaWdobGlnaHQge1xuICAgIGJvcmRlci1yaWdodDogNXB4IHNvbGlkICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuYWR2LXNlYXJjaCB7XG4gICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgfVxufVxuIiwiYWwtbWVzc2FnZXMtbGlzdCAuaGVhZGVyIHtcbiAgbWFyZ2luLXRvcDogMHB4O1xufVxuYWwtbWVzc2FnZXMtbGlzdCAuZnJvbSwgYWwtbWVzc2FnZXMtbGlzdCAuc3ViamVjdCB7XG4gIGZsZXgtZ3JvdzogMTtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuYWwtbWVzc2FnZXMtbGlzdCAuc3ViamVjdCB7XG4gIGZvbnQtc2l6ZTogMTNweDtcbn1cbmFsLW1lc3NhZ2VzLWxpc3QgLm1hcmdpbi10b3Age1xuICBtYXJnaW4tdG9wOiAwcHg7XG59XG5hbC1tZXNzYWdlcy1saXN0IC5kYXRlIHtcbiAganVzdGlmeS1jb250ZW50OiByaWdodDtcbn1cbmFsLW1lc3NhZ2VzLWxpc3QgLmZsYWdzIHtcbiAganVzdGlmeS1jb250ZW50OiByaWdodDtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG5hbC1tZXNzYWdlcy1saXN0IC5mYS1zdGFyIHtcbiAgZm9udC1zaXplOiAwLjllbTtcbiAgcGFkZGluZy1yaWdodDogNXB4O1xufVxuYWwtbWVzc2FnZXMtbGlzdCAudW5yZWFkIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5hbC1tZXNzYWdlcy1saXN0IC51aS1pbnB1dGdyb3VwIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuYWwtbWVzc2FnZXMtbGlzdCAudWktaW5wdXRncm91cCAuZmEtdGltZXMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAzOHB4O1xuICB0b3A6IDlweDtcbn1cbmFsLW1lc3NhZ2VzLWxpc3QgLnJpZ2h0IHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5hbC1tZXNzYWdlcy1saXN0IC5hdmF0YXIge1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgbWFyZ2luLXRvcDogOHB4O1xufVxuYWwtbWVzc2FnZXMtbGlzdCAubWVzc2FnZSB7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSA0OHB4KTtcbiAgbWFyZ2luLXRvcDogOHB4O1xufVxuYWwtbWVzc2FnZXMtbGlzdCAuZmxleCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5hbC1tZXNzYWdlcy1saXN0IHRkIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbmFsLW1lc3NhZ2VzLWxpc3QgLnVpLW92ZXJsYXlwYW5lbCB7XG4gIG1heC13aWR0aDogNDAwcHg7XG59XG5hbC1tZXNzYWdlcy1saXN0IC5maXgtc2VhcmNoLWZvcm0gLnVpLW92ZXJsYXlwYW5lbCB7XG4gIHRvcDogNTBweCAhaW1wb3J0YW50O1xuICBsZWZ0OiAxMDdweCAhaW1wb3J0YW50O1xufVxuYWwtbWVzc2FnZXMtbGlzdCAudWktZGF0ZXBpY2tlciB7XG4gIG1pbi13aWR0aDogMzAwcHggIWltcG9ydGFudDtcbn1cbmFsLW1lc3NhZ2VzLWxpc3QgLmNvbWJpbmVkLXZpZXcgLnVpLXBhZ2luYXRvci1maXJzdCwgYWwtbWVzc2FnZXMtbGlzdCAuY29tYmluZWQtdmlldyAudWktcGFnaW5hdG9yLWxhc3Qge1xuICBkaXNwbGF5OiBub25lO1xufVxuYWwtbWVzc2FnZXMtbGlzdCB0ZC5oaWdobGlnaHQge1xuICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCAhaW1wb3J0YW50O1xufVxuYWwtbWVzc2FnZXMtbGlzdCAuYWR2LXNlYXJjaCB7XG4gIG1heC13aWR0aDogNjAwcHg7XG59Il19 */\";","export default \"al-settings .flex {\\n  display: flex;\\n  align-items: center;\\n}\\nal-settings .flex button {\\n  margin-left: 5px;\\n}\\nal-settings .flex:not(:last-child) {\\n  margin-bottom: 20px;\\n}\\nal-settings .ui-float-label {\\n  width: 100%;\\n}\\nal-settings .ui-panel {\\n  margin-bottom: 15px;\\n}\\nal-settings .right {\\n  margin-left: 5px;\\n}\\nal-settings p-message {\\n  width: 153px;\\n}\\nal-settings .invalid {\\n  border: 1px solid red;\\n}\\nal-settings .login {\\n  flex: 0 0;\\n  white-space: nowrap;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL2Fzc2V0cy9zY3NzL3NldHRpbmdzLnNjc3MiLCJzcmMvYXNzZXRzL3Njc3Mvc2V0dGluZ3Muc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQ0FKO0FERUk7RUFDRSxnQkFBQTtBQ0FOO0FER0U7RUFDRSxtQkFBQTtBQ0RKO0FESUU7RUFDRSxXQUFBO0FDRko7QURLRTtFQUNFLG1CQUFBO0FDSEo7QURNRTtFQUNFLGdCQUFBO0FDSko7QURPRTtFQUNFLFlBQUE7QUNMSjtBRFFFO0VBQ0UscUJBQUE7QUNOSjtBRFNFO0VBQ0UsU0FBQTtFQUNBLG1CQUFBO0FDUEoiLCJmaWxlIjoic3JjL2Fzc2V0cy9zY3NzL3NldHRpbmdzLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhbC1zZXR0aW5ncyB7XG4gIC5mbGV4IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICBidXR0b24ge1xuICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICB9XG4gIH1cbiAgLmZsZXg6bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgfVxuXG4gIC51aS1mbG9hdC1sYWJlbCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuICAudWktcGFuZWwge1xuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gIH1cbiAgXG4gIC5yaWdodCB7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgfVxuXG4gIHAtbWVzc2FnZSB7XG4gICAgd2lkdGg6IDE1M3B4O1xuICB9XG5cbiAgLmludmFsaWQge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbiAgfVxuXG4gIC5sb2dpbiB7XG4gICAgZmxleDogMCAwO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIH1cbn1cbiIsImFsLXNldHRpbmdzIC5mbGV4IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbmFsLXNldHRpbmdzIC5mbGV4IGJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG59XG5hbC1zZXR0aW5ncyAuZmxleDpub3QoOmxhc3QtY2hpbGQpIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cbmFsLXNldHRpbmdzIC51aS1mbG9hdC1sYWJlbCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuYWwtc2V0dGluZ3MgLnVpLXBhbmVsIHtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbn1cbmFsLXNldHRpbmdzIC5yaWdodCB7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG59XG5hbC1zZXR0aW5ncyBwLW1lc3NhZ2Uge1xuICB3aWR0aDogMTUzcHg7XG59XG5hbC1zZXR0aW5ncyAuaW52YWxpZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbn1cbmFsLXNldHRpbmdzIC5sb2dpbiB7XG4gIGZsZXg6IDAgMDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn0iXX0= */\";","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nimport { LogLevel } from '../ts/models';\n\nexport const environment = {\n  production: false,\n  logLevel: LogLevel.DEBUG,\n  logStack: false,\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { environment } from './environments/environment';\nimport {Main} from './ts/modules/main';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(Main)\n  .catch(err => console.log(err));\n","import {EventEmitter, Injector, Provider, SimpleChanges, ComponentFactoryResolver, ApplicationRef, ComponentRef, EmbeddedViewRef, ElementRef} from '@angular/core';\nimport {TestBed} from '@angular/core/testing';\nimport {Router} from '@angular/router';\nimport {Observable, Subscription} from 'rxjs';\nimport {CycleType, METADATA, NgInject} from './decorators';\nimport {Logger, LoggingInstance} from './services/logging';\nimport {Loading} from './components/loading';\nimport {MessageService, BlockableUI} from 'primeng/api';\nimport {BlockUI} from 'primeng/blockui';\n\nclass BlockableComponent implements BlockableUI {\n  public el: HTMLElement;\n  public getBlockableElement() {\n    return this.el;\n  }\n}\n\nBlockUI.prototype.block = function() {\n  if (this.target) {\n    const el = this.target.getBlockableElement ? this.target.getBlockableElement() : this.target;\n    el.appendChild(this.mask.nativeElement);\n    let style = this.target.style || {};\n    style.position = 'relative';\n    this.target.style = style;\n  }\n  else {\n    document.body.appendChild(this.mask.nativeElement);\n  }\n  if (this.autoZIndex) {\n    this.mask.nativeElement.style.zIndex = String(this.baseZIndex + (10000));\n  }\n}\n\nexport class Statics {\n  public static injector: Injector;\n}\n\nclass BaseClassWithDecorations {\n  public static UUID(): string {\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n\n  protected __resolveDecorations__(protoName: string, component: any, callback: Function) {\n    if (component.name == '') {\n      return ;\n    }\n    const values: Map<string, Array<Object>> = METADATA.get(component) || new Map<string, Array<Object>>();\n    if (Array.isArray(values.get(protoName))) {\n      values.get(protoName).forEach(<any>callback.bind(this));\n    }\n\n    this.__resolveDecorations__(protoName, component.__proto__, callback);\n  }\n\n  protected __resolveInjectors__() {\n    this.__resolveDecorations__('__injectors__', this.constructor, (obj: Object) => this[obj['prop']] = Statics.injector.get(obj['arg']));\n  }\n}\n\nexport class BaseClass extends BaseClassWithDecorations {\n\n  protected _logger: Logger = LoggingInstance.logger;\n\n  constructor() {\n    super();\n    this.__resolveInjectors__();\n  }\n}\n\nexport class BaseComponent extends BaseClass {\n  @NgInject(Router) protected _router: Router;\n  @NgInject(<any>ComponentFactoryResolver) private __factoryResolver__: ComponentFactoryResolver;\n  @NgInject(ApplicationRef) private __appRef__: ApplicationRef;\n  @NgInject(MessageService) private _toast: MessageService;\n\n  public get view(): any {\n    return this;\n  }\n\n  private __cycles__: Map<string, Array<string>> = new Map<string, Array<string>>();\n  private __subscriptions__: Array<Subscription> = [];\n  private __loadingComponent__: ComponentRef<any> = null;\n\n  protected _isValid: boolean = true;\n\n  constructor() {\n    super();\n    this.__resolveDecorations__('__cycles__', this.constructor, (obj: Object) => {\n      if (!this.__cycles__.get(obj['arg'])) {\n        this.__cycles__.set(obj['arg'], []);\n      }\n      this.__cycles__.get(obj['arg']).push(obj['prop']);\n    });\n  }\n\n  private _runCycle(cycle: CycleType, args?: any) {\n    const cycles = [].concat(this.__cycles__.get(cycle) || []);\n    cycles.reverse().forEach(method => this[method](args));\n  }\n\n  private ngOnDestroy() {\n    this._runCycle('destroy');\n    this.__subscriptions__.forEach(s => s.unsubscribe());\n  }\n\n  private ngAfterViewInit() {\n    this._runCycle('afterViewInit');\n  }\n\n  private ngOnChanges(changes: SimpleChanges) {\n    this._runCycle('change', changes);\n  }\n\n  protected async _handleError(err: Error) {\n    this.hideLoading();\n    console.error(err);\n    this.alert(err.message || err['error'] || err.name || err.constructor.name, '');\n  }\n\n  private async ngOnInit() {\n    this._runCycle('init');\n  }\n\n  protected softRefresh() {\n    this.ngOnDestroy();\n    this.ngOnInit();\n  }\n\n  protected connect<T>(obs: Observable<T>, callback: (t: T) => void) {\n    this.__subscriptions__.push(obs.subscribe(callback));\n  }\n\n  protected navigate(url: string): Promise<boolean>{\n    return this._router.navigateByUrl(url);\n  }\n\n  protected showLoading(el?: ElementRef<any>) {\n    this.__loadingComponent__ = this.__factoryResolver__.resolveComponentFactory(Loading).create(Statics.injector);\n    if (!el && document.querySelectorAll('al-loading').length > 0) {\n      return ;\n    }\n    if (el) {\n      const component = new BlockableComponent();\n      component.el = el.nativeElement;\n      this.__loadingComponent__.instance.target = component;\n    }\n    this.__loadingComponent__.instance.uuid = BaseComponent.UUID();\n    this.__loadingComponent__.instance.initMe();\n    this.__appRef__.attachView(this.__loadingComponent__.hostView);\n    const node = (this.__loadingComponent__.hostView as EmbeddedViewRef<any>).rootNodes[0];\n    document.body.appendChild(node);\n  }\n\n  protected hideLoading() {\n    if (!this.__loadingComponent__) {\n      return ;\n    }\n    this.__appRef__.detachView(this.__loadingComponent__.hostView);\n    const el = document.querySelectorAll('al-loading');\n    el.forEach(e => document.body.removeChild(e));\n    this.__loadingComponent__ = null;\n  }\n\n  protected get isJobPage(): boolean {\n    return this._router.url.match(/job$/) ? true : false;\n  }\n\n  protected alert(title: string, message: string, severity: 'error' | 'success' = 'success', sticky: boolean = false) {\n    this._toast.add({severity: severity, summary: title, detail: message, key: 'abc', sticky: sticky});\n  }\n}\n\nexport class BaseTestUnit extends BaseClassWithDecorations {\n  protected initialized = new EventEmitter();\n  constructor(private _providers: Array<Provider>) {\n    super();\n  }\n\n  private __init__() {\n    TestBed.resetTestingModule();\n    TestBed.configureTestingModule({providers: this._providers});\n    Statics.injector = TestBed;\n    this.__resolveInjectors__();\n    this.initialized.emit();\n  }\n}\n","import {Component, Input} from '@angular/core';\nimport {FilesystemDirectory, FileWriteResult} from '@capacitor/core';\nimport {WebIntent} from '@ionic-native/web-intent/ngx';\nimport {BaseComponent} from '../base';\nimport {NgInject, NgCycle} from '../decorators';\nimport {Account, Attachment, MessageBody} from '../models';\nimport {Api} from '../services/api';\nimport {Mails} from '../services/mails';\nimport {Settings} from '../services/settings';\nimport {Nextcloud} from '../nextcloud/nextcloud';\nimport {Platform} from '@ionic/angular';\n\n@Component({\n  selector: 'al-attachments',\n  templateUrl: '../../html/attachments.html',\n  styleUrls: ['../../assets/scss/attachments.scss']\n})\nexport class Attachments extends BaseComponent {\n  @Input() public attachments: Array<Attachment> = [];\n  @Input() public message: MessageBody = null;\n  @Input() public account: Account;\n\n  @NgInject(Api) private _api: Api;\n  @NgInject(WebIntent) private _intent: WebIntent;\n  @NgInject(Nextcloud) private _nc: Nextcloud;\n  @NgInject(Mails) private _mails: Mails;\n  @NgInject(Settings) private _settings: Settings;\n  @NgInject(Platform) private _platform: Platform;\n  protected _attDownloading: boolean = false;\n  protected _isCloud: boolean = false;\n\n  @NgCycle('init')\n  protected _initMe() {\n    this._isCloud = this._nc.isNextcloud;\n  }\n\n  protected async _doDownload(a: Attachment, where: FilesystemDirectory, preview: boolean = false): Promise<FileWriteResult> {\n    this._attDownloading = true;\n    const fileName = this.message ? `${this.message.Uid}-${a.FileName}` : a.FileName;\n    const result = await this._api.downloadAttachment(this.account, a, fileName, where, this.message, preview);\n    this._attDownloading = false;\n    return result;\n  }\n\n  protected async _downloadAttachment(att: Attachment) {\n    const result = await this._doDownload(att, FilesystemDirectory.Documents);\n    if (result == null) {\n      return ;\n    }\n    this.alert('Attachment downloaded', result.uri);\n  }\n\n  protected async _viewAttachment(a: Attachment) {\n    const result = await this._doDownload(a, FilesystemDirectory.Documents, true);\n    if (result == null) {\n      return ;\n    }\n    this._intent.startActivity({\n      action: this._intent.ACTION_VIEW, \n      url: decodeURIComponent(result.uri), \n      type: a.MimeType,\n    });\n  }\n\n  protected _removeAttachment(a: Attachment) {\n    const idx = this.attachments.findIndex(_a => _a.Actions.view == a.Actions.view);\n    if (idx != -1) {\n      this.attachments.splice(idx, 1);\n    }\n  }\n\n  protected async _uploadToCloud(att: Attachment) {\n    if (!this.message) {\n      return ;\n    }\n\n    if (!att.Actions.download) {\n      throw 'NO_DOWNLOAD_ACTION';\n    }\n    const server = await this._settings.getServer();\n    const folder = await this._nc.pickFolder(this._platform.is('android'));\n    if (!folder) {\n      return ;\n    }\n    const a = this._mails.accountById(this.message.AccountID);\n    const content = await this._api.getAttachmentContent(a, `${server.url}/${att.Actions.download}`);\n    const path = `${folder}/${att.FileName}`;\n    const uPath = await this._nc.upload(path, content);\n    this.alert('File uploaded to the cloud', uPath);\n  }\n}\n","import { BaseClass } from '../base';\nimport {Component, Input} from '@angular/core';\nimport {Contact} from '../models';\n\n@Component({\n  selector: 'al-avatar',\n  templateUrl: '../../html/avatar.html',\n  styleUrls: ['../../assets/scss/avatar.scss'],\n})\nexport class Avatar extends BaseClass {\n  @Input() contact: Contact;\n}\n","import {Component, ElementRef, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport {AutoComplete} from 'primeng/autocomplete';\nimport {interval, Observable, Subscription} from 'rxjs';\nimport {debounceTime, finalize, map, take, takeWhile, tap} from 'rxjs/operators';\nimport {BaseComponent} from '../base';\nimport {NgCycle, NgInject} from '../decorators';\nimport {Account, COMBINED_ACCOUNT_ID, ComposeNotifyType, MessageComposeType, Contact, ContactConvertor, DisplayContact, MessageBody, MessageCompose, MessageComposeConvertor, MessageSaveConvertor, ComposeType, ModelFactory, to, UploadResult, FileResult} from '../models';\nimport {Api} from '../services/api';\nimport {Contacts} from '../services/contacts';\nimport {FileService} from '../services/file';\nimport {Mails} from '../services/mails';\nimport {Settings} from '../services/settings';\nimport {Utils} from '../services/utils';\nimport {Editor} from './editor';\nimport {Nextcloud} from '../nextcloud/nextcloud';\nimport {Platform} from '@ionic/angular';\n\n/**\n * * button for editing drafts.\n */\n\ntype ACContact = Contact & {\n  display: string;\n}\n\n@Component({\n  selector: 'al-compose',\n  templateUrl: '../../html/compose.html',\n  styleUrls: ['../../assets/scss/compose.scss']\n})\nexport class Compose extends BaseComponent {\n  @Input() public message: MessageBody;\n  @Input() public to: Array<Contact>;\n  @Input() public composeType: ComposeType;\n\n  @Output() notify: EventEmitter<ComposeNotifyType> = new EventEmitter<ComposeNotifyType>();\n\n  @NgInject(Contacts) private _contactsService: Contacts;\n  @NgInject(Settings) private _settings: Settings;\n  @NgInject(Api) private _api: Api;\n  @NgInject(Mails) private _mails: Mails;\n  @NgInject(FileService) private _fileService: FileService;\n  @NgInject(Nextcloud) private _nc: Nextcloud;\n  @NgInject(Platform) private _platform: Platform;\n\n  @ViewChild('file', {static: false}) private _file: ElementRef<any>;\n  @ViewChild('editor', {static: false}) private _editor: Editor;\n\n  protected _showCc: boolean = false;\n  protected _contacts: Array<ACContact> = [];\n  private _convertor: ContactConvertor = new ContactConvertor();\n  private _account: Account;\n  protected _type: MessageComposeType;\n  protected _model: MessageCompose;\n  protected _combinedView: boolean = false;\n  private _saveSubscription: Subscription;\n  protected _accounts$: Observable<Array<Account>>;\n  protected _attaching: boolean = false;\n  protected _saving: boolean = false;\n  protected _cloudAttaching: boolean = false;\n  protected _incloud: boolean = false;\n\n  @NgCycle('init')\n  protected _initMe() {\n    this._accounts$ = this._mails.accounts$.pipe(\n      tap(accounts => !this._account && setTimeout(() => this._account = accounts[0])),\n      map(accounts => accounts.filter(a => a.AccountID != COMBINED_ACCOUNT_ID)),\n    );\n    this.connect(this._mails.currentAccount$.pipe(take(1)), async account => {\n      this._account = this.message ? this._mails.accountById(this.message.AccountID) : account;\n      if (this._account.AccountID == COMBINED_ACCOUNT_ID) {\n        this._combinedView = true;\n        this._account = undefined;\n      }\n      await new Promise(resolve => setTimeout(resolve));\n      this._setModel();\n      this._start();\n      this._waitEditorReady();\n      this._type = await this._settings.getMessageType();\n    });\n    this._incloud = this._nc.isNextcloud;\n  }\n\n  private _setModel() {\n    const conv = new MessageComposeConvertor();\n    conv.composeType = this.composeType;\n    conv.currentEmail = this._account ? this._account.Email : '';\n    this._model = conv.convert(this.message);\n    if (this._model.Cc && ['reply', 'forward'].indexOf(this.composeType) != -1) {\n      this._model.Bcc = [];\n      this._model.Cc = [];\n    }\n    if (Array.isArray(this.to) && this.to.length > 0) {\n      const conv = new ContactConvertor();\n      this._model.To = (this.to as Array<DisplayContact>).map(c => conv.convert(c));\n    }\n  }\n\n  private async _start() {\n    if (!this._account) {\n      return ;\n    }\n\n    this._setModel();\n    if (this._model.Cc.length > 0) {\n      this._showCc = true;\n    }\n    if (Utils.isDraftReply(this._model)) {\n      const orig = await this._api.getOriginalDraftReply(this._account, this._model);\n      this._model.InReplyTo = orig.MessageId;\n    }\n    await this._api.reloadAttachments(this._account, this._model.Attachments);\n    this._contacts = this._contactsService.contacts.map(c => this._convertor.convert(c));\n  }\n\n  private _waitEditorReady() {\n    interval(100).pipe(\n      takeWhile(() => !this._editor),\n      finalize(() => {\n        if (['reply', 'reply-all'].indexOf(this.composeType) != -1) {\n          this._editor.focus();\n        }\n        this._viewInit();\n      }),\n    ).toPromise();\n  }\n\n  protected _viewInit() {\n    this._saveSubscription = this._editor.modelChange.pipe(\n      debounceTime(2000),\n    ).subscribe(() => this._save());\n  }\n\n  @NgCycle('destroy')\n  protected _destroy() {\n    if (this._saveSubscription) {\n      this._saveSubscription.unsubscribe();\n    }\n  }\n\n  protected _filterContact(ev: {query: string}) {\n    this._contacts = this._contactsService.contacts\n      .filter(c => c.Email.toLowerCase().indexOf(ev.query.toLowerCase()) != -1)\n      .map(c => this._convertor.convert(c));\n\n    this._contacts.push(ModelFactory.instance(<DisplayContact>{Email: ev.query, display: ev.query}, DisplayContact) as DisplayContact);\n  }\n\n  protected async _send() {\n    if (this._model.To.length == 0) {\n      this.alert('No recepient', 'Please add a recipient to receive the e-mail');\n      return ;\n    }\n    if (!this._mails.validate(this._model.To.concat(this._model.Cc).concat(this._model.Bcc))) {\n      this.alert('Invalid address', 'Please check your addressed');\n      return ;\n    }\n    this._destroy();\n    this.showLoading();\n    const conv = new MessageSaveConvertor();\n    const model = conv.convert(this._model);\n    // const [err, result] = await to(this._api.sendMessage(this._account, model));\n    const result = this._api.sendMessage(this._account, model);\n    this.hideLoading();\n    if (!result) {\n      this._save();\n      this.alert('Error sending e-mail', '', 'error');\n      return ;\n    }\n    this.notify.emit('sent');\n  }\n\n  protected async _save() {\n    this._saving = true;\n    this._destroy();\n    const conv = new MessageSaveConvertor();\n    const model = conv.convert(this._model);\n    const result = await this._api.saveMessage(this._account, model);\n    this._model.DraftUid = result.NewUid;\n    this._viewInit();\n    this._saving = false;\n  }\n\n  private async _doAttach(promises: Array<Promise<UploadResult>>) {\n    const attachments = await Promise.all(promises);\n    this._model.Attachments.push.apply(this._model.Attachments, attachments.map(a => a.Attachment));\n  }\n\n  protected async _attach() {\n    const files = await this._fileService.get(this._file.nativeElement);\n    this._attaching = true;\n    const p: Array<Promise<UploadResult>> = [];\n    for (let i = 0; i < files.length; i++) {\n      p.push(this._api.uploadAttachment(this._account, files[i]));\n    }\n    await this._doAttach(p);\n    this._attaching = false;\n  }\n\n  protected async _cloudAttach() {\n    const files = await this._nc.pickFile(this._platform.is('android'));\n    this._cloudAttaching = true;\n    let p = [];\n    files.forEach(file => {\n      p.push(this._nc.download(file));\n    });\n    const contents = await Promise.all(p);\n\n    p = [];\n\n    files.forEach((file, idx) => {\n      const f = new FileResult();\n      const F = window['OriginalFileApi'] ? window['OriginalFileApi'] : File;\n      f.content = new F([contents[idx]], file.replace(/^.*\\/([^\\/]+)$/, '$1'));\n      console.log('content is', f);\n      p.push(this._api.uploadData(this._account, f));\n    });\n    await this._doAttach(p);\n    this._cloudAttaching = false;\n  }\n\n  protected async _blur(a: AutoComplete) {\n    if (Array.isArray(a.suggestions) && a.suggestions.length > 0) {\n      await new Promise(resolve => setTimeout(resolve));\n      if (!a.focus) {\n        a.selectItem(a.suggestions[0], false);\n      }\n    }\n    a.suggestions = [];\n  }\n\n  protected _focus(a: AutoComplete) {\n    a.suggestions = [];\n  }\n}\n","import { BaseComponent } from '../base';\nimport {Component, Input, Output, EventEmitter, ViewChild, ElementRef} from '@angular/core';\nimport {NgCycle} from '../decorators';\n\n@Component({\n  selector: 'al-editor',\n  templateUrl: '../../html/editor.html',\n  styleUrls: ['../../assets/scss/editor.scss']\n})\nexport class Editor extends BaseComponent {\n  @Input() public model: string;\n  @Output() public modelChange: EventEmitter<string> = new EventEmitter<string>();\n\n  protected _html: string;\n  @ViewChild('editor') private _editor: ElementRef<any>;\n\n  @NgCycle('init')\n  protected _initMe() {\n    this._html = this.model;\n  }\n\n  protected _keyup() {\n    this.model = this._editor.nativeElement.innerHTML;\n    this.modelChange.emit(this.model);\n  }\n\n  public focus() {\n    this._editor.nativeElement.focus();\n  }\n}\n","import { Component, Input, ViewEncapsulation } from '@angular/core';\nimport { take } from 'rxjs/operators';\nimport { BaseComponent } from '../base';\nimport { NgInject } from '../decorators';\nimport { Account, Folder, FolderType } from '../models';\nimport { Api } from '../services/api';\nimport { Mails } from '../services/mails';\n\n@Component({\n  selector: 'al-folders-list',\n  templateUrl: '../../html/folders-list.html',\n  styleUrls: ['../../assets/scss/folders-list.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class FoldersList extends BaseComponent {\n  @NgInject(Mails) private _mails: Mails;\n  @NgInject(Api) private _api: Api;\n  @Input() public set account(a: Account) {\n    this._loading = true;\n    if (!a) {\n      return ;\n    }\n    this._account = a;\n    this._account.Folders$.pipe(take(1)).subscribe(() => this._loading = false);\n    this._init();\n  }\n\n  protected async _init() {\n    const inbox = await this._api.folderByType(FolderType.Inbox, this._account)\n    this._mails.folderChanged$.emit(inbox);\n  }\n\n  protected _account: Account;\n  protected _loading: boolean = true;\n  protected _selected: Folder = null;\n\n  protected _select(folder: Folder) {\n    if (!folder) {\n      return ;\n    }\n\n    this._selected = folder;\n    console.log('folder is', folder);\n    this._mails.folderChanged$.emit(folder);\n  }\n}\n","import {Component, Input, ChangeDetectorRef} from '@angular/core';\nimport {BlockableUI} from 'primeng/api/public_api';\nimport {NgCycle} from '../decorators';\n\n@Component({\n  selector: 'al-loading',\n  templateUrl: '../../html/loading.html'\n})\nexport class Loading {\n  @Input() public target: BlockableUI;\n\n  constructor(private _cd: ChangeDetectorRef) {}\n\n  @NgCycle('init')\n  public initMe() {\n    if (!this.target) {\n      this.target = <any>document.body;\n    }\n    setTimeout(() => this._cd.detectChanges());\n  }\n}\n","import {Component, ElementRef, EventEmitter, Input, Output, ViewChild, ViewEncapsulation, NgZone} from '@angular/core';\nimport {FilesystemDirectory} from '@capacitor/core';\nimport {from} from 'rxjs';\nimport {switchMap, take, tap} from 'rxjs/operators';\nimport {BaseComponent} from '../base';\nimport {NgCycle, NgInject} from '../decorators';\nimport {Account, Attachment, ComposeType, Contact, FolderType, Message as Model, MessageBody, MessageNotify, ModelFactory, ServerSetting} from '../models';\nimport {Api} from '../services/api';\nimport {Mails} from '../services/mails';\nimport {Settings} from '../services/settings';\nimport {Utils} from '../services/utils';\nimport {MenuItem} from 'primeng/api/public_api';\n\n@Component({\n  selector: 'al-message',\n  templateUrl: '../../html/message.html',\n  styleUrls: ['../../assets/scss/message.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Message extends BaseComponent {\n  @NgInject(Api) private _api: Api;\n  @NgInject(Mails) private _mails: Mails;\n  @NgInject(Settings) private _settings: Settings;\n  @NgInject(NgZone) private _zone: NgZone;\n  @ViewChild('messageBody', {static: false}) private _body: ElementRef<any>;\n  @Input() public set message(m: Model) {\n    this._message = m as MessageBody;\n    this._originalMessage = m;\n    this._html = '';\n    if (!m) {\n      return ;\n    }\n    if (this._body) {\n      this._body.nativeElement.innerHTML = '';\n    }\n    this._loading = true;\n    this._detailsHidden = true;\n    this._quotedText = false;\n    this._hasImages = false;\n    // Keep the real account id (in case of combined view)\n    this._accountId = m.AccountID;\n    this.connect(this._mails.folderChanged$, f => this._isDraft = f.Type == FolderType.Drafts);\n    this._mails.currentAccount$.pipe(\n      take(1),\n      tap(account => this._account = account),\n      switchMap(() => from(this._api.getMessageBody(this._account, m))),\n      take(1),\n    ).subscribe(body => {\n      this._message = body;\n      this._appendBody();\n      if (!m.IsSeen) {\n        this._api.markRead(this._account, m.Folder, [m], true);\n      }\n    });\n  }\n\n  @Output() public notify: EventEmitter<MessageNotify> = new EventEmitter<MessageNotify>();\n\n  protected _originalMessage: Model;\n  protected _quotedText: boolean = false;\n  protected _isDraft: boolean = false;\n  protected _detailsHidden: boolean = true;\n  private _account: Account;\n  protected _hasImages: boolean = false;\n  protected _html: string;\n  protected _server: ServerSetting;\n  private _accountId: string;\n  protected _maxWidth: string = null;\n  private _width: number;\n\n  protected _actions: Array<MenuItem> = [\n    {label: 'Reply all', icon: 'fa fa-reply-all', command: () => this._action('reply-all')},\n    {label: 'Forward', icon: 'fa fa-share', command: () => this._action('forward')},\n    {label: 'Download', icon: 'fa fa-download', command: () => this._download()},\n  ];\n\n  private _setMaxWidth() {\n    this._width = window.innerWidth - 22;\n    this._maxWidth = `max-width: ${this._width}px`;\n  }\n\n  private _transform() {\n    if (!this._body) {\n      return ;\n    }\n    const div: HTMLElement = this._body.nativeElement.querySelector('*');\n    div.setAttribute('style', '');\n    setTimeout(() => div.setAttribute('style', Utils.transformMessageBody(this._width, div)));\n  }\n\n  @NgCycle('init')\n  protected async _initMe() {\n    console.log('init message');\n    this._server = await this._settings.getServer();\n    console.log('server is', this._server);\n    this._setMaxWidth();\n    window.onresize = () => this._zone.run(() => {\n      this._setMaxWidth();\n      this._transform();\n    });\n  }\n\n  private async _appendBody() {\n    const el: HTMLElement = this._body.nativeElement;\n    this._html = this._message.Html || this._message.Plain;\n    setTimeout(() => {\n      this._quotedText = el.querySelector('blockquote') != null;\n      this._hasImages = el.querySelectorAll(\"*[data-x-src]\").length > 0;\n      this._loading = false;\n\n      Array.from(el.querySelectorAll('a'))\n        .filter(el => el.href.match(\"^mailto:\"))\n        .forEach(a => {\n          const email = a.href.replace(/^mailto:(.*)$/g, '$1');\n          a.href = \"javascript: \";\n          a.target = '_self';\n          a.onclick = () => this._emailClick(ModelFactory.instance({Email: email}, Contact) as Contact);\n        });\n\n      this._transform();\n\n      const att = this._message.Attachments;\n\n      if (!att || !Array.isArray(att.Collection)) {\n        return ;\n      }\n\n      const a = this._mails.accountById(this._accountId);\n      const user = Utils.userByEmail(this._server.users, a.Email);\n      att.Collection\n        .filter(a => a.CID)\n        .map(a => <{a: Attachment, img: HTMLImageElement}>{a: a, img: el.querySelector(`*[data-x-src-cid=\"${a.CID}\"]`)})\n        .filter(obj => !!obj.a && !!obj.img)\n        .forEach(obj => {\n          obj.img.src = `${this._server.url}/${obj.a.Actions.view}`;\n          obj.img.onerror = () => {\n            fetch(\n              `${this._server.url}/${obj.a.Actions.view}`,\n              {headers: {Authorization: `Bearer ${user.token}`}}\n            )\n              .then(img => img.blob())\n              .then(d => obj.img.src = window.URL.createObjectURL(d));\n          }\n        });\n\n      this.hideLoading();\n    });\n  }\n\n  protected _message: MessageBody;\n  protected _loading: boolean = true;\n\n  protected _showHiddenContent() {\n    this._quotedText = false;\n  }\n\n  protected _emailClick(c: Contact) {\n    const ev = ModelFactory.instance(<MessageNotify>{contact: c, type: 'new'}, MessageNotify) as MessageNotify;\n    this.notify.emit(ev);\n  }\n\n  protected _action(type: ComposeType) {\n    const ev = ModelFactory.instance(<MessageNotify>{message: this._message, type: type}, MessageNotify) as MessageNotify;\n    this.notify.emit(ev);\n  }\n\n  protected async _download() {\n    if (!this._message) {\n      return ;\n    }\n    const result = await this._api.downloadUrl(\n      this._account, `${this._server.url}/${this._message.DownloadAsEmlUrl}`,\n      `${this._message.Uid}.eml`, FilesystemDirectory.Documents, this._message\n    );\n    if (result == null) {\n      return ;\n    }\n\n    this.alert('Message downloaded', result.uri);\n  }\n\n  protected async _star() {\n    if (!this._message || !this._account) {\n      return ;\n    }\n\n    this._message.IsFlagged = !this._message.IsFlagged;\n    await this._api.flag(this._account, this._message.Folder, [this._message], this._message.IsFlagged);\n    this._originalMessage.IsFlagged = this._message.IsFlagged;\n  }\n\n  protected _showImages() {\n    (this._body.nativeElement as HTMLElement).querySelectorAll(\"*[data-x-src]\").forEach(n => n.setAttribute('src', n.getAttribute('data-x-src')))\n    this._transform();\n    this._hasImages = false;\n  }\n}\n","import {Component, EventEmitter, Input, Output, SimpleChanges, ViewChild, ViewEncapsulation, ElementRef} from '@angular/core';\nimport {LazyLoadEvent} from 'primeng/api/public_api';\nimport {Table} from 'primeng/table/table';\nimport {merge, Observable} from 'rxjs';\nimport {skip, tap, filter} from 'rxjs/operators';\nimport {BaseComponent} from '../base';\nimport {NgCycle, NgInject} from '../decorators';\nimport {Account, COMBINED_ACCOUNT_ID, Folder, FolderType, Message, SearchConvertor, SearchModel, to} from '../models';\nimport {Api} from '../services/api';\nimport {Background} from '../services/background';\nimport {Mails} from '../services/mails';\nimport {Settings} from '../services/settings';\nimport {Utils} from '../services/utils';\nimport {Store} from '../services/store';\n\nconst DEFAULT = 'Inbox';\n\n@Component({\n  selector: 'al-messages-list',\n  templateUrl: '../../html/messages-list.html',\n  styleUrls: ['../../assets/scss/messages-list.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class MessagesList extends BaseComponent {\n  @Input() public account: Account;\n  @Input() public folder: string;\n  @Input() public fixSearchForm: boolean = false;\n\n  @Output() public notify: EventEmitter<Message> = new EventEmitter<Message>();\n  @Output() public selectionChanged: EventEmitter<Array<Message>> = new EventEmitter<Array<Message>>();\n\n  public get rows(): Array<Message> {\n    return this._messages;\n  }\n\n  @NgInject(Settings) private _settings: Settings;\n  @NgInject(Store) private _store: Store;\n  @NgInject(Mails) private _mails: Mails;\n  @NgInject(Api) private _api: Api;\n  @NgInject(Background) private _background: Background;\n  @ViewChild('table', {static: true}) private _table: Table;\n  @ViewChild('all', {static: false}) private _all: ElementRef<any>;\n\n  protected _loading: boolean = true;\n  protected _pageSize: number = 0;\n  protected _totalRecords: number = 0;\n  protected _search: SearchModel = new SearchModel();\n  protected _selected: Message;\n  protected _messages: Array<Message> = [];\n  protected _combinedMessages: Array<Message> = [];\n  protected _showSearch: boolean = false;\n  protected _combinedView: boolean = false;\n  protected _style: string = null;\n  private _oldestMessage: Message = null;\n  private _folder: Folder;\n  private _subscriptions: boolean = false;\n  protected _account$: Observable<Account>\n\n  constructor() {\n    super();\n  }\n\n  @NgCycle('init')\n  protected async _initMe(folder?: string) {\n    this.connect(this._api.ready$.pipe(skip(1)), () => {\n      this._subscriptions = false;\n      this.softRefresh();\n    });\n    this._pageSize = await this._settings.getPageSize();\n    if (!this.account) {\n      return ;\n    }\n    this._combinedView = this.account.AccountID == COMBINED_ACCOUNT_ID;\n    const d = this.account.AccountID == COMBINED_ACCOUNT_ID ? FolderType.Inbox : DEFAULT;\n    this._folder = await this._mails.folderById$(this.account, folder || d.toString()).toPromise();\n    this._messages = [];\n    this._reset();\n    this._initSubscriptions();\n  }\n\n  @NgCycle('change')\n  protected _change(changes: SimpleChanges) {\n    if (!this.account) {\n      this._messages = [];\n      return ;\n    }\n\n    if (changes['folder'] && changes['folder'].previousValue && Utils.foldersDiff(changes['folder'].previousValue, changes['folder'].currentValue)) {\n      this._initMe(this.folder);\n      return ;\n    }\n\n    if (changes['account']) {\n      this._initMe();\n    }\n  }\n\n  private _messagesRemoved(messages: Array<Message>) {\n    if (!messages || !Array.isArray(messages)) {\n      return ;\n    }\n\n    const map = messages.map(m => m.Uid);\n\n    this._combinedMessages = this._combinedMessages.filter(m => map.indexOf(m.Uid) == -1);\n    this._table.selection = this._table.selection.filter((m: Message) => map.indexOf(m.Uid) == -1);\n    this.selectionChanged.emit(this._table.selection);\n  }\n\n  private async _initSubscriptions() {\n    if (this._subscriptions) {\n      return ;\n    }\n    this._subscriptions = true;\n    const f = await this._store.getFolderSearch();\n    this._account$ = this._mails.currentAccount$.pipe(\n      tap(account => {\n        const result = Utils.folderById(account.FoldersOrder, f);\n        this._search.folder = result ? result.Id : null;\n      }),\n      filter(account => !!account),\n    );\n    const msgChanged = merge(this._api.messagesDeleted$, this._api.messagesMoved$, this._mails.refresh$);\n    this.connect(\n      msgChanged.pipe(\n        tap(messages => this._messagesRemoved(messages as Array<Message>)),\n      ),\n      () => this._loadMessages(<LazyLoadEvent>{first: this._table.first})\n    );\n    this._background.configure(this._checkMailsAuto.bind(this));\n    this._search.folder = await this._store.getFolderSearch();\n    console.log('search is', this._search);\n  }\n\n  private _waitNewMails(): boolean {\n    return this._oldestMessage && this._folder && this._folder.Type == FolderType.Inbox && Utils.emptySearch(this._search);\n  }\n\n  private async _checkMailsAuto() {\n    console.log('checking mails automatically', new Date());\n    if (!this._waitNewMails()) {\n      console.log('not waiting for new messages');\n      return ;\n    }\n    const [err, msgs] = await to(this._api.getMessages(this.account, this._folder.Id, 0, 1));\n    if (err) {\n      throw err;\n    }\n\n    console.log('fetched', msgs.length, new Date());\n    if (!this._waitNewMails() || msgs.length == 0) {\n      return ;\n    }\n\n    if (msgs.filter(m => m.TimeStampInUTC > this._oldestMessage.TimeStampInUTC).length > 0) {\n      this._fetchMailsAuto();\n    }\n  }\n\n  private async _fetchMailsAuto() {\n    if (!this._folder) {\n      return ;\n    }\n    console.log('fetching mails automatically', new Date());\n    const initialType = this._folder.Type;\n    this._messages = await this._fetch(this._table.first, true);\n    console.log('messages fetched', this._messages.length);\n    const selection = ((this._table.selection || []) as Array<Message>).map(s => s.Uid);\n    if (this._folder.Type == FolderType.Inbox && initialType == FolderType.Inbox) {\n      this._mails.showNotifications(this._oldestMessage, this._messages);\n    }\n    this._setOldestMessage();\n    this._table.selection = this._messages.filter(m => selection.indexOf(m.Uid) != -1);\n    this.selectionChanged.emit(this._table.selection);\n  }\n\n  private _setOldestMessage() {\n    if (this._table.first != 0 || !this._folder && this._folder.Type != FolderType.Inbox || !Array.isArray(this._messages) || this._messages.length == 0) {\n      return ;\n    }\n\n    this._oldestMessage = this._messages[0];\n  }\n\n  private async _fetch(first: number, auto: boolean = false): Promise<Array<Message>>{\n    const [txt, searchFolder] = Utils.searchFolder(this._search.simple);\n    const id = searchFolder || this._folder.Id;\n    let [err, result] = await to(this._api.getMessages(this.account, id, first, this._pageSize, txt, '', auto));\n    if (err) {\n      this.alert('There was an error fetching the messages', err.message, 'error');\n      return [];\n    }\n    if (typeof(this._search.folder) != 'undefined' && this._search.folder != null) {\n      this._store.setFolderSearch(this._search.folder);\n    }\n    if (this._folder.Id != id && !searchFolder) {\n      return this._messages.length > 0 && this._mails.messageInComposedFolder(this._messages[0], this._folder) ? this._messages : [];\n    }\n    if (this.account.AccountID != COMBINED_ACCOUNT_ID) {\n      return result;\n    }\n\n    if (first == 0) {\n      this._combinedMessages = [];\n    }\n\n    const uids = result.map(x => x.Uid);\n    this._combinedMessages = this._combinedMessages.filter(m => uids.indexOf(m.Uid) == -1).concat(result);\n    this._combinedMessages.sort((a, b) => b.TimeStampInUTC - a.TimeStampInUTC);\n    return this._combinedMessages.slice(first, first + this._pageSize);\n  }\n\n  private _reset() {\n    this._combinedMessages = [];\n    this._table.reset();\n    this.selectionChanged.emit([]);\n    this._table.selection = [];\n  }\n\n  protected async _loadMessages(ev: LazyLoadEvent) {\n    this._loading = true;\n    if (this.account == null || this._folder == null) {\n      return ;\n    }\n    this._messages = await this._fetch(ev.first);\n    this._setOldestMessage();\n    this._totalRecords = this._api.lastSearchResults;\n    this._loading = false;\n    this._mails.refreshed$.emit();\n  }\n\n  protected _keyup(ev: KeyboardEvent) {\n    if (ev.keyCode != 13) {\n      return ;\n    }\n    this._reset();\n  }\n\n  protected _advSearch() {\n    this._showSearch = false;\n    const conv = new SearchConvertor();\n    this._search.simple = conv.convert(this._search);\n    this._reset();\n  }\n\n  protected async _clearSearch() {\n    this._search = new SearchModel();\n    this._reset();\n    this._search.folder = await this._store.getFolderSearch();\n  }\n\n  protected _select(row: Message) {\n    this.notify.emit(row);\n    this._selected = row;\n  }\n\n  protected _selectionChanged() {\n    this.selectionChanged.emit(this._table.selection);\n  }\n\n  public unselect() {\n    this._table.selection = [];\n    this._table.clearState();\n    this._selected = null;\n    this._selectionChanged();\n  }\n\n  protected _clickAdvSearch() {\n    this._showSearch = true;\n    setTimeout(() => this._all.nativeElement.focus(), 151);\n  }\n\n  protected _keyup2(ev: KeyboardEvent) {\n    if (ev.keyCode != 13) {\n      return ;\n    }\n    this._advSearch();\n  }\n}\n","import { Type } from '@angular/core';\n\nexport interface Convertor<T> {\n  convert(src: any): T;\n  convertFrom?(src: T): any;\n}\n\nexport type CycleType = 'destroy' | 'afterViewInit' | 'change' | 'init';\n\nexport type TestCase = {method: string, name: string};\n\nexport const TEST_CASES: Map<Function, Array<TestCase>> = new Map<Function, Array<TestCase>>();\nexport const TEST_CASES_ONLY: Map<Function, Array<TestCase>> = new Map<Function, Array<TestCase>>();\n\nexport const METADATA: Map<Function, Map<string, Array<any>>> = new Map<Function, Map<string, Array<any>>>();\n\nexport type DeserializableType<T> = Type<T> | 'date' | Convertor<T>;\n\nfunction __decorate(protoName: string, arg: Type<any> | string | CycleType | DeserializableType<any>) {\n  return function(ctor: any, property: string) {\n    if (!METADATA.get(ctor.constructor)) {\n      METADATA.set(ctor.constructor, new Map<string, Array<string>>());\n    }\n    const m = METADATA.get(ctor.constructor);\n\n    if (typeof(m.get(protoName)) == 'undefined') {\n      m.set(protoName, []);\n    }\n\n    m.get(protoName).push({prop: property, arg: arg});\n  }\n}\n\nexport function NgInject(type: Type<any> | string) {\n  return __decorate('__injectors__', type);\n}\n\nexport function NgCycle(cycle: CycleType) {\n  return __decorate('__cycles__', cycle);\n}\n\nexport function deserialize<T extends Object>(type: DeserializableType<T>) {\n  return __decorate('__deserializers__', type);\n}\n\nexport function deserializers(ctor: Function): Array<any> {\n  if (!METADATA.get(ctor)) {\n    return [];\n  }\n\n  return METADATA.get(ctor).get('__deserializers__');\n}\n\nfunction add_to_testcases(which: Map<Function, Array<TestCase>>, ctor: any, property: string, name?: string) {\n  if (typeof(which.get(ctor.constructor)) == 'undefined') {\n    which.set(ctor.constructor, []);\n  }\n  which.get(ctor.constructor).push({name: name, method: property});\n}\n\nexport function NgTest(name?: string, only: boolean = false) {\n  return function(ctor: any, property: string) {\n    add_to_testcases(only ? TEST_CASES_ONLY : TEST_CASES, ctor, property, name);\n  }\n}\n","import {Type} from '@angular/core';\nimport * as dateFormat from 'dateformat';\nimport {ReplaySubject} from 'rxjs';\nimport {Convertor, deserialize, deserializers} from './decorators';\n\nexport const COMBINED_ACCOUNT_ID = \"-1\";\n\nexport enum LogLevel {DEBUG = 0, INFO = 1, ERROR = 2};\nexport enum FolderType {Inbox = 1, Sent = 2, Drafts = 3, Spam = 4, Trash = 5, Other = 10};\n\nexport type Primitive = boolean | string | number;\nexport type ObjectType<T> = T | Primitive | Array<T | Primitive>;\n\nexport type ThemeType = 'dark' | 'light';\n\nexport interface Collection<T> {\n  Count: number;\n  Collection: Array<T>;\n}\n\nexport class ModelFactory {\n  private static _primitive(obj: Primitive): Primitive {\n    if (typeof(obj) == 'boolean') {\n      return obj as boolean;\n    }\n\n    if (typeof(obj) == 'string') {\n      return obj as string;\n    }\n\n    if (typeof(obj) == 'number') {\n      return obj as number;\n    }\n  }\n\n  private static _create<T>(json: Object, type: Type<T>): T {\n    const result = new type();\n    Object.keys(json).map(k => k.replace(/^@/g, '')).forEach(k => {\n      const d = deserializers(type).find(d => d.prop == k);\n      const value = typeof(json['@' + k]) == 'undefined' ? json[k] : json['@' + k];\n      if (!d || typeof(value) == undefined || value == null) {\n        result[k] = value;\n        return ;\n      }\n      if (d.arg == 'date') {\n        result[k] = new Date(json[k]);\n        return ;\n      }\n      if (typeof(d.arg) == 'function' && !!d.arg.prototype['convert']) {\n        const convertor: Convertor<any> = new d.arg();\n        result[k] = convertor.convert(value);\n        return ;\n      }\n      result[k] = ModelFactory.instance(value, d.arg);\n    });\n    return result;\n  }\n  public static instance<T>(json: ObjectType<Object>, type?: Type<T>): ObjectType<T> {\n    if (typeof(json) == undefined || json == null) {\n      return null;\n    }\n\n    if (typeof(type) == 'undefined') {\n      if (typeof(json) == 'object' && !Array.isArray(json)) {\n        throw Error('UNKNOWN_TYPE');\n      }\n\n      if (Array.isArray(json)) {\n        return json.map(o => ModelFactory._primitive(o as Primitive) as Primitive);\n      }\n\n      return ModelFactory._primitive(json) as Primitive;\n    }\n\n    if (Array.isArray(json)) {\n      return json.map(j => ModelFactory._create(j, type));\n    }\n    return ModelFactory._create(json, type);\n  }\n}\n\nexport async function to<T>(promise: Promise<T>): Promise<[Error, T]> {\n  try {\n    const data = await promise;\n    return [null, data];\n  }\n  catch (err) {\n    return [err, null];\n  }\n}\n\nexport class UserSetting {\n  email: string;\n  pass: string;\n  token?: string;\n}\n\nexport class ServerSetting {\n  url: string;\n  users: Array<UserSetting>;\n}\n\nexport class HttpResponse {\n  Module: string;\n  Method: string;\n  Result: Object;\n  ErrorCode?: number;\n  ErrorMessage?: string;\n}\n\nexport class Server {\n  EntityId: number;\n  UUID: string;\n  TenantId: number;\n  Name: string;\n  IncomingServer: string;\n  IncomingPort: number;\n  IncomingUseSsl: boolean;\n  OutgoingServer: string;\n  OutgoingPort: number;\n  OutgoingUseSsl: boolean;\n  SmtpAuthType: string;\n  OwnerType: string;\n  Domaina: string;\n  ServerId: number;\n}\n\nexport class Authentication {\n  AuthToken: string;\n}\n\nexport class Folder {\n  Id: string;\n  Name: string;\n  Count?: number;\n  Unread?: number;\n  @deserialize(Folder)\n  SubFolders?: Array<Folder>;\n  AccountID: string;\n  Type?: FolderType;\n}\n\nexport class Contact {\n  DisplayName?: string;\n  Email: string;\n}\n\nexport class Contacts {\n  Count: number;\n  @deserialize(Contact)\n  Collection: Array<Contact>;\n}\n\nexport class Message {\n  Folder: string;\n  AccountID: string;\n  Uid: string;\n  Subject: string;\n  MessageId: string;\n  Size: number;\n  TextSize: number;\n  InternalTimeStampInUTC: number;\n  ReceivedOrDateTimeStampInUTC: number;\n  TimeStampInUTC: number;\n  @deserialize(Contacts)\n  From: Contacts;\n  @deserialize(Contacts)\n  To: Contacts;\n  @deserialize(Contacts)\n  Cc: Contacts;\n  @deserialize(Contacts)\n  Bcc: Contacts;\n  @deserialize(Contacts)\n  ReplyTo: Contacts;\n  IsSeen: boolean;\n  IsFlagged: boolean;\n  IsAnswered: boolean;\n  IsForwarded: boolean;\n  HasAttachments: boolean;\n  HasVcardAttachment: boolean;\n  HasIcalAttachment: boolean;\n  Importance: number;\n  // TODO: check an example and see how this goes\n  DraftInfo: Array<any>;\n  Sensitivity: number;\n  TrimmedTextSize: number;\n  DownloadAsEmlUrl: string;\n  Hash: string;\n  Threads: Array<string>;\n}\n\nexport class Messages {\n  Count: number;\n  @deserialize(Message)\n  Collection: Array<Message>;\n  Uids: Array<string>;\n  UidNext: string;\n  FolderHash: string;\n  MessageCount: number;\n  MessageUnseenCount: number;\n  MessageResultCount: number;\n  FolderName: string;\n  Offset: number;\n  Limit: number;\n  Search: number;\n  Filters: string;\n  // TODO: check out the type\n  New: Array<any>;\n}\n\nexport class Action {\n  view: string;\n  download: string;\n}\n\nclass ActionConvertor implements Convertor<Object> {\n  public convert(src: Object): Action {\n    const result = new Action();\n    if (src['view']) {\n      result.view = src['view'].url;\n    }\n\n    if (src['download']) {\n      result.download = src['download'].url;\n    }\n\n    return result;\n  }\n}\n\nexport class SearchConvertor implements Convertor<string> {\n  private _add(result: string, key: string, value: string): string {\n    if (!value) {\n      return result;\n    }\n    return result + (result == '' ? '' : ' ') + `${key}:\"${value}\"`;\n  }\n\n  private _date(d: Date): string {\n    if (!d) {\n      return '';\n    }\n\n    return dateFormat(d, 'yyyy.mm.dd');\n  }\n  public convert(src: SearchModel): string {\n    let result = '';\n    result = this._add(result, 'from', src.from);\n    result = this._add(result, 'to', src.to);\n    result = this._add(result, 'subject', src.subject);\n    result = this._add(result, 'text', src.text);\n    if (src.attachments) {\n      result = this._add(result, 'has', 'attachments');\n    }\n    if (src.since || src.till) {\n      result = this._add(result, 'date', `${this._date(src.since)}/${this._date(src.till)}`)\n    }\n    if (!result && src.all) {\n      result = src.all;\n    }\n    result = this._add(result, 'folder', src.folder);\n    return result;\n  }\n}\n\nexport class FoldersConvertor implements Convertor<Array<Folder>> {\n  private _addNewFolder(x: string, possibleParents: Array<Folder>) {\n    const parts = x.split('/');\n    const name = parts[parts.length - 1];\n    const f = new Folder();\n    f.Id = x;\n    f.Count = 0;\n    f.Unread = 0;\n    f.Name = name;\n    f.SubFolders = [];\n\n    if (parts.length == 1) {\n      possibleParents.push(f);\n      return ;\n    }\n    const parentName = parts[parts.length - 2];\n    const parent = possibleParents.find(p => p.Name == parentName);\n    if (!parent) {\n      return ;\n    }\n\n    parent.SubFolders.push(f);\n  }\n  public convert(src: string): Array<Folder> {\n    if (!src) {\n      return [];\n    }\n\n    let arr: Array<string>\n    try {\n      console.log('parsing', src);\n      arr = JSON.parse(src);\n    }\n    catch {\n      arr = [];\n    }\n\n    arr.sort((a, b) => a.split('/').length - b.split('/').length);\n    const levels = arr[arr.length - 1].split('/').length;\n\n    const result: Array<Folder> = [];\n\n    const tree: Map<number, Array<Folder>> = new Map<number, Array<Folder>>();\n\n    for (let level = 1; level <= levels; level++) {\n      const items = arr.filter(x => x.split('/').length == level);\n      if (level == 1) {\n        items.forEach(i => this._addNewFolder(i, result));\n        tree.set(level, result);\n        continue;\n      }\n\n      items.forEach(i => this._addNewFolder(i, tree.get(level - 1)))\n      tree.set(level, tree.get(level - 1).map(x => x.SubFolders).reduce((acc, v) => acc.concat(v), []));\n    }\n\n    return result;\n  }\n}\n\nexport class Attachment {\n  FileName: string;\n  MimeType: string;\n  MimePartIndex: string;\n  EstimatedSize: number;\n  Size: number;\n  CID: string;\n  ContentLocation: string;\n  Content: string;\n  IsInline: boolean;\n  IsLinked: boolean;\n  TempName: string;\n  ThumbnailUrl: string;\n  Hash: string;\n  @deserialize(ActionConvertor)\n  Actions: {view?: string; download?: string};\n}\n\nexport class Attachments {\n  Count: number;\n  @deserialize(Attachment)\n  Collection: Array<Attachment>;\n}\n\nexport class MessageBody extends Message {\n  // TODO: For the moment, we can't deserialize the parent class.\n  // This should be fixed.\n  @deserialize(Contacts)\n  From: Contacts;\n  @deserialize(Contacts)\n  To: Contacts;\n  @deserialize(Contacts)\n  Cc: Contacts;\n  @deserialize(Contacts)\n  Bcc: Contacts;\n  @deserialize(Contacts)\n  ReplyTo: Contacts;\n  Headers: string;\n  InReplyTo: string;\n  References: string;\n  ReadingConfirmationAddressee: string;\n  Html: string;\n  Trimmed: boolean;\n  Plain: string;\n  PlainRaw: string;\n  Rtl: boolean;\n  Extend: Array<string>;\n  Safety: boolean;\n  HasExternals: boolean;\n  FoundedCIDs: Array<string>;\n  FoundedContentLocationUrls: Array<string>;\n  @deserialize(Attachments)\n  Attachments: Attachments;\n}\n\nexport class Account {\n  AccountID: string;\n  UUID: string;\n  UseToAuthorize: boolean;\n  Email: string;\n  FriendlyName: string;\n  @deserialize(Server)\n  Server: Server;\n  CanBeUsedToAuthorize: boolean;\n  UseThreading: boolean;\n  @deserialize(FoldersConvertor)\n  FoldersOrder: Array<Folder>;\n  Folders$: ReplaySubject<Array<Folder>> = new ReplaySubject<Array<Folder>>();\n  TypesSet: boolean = false;\n}\n\nexport class FoldersInfoResult {\n  Counts: {[key: string]: Array<string | number>};\n}\n\nexport class SearchModel {\n  simple: string;\n  all: string;\n  from: string;\n  to: string;\n  subject: string;\n  text: string;\n  since: Date;\n  till: Date;\n  attachments: boolean;\n  folder: string;\n}\n\nexport type ComposeNotifyType = 'sent' | 'cancel' | 'error';\nexport type ComposeType = 'new' | 'from-draft' | 'reply' | 'reply-all' | 'forward';\n\nexport class MessageNotify {\n  type: ComposeType;\n  contact?: Contact;\n  message?: Message;\n}\n\nexport class DisplayContact extends Contact {\n  display: string;\n}\n\nexport class MessageCompose {\n  To: Array<DisplayContact>;\n  Cc: Array<DisplayContact>;\n  Bcc: Array<DisplayContact>;\n  ReplyTo: Array<DisplayContact>;\n  InReplyTo: string;\n  References: string;\n  Body: string;\n  Subject: string;\n  Attachments: Array<Attachment>;\n  AccountID: string;\n  DraftUid: string;\n  DraftInfo: Array<string | number> = [];\n}\n\nexport class ContactConvertor implements Convertor<DisplayContact> {\n  public convert(src: Contact): DisplayContact {\n    const result = ModelFactory.instance(src, DisplayContact) as DisplayContact;\n    result.display = result.DisplayName || result.Email;\n\n    return result;\n  }\n}\n\nexport class ReplyToBodyConvertor implements Convertor<string> {\n  public convert(msg: MessageBody): string {\n    const d = new Date(msg.TimeStampInUTC * 1000);\n    const c = msg.From.Collection[0];\n    return `\n<br/>\n<br/>\nOn ${dateFormat(d, 'ddd, mmm dd \"at\" HH:MM')}, ${c.DisplayName || c.Email} wrote:\n<blockquote>${msg.Html || msg.Plain}</blockquote>\n`;\n  }\n}\n\nexport class ForwardBodyConvertor implements Convertor<string> {\n  private _collection(contacts: Collection<Contact>): string {\n    if (!contacts || !Array.isArray(contacts.Collection)) {\n      return '';\n    }\n    return contacts.Collection.map(c => c.DisplayName ? `${c.DisplayName} &lt;${c.Email}&gt;` : c.Email).join(', ');\n  }\n  public convert(msg: MessageBody): string {\n    const d = new Date(msg.TimeStampInUTC * 1000);\n    const cc = this._collection(msg.Cc);\n    return `\n<br/>\n---- Original message ----<br/>\nFrom: ${this._collection(msg.From)}<br/>\nTo: ${this._collection(msg.To)}<br/>\n${cc ? 'CC: ' + cc + '<br/>' : ''}\nSent: ${dateFormat(d, 'ddd, mmm dd, yyyy HH:MM')}<br/>\nSubject: ${msg.Subject}<br/>\n<br/>\n${msg.Html || msg.Plain}\n`;\n  }\n}\n\nexport class MessageComposeConvertor implements Convertor<MessageCompose> {\n  public composeType: ComposeType = 'new';\n  public currentEmail: string = null;\n  private _conv: ContactConvertor = new ContactConvertor();\n  private _convertCollection(c: Collection<Contact>): Array<DisplayContact> {\n    if (!c || !Array.isArray(c.Collection)) {\n      return [];\n    }\n\n    return c.Collection.map(c => this._conv.convert(c));\n  }\n  public convert(src: MessageBody): MessageCompose {\n    const result = new MessageCompose();\n    if (!src) {\n      result.Body = '';\n      result.Subject = '';\n      result.Attachments = [];\n      result.Bcc = [];\n      result.Cc = [];\n      result.To = [];\n      result.ReplyTo = [];\n      result.DraftInfo = [];\n    }\n    else {\n      result.Body = src.Html || src.Plain;\n      result.Subject = src.Subject;\n      result.Attachments = src.Attachments ? src.Attachments.Collection : [];\n      result.Bcc = this._convertCollection(src.Bcc);\n      result.AccountID = src.AccountID;\n      result.Cc = this._convertCollection(src.Cc);\n      result.To = this._convertCollection(src.To);\n      result.ReplyTo = this._convertCollection(src.ReplyTo);\n      result.DraftInfo = src.DraftInfo;\n      if (this.composeType == 'from-draft') {\n        result.DraftUid = src.Uid;\n      }\n      if (['reply', 'reply-all'].indexOf(this.composeType) != -1) {\n        result.To = this._convertCollection(src.From)\n        if (this.composeType == 'reply-all') {\n          result.To = result.To\n            .concat(this._convertCollection(src.To).filter(c => c.Email != this.currentEmail));\n          result.Cc = this._convertCollection(src.Cc).filter(c => c.Email != this.currentEmail);\n        }\n        const conv = new ReplyToBodyConvertor();\n        result.Body = conv.convert(src);\n        result.Attachments = [];\n        result.Subject = `Re: ${result.Subject}`;\n        result.InReplyTo = src.MessageId;\n\n        if (!result.DraftInfo || !Array.isArray(result.DraftInfo) || result.DraftInfo.length == 0) {\n          result.DraftInfo = [this.composeType, src.Uid, src.Folder];\n        }\n      }\n\n      if (this.composeType == 'forward') {\n        result.To = [];\n        result.Cc = [];\n        result.References = ` ${src.MessageId}`;\n        result.InReplyTo = src.MessageId;\n        const conv = new ForwardBodyConvertor();\n        result.Body = conv.convert(src);\n        result.Subject = `Fwd: ${src.Subject}`;\n        if (!result.DraftInfo || !Array.isArray(result.DraftInfo) || result.DraftInfo.length == 0) {\n          result.DraftInfo = [\"forward\", src.Uid, src.Folder];\n        }\n      }\n    }\n    return result;\n  }\n}\n\nexport type MessageComposeType = 'HTML' | 'TEXT';\n\nexport class FileResult {\n  content: File;\n  path: string;\n  type: string;\n}\n\nexport class UploadResult {\n  @deserialize(Attachment)\n  Attachment: Attachment;\n}\n\nexport class Identity {\n  EntityId: string;\n  UUID: string;\n  IdUser: string;\n  IdAccount: string;\n  Email: string;\n  FriendlyName: string;\n  UseSignature: boolean;\n  Signature: string;\n}\n\nexport class MessageSave {\n  FetcherID: string = '';\n  DraftInfo: Array<any> = [];\n  DraftUid: string;\n  To: string;\n  Cc: string;\n  Bcc: string;\n  Subject: string;\n  Text: string;\n  IsHtml: boolean;\n  Importance: number = 3;\n  SendReadingConfirmation: boolean = false;\n  Attachments: Object;\n  InReplyTo: string;\n  References: string = ''\n  Sensitivity: number = 0;\n}\n\nexport class MessageSaveConvertor implements Convertor<MessageSave> {\n  private _mapCollection(arr: Array<DisplayContact>): string {\n    return arr.map(a => a.DisplayName ? `${a.DisplayName} <${a.Email}>` : a.Email).join(\",\");\n  }\n  public convert(src: MessageCompose): MessageSave {\n    const result = new MessageSave();\n    result.To = this._mapCollection(src.To);\n    result.Cc = this._mapCollection(src.Cc);\n    result.Bcc = this._mapCollection(src.Bcc);\n    result.Subject = src.Subject;\n    result.DraftUid = src.DraftUid;\n    result.DraftInfo = src.DraftInfo;\n    result.Text = src.Body;\n    result.IsHtml = true;\n    result.Attachments = src.Attachments.reduce((acc, v) => {\n      acc[v.TempName] = [v.FileName, \"\", \"0\", \"0\", \"\"];\n      return acc;\n    }, {});\n    result.InReplyTo = src.InReplyTo;\n    result.References = src.References;\n    return result;\n  }\n}\n\nexport class SaveMessageResponse {\n  NewFolder: string;\n  NewUid: string;\n}\n\nexport class ComposedResult<T> {\n  account: Account;\n  result: T | Array<T>;\n}\n\nexport class FormDataSerialized {\n  data: string;\n  boundary: string;\n}\n\nexport class LabelValue {\n  label: string;\n  value: string | number | boolean;\n}\n\nexport class AppSetting {\n  model: LabelValue;\n  options: Array<LabelValue>;\n}\n\nexport class AppSettings {\n  @deserialize(ServerSetting)\n  server: ServerSetting;\n  @deserialize(AppSetting)\n  pageSize: AppSetting;\n  @deserialize(AppSetting)\n  composeType: AppSetting;\n  @deserialize(AppSetting)\n  checkEmailInterval: AppSetting;\n  previewInCloud: boolean;\n  nextcloudUrl: string;\n  @deserialize(AppSetting)\n  theme: AppSetting;\n}\n\nexport const ALL_MAIL = '[Gmail]/All Mail';\n","import { Injector, NgModule} from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { PreloadAllModules, RouteReuseStrategy, RouterModule } from '@angular/router';\nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { HTTP } from '@ionic-native/http/ngx';\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { WebIntent } from '@ionic-native/web-intent/ngx';\nimport { IonicModule } from '@ionic/angular';\nimport { MessageService } from 'primeng/api';\nimport { AutoCompleteModule } from 'primeng/autocomplete';\nimport { BlockUIModule } from 'primeng/blockui';\nimport { ButtonModule } from 'primeng/button';\nimport { CalendarModule } from 'primeng/calendar';\nimport { CheckboxModule } from 'primeng/checkbox';\nimport { ChipsModule } from 'primeng/chips';\nimport { DialogModule } from 'primeng/dialog';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { InputTextareaModule } from 'primeng/inputtextarea';\nimport { MenuModule } from 'primeng/menu';\nimport { MessageModule } from 'primeng/message';\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\nimport { PanelModule } from 'primeng/panel';\nimport { SidebarModule } from 'primeng/sidebar';\nimport { TableModule } from 'primeng/table';\nimport { ToastModule } from 'primeng/toast';\nimport { ToolbarModule } from 'primeng/toolbar';\nimport { TreeModule } from 'primeng/tree';\nimport { Statics } from '../base';\nimport { Attachments } from '../components/attachments';\nimport { Avatar } from '../components/avatar';\nimport { Compose } from '../components/compose';\nimport { Editor } from '../components/editor';\nimport { FoldersList } from '../components/folders-list';\nimport { Loading } from '../components/loading';\nimport { Message } from '../components/message';\nimport { MessagesList } from '../components/messages-list';\nimport { Home } from '../pages/home';\nimport { Main as MainComponent } from '../pages/main';\nimport { Playground } from '../pages/playground';\nimport { Settings as SettingsPage } from '../pages/settings';\nimport * as pipes from '../pipes';\nimport { routes } from '../routing';\nimport { Api } from '../services/api';\nimport { Contacts } from '../services/contacts';\nimport { FileService } from '../services/file';\nimport { Layout } from '../services/layout';\nimport { Mails } from '../services/mails';\nimport { Navigation } from '../services/navigation';\nimport { DefaultRouteReuseStrategy } from '../services/route-reuse';\nimport { Settings } from '../services/settings';\nimport { Store } from '../services/store';\nimport {Background} from '../services/background';\nimport {Nextcloud} from '../nextcloud/nextcloud';\nimport {DynamicDialogModule, DialogService} from 'primeng/dynamicdialog';\nimport {Webdav} from '../nextcloud/webdav';\nimport {Filepick} from '../nextcloud/filepick';\nimport {PinchZoomModule} from 'ngx-pinch-zoom';\nimport {SplitButtonModule} from 'primeng/splitbutton';\n\n@NgModule({\n  declarations: [\n    MainComponent, Home, SettingsPage, Loading, Playground, FoldersList, pipes.FoldersTree,\n    MessagesList, pipes.MessageDate, pipes.MessageFrom, pipes.FolderLabel, Message, Avatar,\n    pipes.AvatarText, pipes.AvatarColor, pipes.MessageFromTxt, pipes.MessageFromTxtFull,\n    pipes.ContactsListTxt, pipes.ContactsArray, pipes.AsHtml, pipes.AttachmentsList,\n    pipes.HumanFileSize, pipes.FileIconPipe, Compose, Attachments, Editor, pipes.CurrentEmail,\n    pipes.BorderRight, pipes.AccountToContact, pipes.IsCombinedAccount, pipes.Count,\n    Filepick, pipes.HasArchive, pipes.FoldersFlatList, pipes.IsOfType,\n  ],\n  entryComponents: [Loading, Filepick],\n  imports: [\n    BrowserModule, IonicModule.forRoot(), \n    BrowserAnimationsModule, SidebarModule, ButtonModule, ToolbarModule, PanelModule,\n    InputTextModule, FormsModule, MessageModule, BlockUIModule, TreeModule,\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules, useHash: true }),\n    TableModule, OverlayPanelModule, CalendarModule, CheckboxModule, ChipsModule, ToastModule,\n    AutoCompleteModule, InputTextareaModule, MenuModule, DialogModule, DropdownModule, \n    DynamicDialogModule, PinchZoomModule, SplitButtonModule,\n  ],\n  providers: [\n    StatusBar, Settings,\n    SplashScreen, Api, Contacts, Layout, Navigation, Store,\n    Mails, MessageService, FileService, \n    { provide: RouteReuseStrategy, useClass: DefaultRouteReuseStrategy },\n    HTTP, FileChooser, Background, Nextcloud, DialogService, Webdav,\n    WebIntent,\n    // {provide: WebIntent, useClass: MockWebIntent},\n  ],\n  bootstrap: [MainComponent]\n})\nexport class Main {\n  constructor(i: Injector) {\n    Statics.injector = i;\n  }\n}\n","export default \"nc-filepick .ui-tree {\\n  width: 100%;\\n  overflow-y: auto;\\n  min-width: 300px;\\n}\\nnc-filepick p-tree {\\n  width: 100%;\\n}\\nnc-filepick .content {\\n  overflow-y: auto;\\n  max-height: 400px;\\n  height: 400px;\\n}\\nnc-filepick .flex {\\n  display: flex;\\n}\\nnc-filepick .file {\\n  font-size: 20px;\\n}\\nnc-filepick .selected {\\n  background-color: #007ad9;\\n  color: white;\\n}\\nnc-filepick .size {\\n  text-align: right;\\n}\\n.ui-dialog-maximized .ui-tree {\\n  height: calc(100vh - 140px) !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2xpeGEvcHJvZ3JhbXMvYWZ0ZXJsb2dpYy1jbGllbnQvc3JjL3RzL25leHRjbG91ZC9maWxlcGljay5zY3NzIiwic3JjL3RzL25leHRjbG91ZC9maWxlcGljay5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUNBSjtBRElFO0VBQ0UsV0FBQTtBQ0ZKO0FES0U7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtBQ0hKO0FETUU7RUFDRSxhQUFBO0FDSko7QURPRTtFQUNFLGVBQUE7QUNMSjtBRFFFO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0FDTko7QURTRTtFQUNFLGlCQUFBO0FDUEo7QURXQTtFQUNFLHNDQUFBO0FDUkYiLCJmaWxlIjoic3JjL3RzL25leHRjbG91ZC9maWxlcGljay5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsibmMtZmlsZXBpY2sge1xuICAudWktdHJlZSB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xuICB9XG5cblxuICBwLXRyZWUge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgLmNvbnRlbnQge1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgbWF4LWhlaWdodDogNDAwcHg7XG4gICAgaGVpZ2h0OiA0MDBweDtcbiAgfVxuXG4gIC5mbGV4IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICB9XG5cbiAgLmZpbGUge1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgfVxuXG4gIC5zZWxlY3RlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2FkOTtcbiAgICBjb2xvcjogd2hpdGU7XG4gIH1cblxuICAuc2l6ZSB7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIH1cbn1cblxuLnVpLWRpYWxvZy1tYXhpbWl6ZWQgLnVpLXRyZWUge1xuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxNDBweCkgIWltcG9ydGFudDtcbn1cbiIsIm5jLWZpbGVwaWNrIC51aS10cmVlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIG1pbi13aWR0aDogMzAwcHg7XG59XG5uYy1maWxlcGljayBwLXRyZWUge1xuICB3aWR0aDogMTAwJTtcbn1cbm5jLWZpbGVwaWNrIC5jb250ZW50IHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgbWF4LWhlaWdodDogNDAwcHg7XG4gIGhlaWdodDogNDAwcHg7XG59XG5uYy1maWxlcGljayAuZmxleCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5uYy1maWxlcGljayAuZmlsZSB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbn1cbm5jLWZpbGVwaWNrIC5zZWxlY3RlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdhZDk7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbm5jLWZpbGVwaWNrIC5zaXplIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi51aS1kaWFsb2ctbWF4aW1pemVkIC51aS10cmVlIHtcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTQwcHgpICFpbXBvcnRhbnQ7XG59Il19 */\";","import {Component, EventEmitter, Input, Output, ViewEncapsulation} from '@angular/core';\nimport {TreeNode} from 'primeng/api';\nimport {BaseComponent} from '../base';\nimport {NgCycle, NgInject} from '../decorators';\nimport {NextcloudItem} from './models';\nimport {NextcloudUtils} from './utils';\nimport {Webdav} from './webdav';\n\nexport class FilepickInstance {\n  public static instance: Filepick;\n}\n\n@Component({\n  selector: 'nc-filepick',\n  templateUrl: './filepick.html',\n  styleUrls: ['./filepick.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Filepick extends BaseComponent {\n  @Input() public path: string = '/';\n  @Input() public type: 'file' | 'directory' = 'file';\n\n  @Output() public choose: EventEmitter<Array<NextcloudItem>> = new EventEmitter<Array<NextcloudItem>>();\n  @NgInject(Webdav) private _webdav: Webdav;\n  protected _loading: boolean = true;\n  protected _files: Array<TreeNode> = [];\n  protected _selection: Array<TreeNode> = [];\n\n  constructor() {\n    super();\n    FilepickInstance.instance = this;\n  }\n\n  @NgCycle('init')\n  protected _initMe() {\n    this._load();\n  }\n\n  private _results(files: Array<NextcloudItem>): Array<TreeNode> {\n    const result = files.map(f => NextcloudUtils.toTreeNode(f, this.type == 'file'));\n    if (this.type == 'file') {\n      return result;\n    }\n\n    return result.filter(f => !f.leaf);\n  }\n\n  protected async _load(node?: TreeNode) {\n    if (node && node.children) {\n      node.expanded = true;\n      return ;\n    }\n    const path = node ? (node.data as NextcloudItem).filename : this.path;\n    this._loading = true;\n    const result = await this._webdav.getFiles(path);\n    if (!node) {\n      this._files = this._results(result);\n    }\n    else {\n      node.children = this._results(result);\n    }\n    this._loading = false;\n  }\n\n  protected _select(i: TreeNode, ev: MouseEvent) {\n    if (i.data.type == 'directory') {\n      this._load(i);\n      return ;\n    }\n\n    if (!ev.ctrlKey) {\n      this._files.forEach(f => f.partialSelected = false);\n      this._selection = [];\n    }\n\n    i.partialSelected = true;\n    this._selection.push(i);\n    console.log('selected is now', this._selection);\n  }\n\n  protected _choose() {\n    const selection = this._selection ? (Array.isArray(this._selection) ? this._selection : [this._selection]) : [];\n    this.choose.emit(selection.map((n: TreeNode) => n.data).filter((f: NextcloudItem) => f.type == this.type));\n    // this.choose.emit(this._selection.map(n => n.data));\n  }\n}\n","/// <reference types=\"@nextcloud/typings\" />\n\nimport {to} from '../models';\nimport {NextcloudCredentials} from './models';\n\ndeclare var OC: Nextcloud.v16.OC | Nextcloud.v17.OC | Nextcloud.v18.OC | Nextcloud.v19.OC;\n\nif (window.top && window.top['OC']) {\n  window['OC'] = window.top['OC'];\n}\n\nexport enum FilePickerType {\n  Choose = 1,\n    Move = 2,\n    Copy = 3,\n    CopyMove = 4,\n}\n\nexport class FilePicker {\n  private title: string\n  private multiSelect: boolean\n  private mimeTypeFiler: string[]\n  private modal: boolean\n  private type: FilePickerType\n  private directoriesAllowed: boolean\n  private path?: string\n\n  public constructor(title: string,\n    multiSelect: boolean,\n    mimeTypeFilter: string[],\n    modal: boolean,\n    type: FilePickerType,\n    directoriesAllowed: boolean,\n    path?: string) {\n    this.title = title\n    this.multiSelect = multiSelect\n    this.mimeTypeFiler = mimeTypeFilter\n    this.modal = modal\n    this.type = type\n    this.directoriesAllowed = directoriesAllowed\n    this.path = path\n  }\n\n  public pick(): Promise<string> {\n    return new Promise((res, rej) => {\n      OC.dialogs.filepicker(\n        this.title,\n        res,\n        this.multiSelect,\n        this.mimeTypeFiler,\n        this.modal,\n        this.type,\n        this.path,\n        {\n          allowDirectoryChooser: this.directoriesAllowed\n        }\n      )\n    })\n  }\n\n  public static download(path: string): Promise<any> {\n    return new Promise<any>(resolve => {\n      OC['Files'].getClient().getFileContents(path).then((code, content) => {\n        resolve(content);\n      });\n    });\n  }\n\n  public static get credentials(): NextcloudCredentials {\n    const result = new NextcloudCredentials();\n    result.appPassword = OC['requestToken'];\n    result.loginName = OC['currentUser'];\n    result.server = window.location.origin;\n    return result;\n  }\n\n  public static get basePath(): string {\n    return OC['Files'].getClient().getBaseUrl();\n  }\n\n  private static async _getPath(path: string): Promise<string> {\n    const [err] = await to(OC['Files'].getClient().getFileInfo(path));\n\n    if (err) {\n      return path;\n    }\n\n    const p = /^(.*)\\.([^\\.]+)$/;\n    let name = path.replace(p, '$1');\n    const ext = name == path ? '' : path.replace(p, '$2');\n\n    const p2 = /^(.*)-([0-9]+)$/;\n    let idx: string | number = name.replace(p2, '$2');\n    if (idx == name) {\n      idx = 1;\n    }\n    else {\n      idx = parseInt(idx) + 1;\n    }\n    name = `${name.replace(p2, '$1')}-${idx.toString()}`;\n\n    return FilePicker._getPath(name + (ext == '' ? '' : '.' + ext));\n  }\n\n  public static async upload(path: string, content: Blob): Promise<string> {\n    const _path = await FilePicker._getPath(path);\n    await OC['Files'].getClient().putFileContents(_path, content);\n    return _path;\n  }\n\n  public static async exists(path: string): Promise<boolean> {\n    return new Promise(resolve => OC['Files'].getClient().getFileInfo(path).then(() => resolve(true)).fail(() => resolve(false)));\n  }\n}\n\nexport class FilePickerBuilder {\n  private title: string\n  private multiSelect: boolean = false\n  private mimeTypeFiler: string[] = []\n  private modal: boolean = true\n  private type: FilePickerType = FilePickerType.Choose\n  private directoriesAllowed: boolean = false\n  private path?: string\n\n  public constructor(title: string) {\n    this.title = title\n  }\n\n  public setMultiSelect(ms: boolean): FilePickerBuilder {\n    this.multiSelect = ms\n    return this\n  }\n\n  public addMimeTypeFilter(filter: string): FilePickerBuilder {\n    this.mimeTypeFiler.push(filter)\n    return this\n  }\n\n  public setMimeTypeFilter(filter: string[]): FilePickerBuilder {\n    this.mimeTypeFiler = filter\n    return this\n  }\n\n  public setModal(modal: boolean): FilePickerBuilder {\n    this.modal = modal\n    return this\n  }\n\n  public setType(type: FilePickerType): FilePickerBuilder {\n    this.type = type\n    return this\n  }\n\n  public allowDirectories(allow: boolean = true): FilePickerBuilder {\n    this.directoriesAllowed = allow\n    return this\n  }\n\n  public startAt(path: string): FilePickerBuilder {\n    this.path = path\n    return this\n  }\n\n  public build(): FilePicker {\n    return new FilePicker(\n      this.title,\n      this.multiSelect,\n      this.mimeTypeFiler,\n      this.modal,\n      this.type,\n      this.directoriesAllowed,\n      this.path\n    )\n  }\n\n}\n\nexport function getFilePickerBuilder(title: string): FilePickerBuilder {\n  return new FilePickerBuilder(title)\n}\n","import {deserialize} from '../decorators';\n\nexport class NextcloudPoll {\n  token: string;\n  endpoint: string;\n}\n\nexport class NextcloudLogin {\n  @deserialize(NextcloudPoll)\n  poll: NextcloudPoll;\n  login: string;\n}\n\nexport class NextcloudCredentials {\n  public server: string;\n  public loginName: string\n  public appPassword: string;\n}\n\nexport class NextcloudItem {\n  filename: string;\n  basename: string;\n  @deserialize(Date)\n  lastmod: Date;\n  size: number;\n  type: 'file' | 'directory';\n  mime?: string;\n  etag: string;\n  props: Object;\n}\n\nexport class NextcloudShare {\n  url: string;\n  id: string;\n}\n\nexport class NextcloudShareResult {\n  ocs: {data: NextcloudShare}\n}\n","import {Injectable, Type} from '@angular/core';\nimport {DialogService, DynamicDialogConfig} from 'primeng/dynamicdialog';\nimport {BaseClass} from '../base';\nimport {NgInject} from '../decorators';\nimport {ModelFactory, to} from '../models';\nimport {FilePicker} from './filepicker';\nimport {NextcloudCredentials, NextcloudLogin, NextcloudPoll, NextcloudShare, NextcloudShareResult} from './models';\nimport {Webdav} from './webdav';\nimport {Filepick, FilepickInstance} from './filepick';\nimport {take} from 'rxjs/operators';\n\n@Injectable()\nexport class Nextcloud extends BaseClass {\n  @NgInject(DialogService) private _modal: DialogService;\n  @NgInject(Webdav) private _webdav: Webdav;\n\n  private _lastPath: string = '/';\n  private _credentials: NextcloudCredentials = null;\n\n  constructor() {\n    super();\n  }\n\n  private async _rest<T>(url: string, options: RequestInit, type: Type<T>): Promise<T> {\n    if (!options) {\n      options = {};\n    }\n\n    if (options && !options.headers) {\n      options.headers = {'Content-Type': 'application/x-www-form-urlencoded'};\n    }\n    //options.headers = {'OCS-APIRequest': 'true'};\n    const result = await fetch(url, options);\n    if (result.status < 200 || result.status >= 300) {\n      throw Error(result.statusText);\n    }\n    const json = await result.json();\n    return ModelFactory.instance(json, type) as T;\n  }\n\n  public static get isOC(): boolean {\n    return window.top && window.top['OC'];\n  }\n\n  public set credentials(x: NextcloudCredentials) {\n    this._credentials = x;\n    this._webdav.init(x);\n  }\n\n  public get credentials(): NextcloudCredentials {\n    if (this._isNcSetup) {\n      return this._credentials;\n    }\n\n    return FilePicker.credentials;\n  }\n\n  private get _isNcSetup(): boolean {\n    return !!this._credentials;\n  }\n\n  public get isNextcloud(): boolean {\n    return Nextcloud.isOC || this._isNcSetup;\n  }\n\n  private async _processLastPath(x: Array<string>) {\n    if (x.length > 0) {\n      this._lastPath = x[0].replace(/^(.*)\\/[^\\/]+$/g, '$1');\n    }\n  }\n\n  private async _pickFromFrame(): Promise<Array<string>> {\n    const picker = new FilePicker('Choose a file', true, [], true, 1, false, this._lastPath);\n    const result: Array<string> = await picker.pick() as any;\n    await this._processLastPath(result);\n    return result;\n  }\n\n  private async _pickFromApp(maximized: boolean, type: 'file' | 'directory' = 'file'): Promise<Array<string>> {\n    const options: DynamicDialogConfig = {\n      modal: true, header: type == 'file' ? 'Choose a file' : 'Choose a directory', closable: true, closeOnEscape: false,\n      styleClass: 'content', \n    }\n\n    if (maximized) {\n      options.styleClass = 'ui-dialog-maximized';\n    }\n    const ref = this._modal.open(Filepick, options);\n\n    await new Promise(resolve => setTimeout(resolve));\n    FilepickInstance.instance.type =  type;\n    return new Promise(resolve => {\n      FilepickInstance.instance.choose.pipe(take(1)).subscribe(files => {\n        resolve(files.map(f => f.filename));\n        ref.close();\n      });\n\n      ref.onDestroy.pipe(take(1)).subscribe(() => resolve([]));\n    });\n  }\n\n  public async pickFile(maximized: boolean = false): Promise<Array<string>> {\n    if (this._isNcSetup) {\n      return this._pickFromApp(maximized);\n    }\n\n    return this._pickFromFrame();\n  }\n\n  private async _pickFolderOC(): Promise<string> {\n    const picker = new FilePicker('Choose a folder', false, ['*.zzz'], true, 1, true, this._lastPath);\n    const result: string = await picker.pick();\n    await this._processLastPath([result]);\n    return result;\n  }\n\n  private async _pickFolderNc(maximized: boolean): Promise<string> {\n    const result = await this._pickFromApp(maximized, 'directory');\n    return result[0];\n  }\n\n  public async pickFolder(maximized: boolean = false): Promise<string> {\n    if (this._isNcSetup) {\n      return this._pickFolderNc(maximized);\n    }\n\n    return this._pickFolderOC();\n  }\n\n  private async _downloadOC(path: string): Promise<ArrayBuffer> {\n    const content = await fetch(`${FilePicker.basePath}/${path}`);\n    const blob = await content.blob();\n    const bin = await blob.arrayBuffer();\n    return bin;\n  }\n\n  private async _downloadApp(path: string): Promise<ArrayBuffer> {\n    return this._webdav.download(path);\n  }\n\n  public async download(path: string): Promise<ArrayBuffer> {\n    if (this._isNcSetup) {\n      return this._downloadApp(path);\n    }\n\n    return this._downloadOC(path);\n  }\n\n  public async upload(path: string, content: Blob): Promise<string> {\n    if (this._isNcSetup) {\n      await this._webdav.upload(path, content);\n      return path;\n    }\n    return FilePicker.upload(path, content);\n  }\n\n  private async _poll(poll: NextcloudPoll, n: number = 0): Promise<NextcloudCredentials> {\n    if (n >= 30) {\n      throw 'NOT_LOGGED_IN_WITHIN_30_SECONDS';\n    }\n    const [err, result] = await to(this._rest(poll.endpoint, {method: 'post', body: `token=${poll.token}`}, NextcloudCredentials));\n\n    if (err) {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      return this._poll(poll, n + 1);\n    }\n\n    this.credentials = result;\n\n    return result;\n  }\n\n  public async login(baseUrl: string): Promise<NextcloudCredentials> {\n    const loginData = await this._rest(`${baseUrl}/index.php/login/v2`, {method: 'post'}, NextcloudLogin);\n    const a = document.createElement('a');\n    a.href = loginData.login;\n    a.target = '_blank';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n\n    return this._poll(loginData.poll);\n  }\n\n  public async mkdir(path: string) {\n    return await this._webdav.mkdir(path);\n  }\n\n  public async exists(path: string): Promise<boolean> {\n    if (this._isNcSetup) {\n      return this._webdav.exists(path);\n    }\n    return FilePicker.exists(path);\n  }\n\n  private _shareDate(): string {\n    const d = new Date();\n    d.setDate(d.getDate() + 1);\n    const m = d.getMonth() + 1;\n    const day = d.getDate();\n\n    return `${d.getFullYear()}-${m < 10 ? '0' : ''}${m}-${day < 10 ? '0': ''}${day}`;\n  }\n\n  public async share(path: string): Promise<NextcloudShare> {\n    const c = this.credentials;\n    const params = {path: path, shareType: 3, expireDate: this._shareDate()};\n    const options: RequestInit = {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json;charset=UTF-8',\n        'OCS-APIRequest': 'true',\n        'Accept': 'application/json, text/plain, */*',\n      },\n      body: JSON.stringify(params),\n    };\n\n    if (this._isNcSetup) {\n      options.headers['Authorization'] = `Basic ${btoa(c.loginName + ':' + c.appPassword)}`;\n    }\n    const result = await this._rest(\n      `${c.server}/ocs/v2.php/apps/files_sharing/api/v1/shares`,\n      options, NextcloudShareResult,\n    );\n\n    return result.ocs.data;\n  }\n\n  public async unshare(id: string) {\n    const c = this.credentials;\n    const options: RequestInit = {\n      method: 'delete',\n      headers: {\n        'Content-Type': 'application/json;charset=UTF-8',\n        'OCS-APIRequest': 'true',\n        'Accept': 'application/json, text/plain, */*',\n      }\n    }\n\n    if (this._isNcSetup) {\n      options.headers['Authorization'] = `Basic ${btoa(c.loginName + ':' + c.appPassword)}`;\n    }\n    return this._rest(\n      `${c.server}/ocs/v2.php/apps/files_sharing/api/v1/shares/${id}`,\n      options, Object,\n    );\n  }\n}\n","export class Storage {\n  private static _baseUrl: string = window.location.href.replace(/^(.*)\\/js(\\/index.html)?.*$/, '$1');\n  private static _url: string = `${Storage._baseUrl}/api/0.1/store`;\n\n  public static async get(arg: {key: string}): Promise<{value: string}> {\n    const response = await fetch(`${Storage._url}/${arg.key}`);\n    const txt = await response.text();\n    return {value: JSON.parse(txt)};\n  }\n\n  public static async set(arg: {key: string, value: string}): Promise<void> {\n    const data = new FormData();\n    data.set('key', arg.key);\n    data.set('value', arg.value);\n    await fetch(`${Storage._url}`, {method: 'POST', body: data});\n  }\n}\n","import {NextcloudItem} from './models';\nimport {TreeNode} from 'primeng/api/treenode';\n\nexport class NextcloudUtils {\n  public static fileIcon(f: NextcloudItem): string {\n    const ext = f.basename.replace(/^.*\\.([^\\.]+)$/, '$1');\n    if (ext.match(/pdf/i)) {\n      return 'fa fa-file-pdf-o';\n    }\n\n    if (ext.match(/(xls|xlsx|ods)/i)) {\n      return 'fa fa-file-excel-o';\n    }\n\n    if (ext.match(/(png|jpg|jpeg|bmp|gif)/i)) {\n      return 'fa fa-file-image-o';\n    }\n\n    if (ext.match(/(doc|docx|odt)/i)) {\n      return 'fa fa-file-word-o';\n    }\n\n    return 'fa fa-file-o';\n  }\n\n  public static toTreeNode(src: NextcloudItem, forFiles: boolean = true): TreeNode {\n    return <TreeNode> {\n      label: src.basename,\n      leaf: src.type == 'file',\n      data: src,\n      selectable: true,\n      collapsedIcon: src.type == 'file' ? NextcloudUtils.fileIcon(src) : 'fa fa-folder-o',\n      expandedIcon: 'fa fa-folder-open-o',\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {BaseClass} from '../base';\nimport {createClient} from 'webdav/web';\nimport {ReplaySubject} from 'rxjs';\nimport {ModelFactory} from '../models';\nimport {NextcloudCredentials, NextcloudItem} from './models';\nimport {take} from 'rxjs/operators';\n\n@Injectable()\nexport class Webdav extends BaseClass {\n  private _client: any = null;\n  private _ready$: ReplaySubject<void> = new ReplaySubject(1);\n\n  public async init(credentials: NextcloudCredentials) {\n    if (!credentials) {\n      return ;\n    }\n    this._client = createClient(`${credentials.server}/remote.php/dav/files/${credentials.loginName}`, {\n      username: credentials.loginName, password: credentials.appPassword,\n    });\n    this._ready$.next();\n  }\n\n  public async getFiles(path: string): Promise<Array<NextcloudItem>> {\n    await new Promise(resolve => this._ready$.pipe(take(1)).subscribe(resolve));\n    const result: Array<NextcloudItem> = await this._client.getDirectoryContents(path);\n    result.sort((a, b) => {\n      if (a.type == b.type) {\n        return a.basename.toLowerCase() < b.basename.toLowerCase() ? -1 : 1;\n      }\n\n      return a.type == 'directory' ? -1 : 1;\n    })\n    return ModelFactory.instance(result, NextcloudItem) as Array<NextcloudItem>;\n  }\n\n  public download(path: string): Promise<ArrayBuffer> {\n    return this._client.getFileContents(path);\n  }\n\n  public async upload(path: string, content: Blob): Promise<void> {\n    await this._client.putFileContents(path, content, {overwrite: true});\n  }\n\n  public async mkdir(path: string): Promise<void> {\n    return this._client.createDirectory(path);\n  }\n\n  public async exists(path: string): Promise<boolean> {\n    return this._client.exists(path);\n  }\n\n  public async getFileUrl(path: string): Promise<string> {\n    return this._client.getFileDownloadLink(path);\n  }\n\n  public async getStats(path: string): Promise<Object> {\n    return this._client.stat(path);\n  }\n}\n","import {Component, NgZone, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {MenuItem} from 'primeng/api';\nimport {Observable} from 'rxjs';\nimport {filter, map} from 'rxjs/operators';\nimport {BaseComponent} from '../base';\nimport {MessagesList} from '../components/messages-list';\nimport {NgCycle, NgInject} from '../decorators';\nimport {Account, COMBINED_ACCOUNT_ID, ComposeNotifyType, ComposeType, Contact, Folder, Message, MessageBody, MessageNotify, ModelFactory, to} from '../models';\nimport {Api} from '../services/api';\nimport {Contacts} from '../services/contacts';\nimport {Layout} from '../services/layout';\nimport {Mails} from '../services/mails';\nimport {Settings} from '../services/settings';\nimport {Utils} from '../services/utils';\nimport { Navigation } from '../services/navigation';\n\ntype ActionType = 'mark-read' | 'mark-unread' | 'delete' | 'spam' | 'archive';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: '../../html/home.html',\n  styleUrls: ['../../assets/scss/home.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Home extends BaseComponent {\n  @NgInject(Api) private _api: Api;\n  @NgInject(Layout) private _layout: Layout;\n  @NgInject(Mails) private _mails: Mails;\n  @NgInject(Settings) private _settings: Settings;\n  @NgInject(Contacts) private _contacts: Contacts;\n  @NgInject(NgZone) private _zone: NgZone;\n  @NgInject(Navigation) private _nav: Navigation;\n\n  @ViewChild('messagesList', {static: false}) private _list: MessagesList;\n\n  protected _isMobile: boolean = true;\n  protected _account: Account;\n  protected _messages: Array<Message> = [];\n  protected _row: Array<string> = [''];\n  protected _folder: string = 'inbox';\n  protected _selection: Array<Message> = [];\n  protected _message: Message = null;\n  protected _spamFolder: boolean = false;\n  protected _userMenu: Array<MenuItem> = [];\n  protected _compose: boolean = false;\n  protected _composer: boolean = false;\n  protected _composeType: ComposeType = 'new';\n  protected _composeTo: Array<Contact>;\n  protected _composeMessage: MessageBody;\n  protected _toolbarVisible: boolean = false;\n  protected _composeTitle: string = '';\n  protected _accounts$: Observable<Array<Account>>;\n  protected _mobileViewType: 'list' | 'message' | 'compose' | 'settings' = 'list';\n  protected _showSettings: boolean = false;\n  protected _themeClass = {};\n  protected _refreshing: boolean = false;\n\n  constructor(private _route: ActivatedRoute) {\n    super();\n    this._contacts.add([]);\n  }\n\n  @NgCycle('init')\n  protected async _initMe() {\n    console.log('init main component');\n    this.showLoading();\n    this._accounts$ = this._mails.accounts$;\n    this._isMobile = this._layout.isMobile;\n    this.connect(this._mails.currentAccount$, async account => {\n      this._account = account;\n      this.hideLoading();\n    });\n\n    this.connect(this._mails.refreshed$, () => this._refreshing = false);\n\n    this.connect(this._api.sessionExpired$, u => {\n      this.alert('Session expired', `User: ${u.email}`);\n      this.navigate('settings:empty');\n    })\n\n    this.connect(this._mails.folderChanged$, f => this._folderNotify(f));\n    const server = await this._settings.getServer();\n    const theme = await this._settings.getTheme();\n    this._themeClass = {dark: theme == 'dark'};\n    this._userMenu = Utils.buildUserMenu(server, this._onMenu.bind(this));\n    this.connect(\n      this._route.paramMap.pipe(\n        filter(map => map.has('action')),\n        map(map => map.get('action')),\n      ),\n      async url => {\n        const p = /^(.*):(.*)$/g\n        if (!url.match(p)) {\n          return ;\n        }\n\n        const action = url.replace(p, '$1');\n        const param = url.replace(p, '$2');\n\n        if (action == 'mailto') {\n          this._newMessage('new', undefined, [ModelFactory.instance({Email: param}, Contact) as Contact]);\n        }\n        else if (action == 'readmail') {\n          if (!this._list) {\n            return ;\n          }\n          const m = this._list.rows.find(m => m.Uid == param);\n          if (!m) {\n            return ;\n          }\n          this._zone.run(() => this._messageNotify(m));\n        }\n        else if (action == 'settings') {\n          this._zone.run(async () => {\n            if (param == 'empty') {\n              this.hideLoading();\n              this._showSettings = true;\n              this._mobileViewType = 'settings';\n              return ;\n            }\n            this._showSettings = false;\n            this._mobileViewType = 'list';\n            this._router.navigateByUrl('').then(() => {\n              this.softRefresh();\n            });\n          })\n        }\n      }\n    );\n\n    this.connect(this._nav.backButton$, () => this._toolbarBack());\n  }\n\n  protected async _folderNotify(f: Folder) {\n    this._folder = f.Id;\n    this._message = null;\n    this._spamFolder = this._api.isSpamFolder(f);\n    this._toolbarVisible = false;\n  }\n\n  protected _messageNotify(m: Message) {\n    console.log('message notify');\n    this._list.unselect();\n    this._message = m;\n    this._mobileViewType = 'message';\n  }\n\n  protected _selectionChanged(messages: Array<Message>) {\n    console.log('selection changed with', messages);\n    this._selection = messages;\n  }\n\n  protected async _actionIcon(which: ActionType) {\n    if (this._selection.length == 0 && !this._message) {\n      return ;\n    }\n\n    this.showLoading();\n    await to(this._action(which));\n    if (this._message) {\n      this._toolbarBack();\n    }\n    this.hideLoading();\n  }\n\n  protected async _action(which: ActionType) {\n    let row: Message;\n    if (this._message) {\n      row = this._list.rows.find(r => r.Uid == this._message.Uid);\n    }\n    const arr = this._selection.length > 0 ? this._selection : [row || this._message];\n    let err: Error = null;\n    if (which == 'mark-read' || which == 'mark-unread') {\n      [err, ] = await to(this._api.markRead(this._account, this._folder, arr, which == 'mark-read'));\n    }\n\n    if (which == 'delete') {\n      [err, ] = await to(this._api.moveOrDeleteMessages(this._account, this._folder, arr));\n      if (!err) {\n        if (arr.indexOf(this._message) != -1) {\n          this._message = null;\n          this._mobileViewType = 'list';\n        }\n      }\n    }\n\n    if (which == 'spam') {\n      [err, ] = await to(this._api.markSpam(this._account, this._folder, arr));\n    }\n\n    if (which == 'archive') {\n      [err, ] = await to(this._api.archive(this._account, this._folder, arr));\n    }\n\n    if (err) {\n      this.alert('Error performing the action', err.message);\n    }\n  }\n\n  protected _refresh() {\n    this._refreshing = true;\n    this._mails.refresh$.emit();\n  }\n\n  protected async _changeAccount(email: string) {\n    this._toolbarVisible = false;\n    this._account = null;\n    this.showLoading();\n    await this._mails.setCurrentAccount(email.match(/,/) ? COMBINED_ACCOUNT_ID : email);\n    this._message = null;\n    this.hideLoading();\n  }\n\n  protected async _onMenu(item: MenuItem) {\n    if (item.id != 'settings') {\n      await this._changeAccount(item.id);\n      return ;\n    }\n\n    this._showSettings = true;\n  }\n\n  protected _newMessage(type: ComposeType, msg?: MessageBody, to?: Array<Contact>) {\n    const title = type == 'new' ? 'Compose new message' : (['reply', 'reply-all'].indexOf(type) != -1 ? 'Reply to message' : 'Forward message');\n    this._composer = true;\n    this._composeType = type;\n    this._composeTitle = title;\n    this._composeMessage = msg;\n    this._mobileViewType = 'compose';\n    if (type == 'new') {\n      this._composeTo = to;\n    }\n    setTimeout(() => {\n      this.hideLoading();\n      this._compose = true;\n    });\n  }\n\n  protected _hideCompose(ev: ComposeNotifyType) {\n    this._compose = false;\n    this._composeTo = [];\n    this._composeMessage = null;\n    this._mobileViewType = 'list';\n    setTimeout(() => this._composer = false);\n    if (ev == 'sent') {\n      this._refresh();\n    }\n  }\n\n  protected _toolbarBack() {\n    this._message = null;\n    this._hideCompose('cancel');\n    if (['', '/'].indexOf(this._router.url) == -1) {\n      this.navigate('');\n    }\n\n    if (this._layout.isMobile) {\n      this._list.unselect();\n    }\n  }\n\n  protected _msgBodyNotify(ev: MessageNotify) {\n    this._newMessage(ev.type, ev.message as MessageBody, [ev.contact]);\n  }\n\n  protected _settingsClick() {\n    this._mobileViewType = 'settings';\n    this._toolbarVisible = false;\n  }\n}\n","import {Component, ViewEncapsulation, NgZone} from '@angular/core';\nimport {SplashScreen} from '@ionic-native/splash-screen/ngx';\nimport {Platform} from '@ionic/angular';\nimport {BaseComponent} from '../base';\nimport {NgInject} from '../decorators';\nimport {Api} from '../services/api';\nimport {Layout} from '../services/layout';\nimport { WebIntent } from '@ionic-native/web-intent/ngx';\nimport { filter, tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'main-page',\n  templateUrl: '../../html/main.html',\n  styleUrls: ['../../assets/scss/main.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Main extends BaseComponent {\n  @NgInject(Platform) private _platform: Platform;\n  @NgInject(SplashScreen) private _splash: SplashScreen;\n  @NgInject(Layout) private _layout: Layout;\n  @NgInject(Api) private _api: Api;\n  @NgInject(WebIntent) private _intent: WebIntent;\n  @NgInject(NgZone) private _zone: NgZone;\n\n  protected _mobile: boolean = true;\n  protected _ready: boolean = false;\n\n  constructor() {\n    super();\n    this._initializeApp();\n    this.connect(this._api.ready$, result => {\n      if (!result) {\n        this.navigate('settings:empty');\n        this._ready = true;\n        return ;\n      }\n      this._ready = true;\n    });\n  }\n\n  private _initializeApp() {\n    this._platform.ready().then(() => {\n      this._mobile = this._layout.isMobile;\n      this._splash.hide();\n      if (this._platform.is('desktop')) {\n        return ;\n      }\n      this.connect(this._intent.onIntent().pipe(\n        filter(i => i.action == this._intent.ACTION_VIEW && !!i['data'])\n      ), i => this._zone.run(() => this.navigate(i['data'])));\n    });\n  }\n}\n","import {Component} from '@angular/core';\nimport {BaseComponent} from '../base';\nimport {NgCycle, NgInject} from '../decorators';\nimport {Account, Folder, Message, Contact, ModelFactory, MessageNotify, MessageBody} from '../models';\nimport {Mails} from '../services/mails';\nimport {Api} from '../services/api';\nimport {NextcloudItem} from '../nextcloud/models';\n\n@Component({\n  selector: 'al-playground', \n  templateUrl: '../../html/playground.html'\n})\nexport class Playground extends BaseComponent {\n  @NgInject(Mails) private _mails: Mails;\n  @NgInject(Api) private _api: Api;\n\n  protected _account: Account;\n  protected _message: Message = null;\n  protected _body: MessageBody = null;\n  protected _folder: string;\n  protected _contact: Contact;\n\n  @NgCycle('init')\n  protected async _initMe() {\n    this._contact = ModelFactory.instance(<Contact>{Email: 'cosmin@taid.be', DisplayName: 'Cosmin Popescu'}, Contact) as Contact;\n    this.showLoading();\n    this.connect(this._mails.currentAccount$, async account => {\n      this._account = account;\n      this.hideLoading();\n      // this._body = await this._api.getMessageBody(this._account, '[Gmail]/Drafts', '11021');\n    });\n  }\n\n  protected _folderNotify(f: Folder) {\n    console.log('selected folder', f);\n    this._folder = f.Id;\n  }\n\n  protected _messageNotify(m: Message) {\n    this._message = m;\n    console.log('message is', m);\n  }\n\n  protected _msgBodyNotify(ev: MessageNotify) {\n    console.log('notified with', ev);\n  }\n\n  protected _choose(ev: Array<NextcloudItem>) {\n    console.log('selection is', ev);\n  }\n}\n","import {Component, ViewEncapsulation} from '@angular/core';\nimport {BaseComponent} from '../base';\nimport {NgCycle, NgInject} from '../decorators';\nimport {ServerSetting, UserSetting, AppSettings, COMBINED_ACCOUNT_ID, to} from '../models';\nimport {Settings as SettingsService} from '../services/settings';\nimport {Store} from '../services/store';\nimport {Api} from '../services/api';\nimport {take} from 'rxjs/operators';\nimport {Mails} from '../services/mails';\nimport {Nextcloud} from '../nextcloud/nextcloud';\n\n@Component({\n  selector: 'al-settings',\n  templateUrl: '../../html/settings.html',\n  styleUrls: ['../../assets/scss/settings.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class Settings extends BaseComponent {\n  @NgInject(Store) private _store: Store;\n  @NgInject(Api) private _api: Api;\n  @NgInject(Mails) private _mails: Mails;\n  @NgInject(SettingsService) private _settings: SettingsService;\n  @NgInject(Nextcloud) private _nc: Nextcloud;\n  protected _model: AppSettings;\n  protected _validate: boolean = false;\n  protected _loading: boolean = true;\n  protected _urlFixed: boolean = false;\n\n  @NgCycle('init')\n  protected async _initMe() {\n    this._model = await this._settings.appSettings;\n    if (!this._model.server) {\n      this._model.server = new ServerSetting();\n      this._model.server.users = [];\n    }\n  }\n\n  protected _setFixUrl(value: boolean) {\n    this._urlFixed = value;\n  }\n\n  protected _remove(user: UserSetting) {\n    this._model.server.users = this._model.server.users.filter(u => u.email != user.email);\n  }\n\n  protected _add() {\n    this._model.server.users.push(new UserSetting());\n  }\n\n  private _waitApiReady() {\n    return this._api.ready$.pipe(take(1)).toPromise();\n  }\n\n  protected async _save() {\n    if (!this._model.server && !Array.isArray(this._model.server.users) || this._model.server.users.length == 0) {\n      this.alert('You have to have at least one account', '');\n      return ;\n    }\n    const users = await this._settings.needAuthenticating(this._model.server);\n    if (users.length > 0) {\n      this.showLoading();\n      // To be able to do anything with the API we need a server url, at least.\n      // So, we set this before.\n      const server = new ServerSetting();\n      server.url = this._model.server.url;\n      server.users = [];\n      await this._settings.setServer(server);\n      await this._waitApiReady();\n      const [err, result] = await to(this._api.login(users));\n      this._validate = true;\n      this.hideLoading();\n\n      if (err || !result) {\n        this.alert('Some accounts could not be logged in', '');\n        console.log('err is', err);\n        return ;\n      }\n\n      await this._waitApiReady();\n    }\n    const email = await this._store.getCurrentAccount();\n    let x: boolean = false;\n    if (email != COMBINED_ACCOUNT_ID && !this._model.server.users.find(u => u.email == email)) {\n      x = true;\n    }\n    await this._settings.saveSettings(this._model);\n    if (x) {\n      await this._mails.setCurrentAccount(this._model.server.users[0].email);\n      this.navigate('').then(() => window.location.reload());\n      return ;\n    }\n    await this._mails.setCurrentAccount(null);\n    this.navigate('settings:saved');\n    // window.location.reload();\n    // this.navigate('settings:' + op);\n  }\n\n  protected async _nextcloudLogin() {\n    this.showLoading();\n    const [err, result] = await to(this._nc.login(this._model.nextcloudUrl));\n\n    if (err) {\n      console.error(err);\n      this.alert('There was an error performing login to nextcloud', err.message);\n      this.hideLoading();\n      return ;\n    }\n\n    this._settings.setNextcloudLogin(result);\n    this.alert('You have been authenticated to nextcloud', '', 'success', true);\n    this.hideLoading();\n    return ;\n  }\n}\n","import {Pipe} from '@angular/core';\nimport * as dateFormat from 'dateformat';\nimport {TreeNode, SelectItem} from 'primeng/api';\nimport {merge, Observable, of} from 'rxjs';\nimport {map, filter} from 'rxjs/operators';\nimport {BaseClass} from './base';\nimport {NgInject} from './decorators';\nimport {Account, Folder, Message, Contact, Contacts, MessageBody, Attachment, COMBINED_ACCOUNT_ID, ModelFactory, ALL_MAIL} from './models';\nimport {Api} from './services/api';\nimport {Utils} from './services/utils';\nimport {DomSanitizer, SafeHtml} from '@angular/platform-browser';\nimport {Mails} from './services/mails';\nimport { NextcloudItem } from './nextcloud/models';\n\n@Pipe({name: 'foldersTree'})\nexport class FoldersTree extends BaseClass {\n  public transform(folders: Array<Folder>): Array<TreeNode> {\n    if (!folders || !Array.isArray(folders)) {\n      return [];\n    }\n    return folders.map(f => <TreeNode> {\n      label: f.Unread > 0 ? `${f.Name} (${f.Unread})` : f.Name,\n      children: this.transform(f.SubFolders),\n      data: f,\n      selectable: f.SubFolders.length == 0,\n   })\n  }\n}\n\n@Pipe({name: 'ncFilesToTree'})\nexport class NcFilesToTree extends BaseClass {\n  public transform(files: Array<NextcloudItem>): Array<TreeNode> {\n    return files.map(f => <TreeNode> {\n      label: f.basename,\n      leaf: f.type == 'file',\n      data: f,\n    });\n  }\n}\n\n@Pipe({name: 'folderLabel'})\nexport class FolderLabel extends BaseClass {\n  @NgInject(Api) private _api: Api;\n  private _label(f: Folder) {\n    return f.Unread > 0 ? `${f.Name} (${f.Unread})` : f.Name;\n  }\n  transform(folder: Folder): Observable<string> {\n    return merge(\n      of(this._label(folder)),\n      this._api.folderUpdated$.pipe(filter(f => f.Id == folder.Id)),\n    ).pipe(\n      map(result => {\n        if (typeof(result) == 'string') {\n          return result;\n        }\n\n        return this._label(result as Folder);\n      })\n    )\n  }\n}\n\n@Pipe({name: 'attachmentsList'})\nexport class AttachmentsList extends BaseClass {\n  transform(m: MessageBody): Array<Attachment> {\n    return Utils.extractCollection(m.Attachments);\n  }\n}\n\n@Pipe({name: 'messageDate'})\nexport class MessageDate extends BaseClass {\n  private _sameDay(d1: Date, d2: Date): boolean {\n    return d1.getFullYear() == d2.getFullYear() && d1.getMonth() == d2.getMonth() && d1.getDate() == d2.getDate();\n  }\n\n  public transform(message: Message): string {\n    const d1 = new Date();\n    const d2 = new Date(message.TimeStampInUTC * 1000);\n    if (this._sameDay(d1, d2)) {\n      return dateFormat(d2, 'hh:MM');\n    }\n\n    const d3 = new Date(d2.getTime() + 24 * 60 * 60 * 1000);\n    if (this._sameDay(d1, d3)) {\n      return 'Yesterday, ' + dateFormat(d2, 'hh:MM');\n    }\n\n    if (d1.getTime() - d2.getTime() <= 15 * 24 * 60 * 60 * 1000) {\n      return dateFormat(d2, 'mmm dd');\n    }\n\n    return dateFormat(d2, 'mmm dd, yyyy');\n  }\n}\n\n@Pipe({name: 'messageFrom'})\nexport class MessageFrom extends BaseClass {\n  public transform(msg: Message): Contact {\n    if (!msg.From && msg.From.Count < 1) {\n      return null;\n    }\n\n    return msg.From.Collection[0];\n  }\n}\n\n@Pipe({name: 'messageFromTxt'})\nexport class MessageFromTxt extends BaseClass {\n  transform(c: Contact): string {\n    return c.DisplayName || c.Email;\n  }\n}\n\n@Pipe({name: 'messageFromTxtFull'})\nexport class MessageFromTxtFull extends BaseClass {\n  transform(c: Contact): string {\n    const toSpan = (x: string) => `<span style=\"color: blue\">${x}</span>`;\n    return c.DisplayName ? `${c.DisplayName} (${toSpan(c.Email)})` : toSpan(c.Email);\n  }\n}\n\n@Pipe({name: 'asHtml'})\nexport class AsHtml extends BaseClass {\n  @NgInject(<any>DomSanitizer) private _sanitizer: DomSanitizer;\n  transform(html: string): SafeHtml {\n    return this._sanitizer.bypassSecurityTrustHtml(html);\n  }\n}\n\n@Pipe({name: 'contactsListTxt'})\nexport class ContactsListTxt extends BaseClass {\n  transform(c: Contacts): string {\n    const collection = Utils.extractCollection(c);\n    if (collection.length == 0) {\n      return '';\n    }\n\n    const pipe = new MessageFromTxtFull();\n    return collection\n      .map(c => pipe.transform(c))\n      .reduce((acc, v) => acc + (acc == '' ? '' : ', ') + v, '');\n  }\n}\n\n@Pipe({name: 'contactsArray'})\nexport class ContactsArray extends BaseClass {\n  transform(c: Contacts) : Array<Contact>{\n    return Utils.extractCollection(c);\n  }\n}\n\n@Pipe({name: 'avatarColor'})\nexport class AvatarColor extends BaseClass {\n  public transform(c: Contact): string {\n    return Utils.avatarColor(c);\n  }\n}\n\n@Pipe({name: 'accountToContact'})\nexport class AccountToContact extends BaseClass {\n  public transform(a: Account): Contact {\n    return ModelFactory.instance(<Contact>{Email: a.Email, DisplayName: a.FriendlyName}, Contact) as Contact;\n  }\n}\n\n@Pipe({name: 'avatarText'})\nexport class AvatarText extends BaseClass {\n  public transform(c: Contact): string {\n    const x = c.DisplayName || c.Email;\n    return x.substr(0, 1).toUpperCase();\n  }\n}\n\n@Pipe({name: 'humanFileSize'})\nexport class HumanFileSize extends BaseClass {\n  public transform(size: number): string {\n    if (!size) {\n      return '';\n    }\n    const i = Math.floor( Math.log(size) / Math.log(1024) );\n    return ( size / Math.pow(1024, i) ).toFixed(2) + ' ' + ['B', 'kB', 'MB', 'GB', 'TB'][i];\n  }\n}\n\n@Pipe({name: 'fileIcon'})\nexport class FileIconPipe extends BaseClass {\n  public transform(a: Attachment): string {\n    if (a.MimeType.match(/pdf/i)) {\n      return \"file-pdf-o\";\n    }\n\n    if (a.MimeType.match(/text|txt/i))  {\n      return 'file-text-o';\n    }\n\n    if (a.MimeType.match(/excel/i)) {\n      return 'file-excel-o';\n    }\n\n    if (a.MimeType.match(/word/i)) {\n      return 'file-word-o';\n    }\n\n    if (a.MimeType.match(/gif|jpg|jpeg|png|bmp/i)) {\n      return 'file-image-o';\n    }\n\n    return 'file-o';\n  }\n}\n\n@Pipe({name: 'currentEmail'})\nexport class CurrentEmail extends BaseClass {\n  public transform(a: Account): string {\n    if (!a) {\n      return '';\n    }\n\n    return a.FriendlyName ? `${a.FriendlyName} (${a.Email})` : a.Email;\n  }\n}\n\n@Pipe({name: 'borderRight'})\nexport class BorderRight extends BaseClass {\n  @NgInject(Mails) private _service: Mails;\n  public transform(msg: Message): Observable<Object> {\n    return this._service.currentAccount$.pipe(\n      map(account => {\n        if (account.AccountID != COMBINED_ACCOUNT_ID) {\n          return {}\n        };\n\n        const a = this._service.accountById(msg.AccountID);\n\n        if (!a) {\n          return {};\n        }\n\n        const pipe = new AccountToContact();\n\n        return {borderRight: `10px solid ${Utils.avatarColor(pipe.transform(a))}`};\n      })\n    );\n  }\n}\n\n@Pipe({name: 'isCombinedAccount'})\nexport class IsCombinedAccount extends BaseClass {\n  public transform(a: Account): boolean {\n    return a.AccountID == COMBINED_ACCOUNT_ID;\n  }\n}\n\n@Pipe({name: 'count'})\nexport class Count extends BaseClass {\n  public transform(a: Array<any>): number {\n    if (!Array.isArray(a)) {\n      return 0;\n    };\n\n    return a.length;\n  }\n}\n\n@Pipe({name: 'hasArchive'})\nexport class HasArchive extends BaseClass {\n  private _search(folders: Array<Folder>): boolean {\n    if (folders.length == 0) {\n      return false;\n    }\n\n    const f = folders.find(f => f.Id == ALL_MAIL);\n    if (f) {\n      return true;\n    }\n\n    return this._search(folders.map(f => f.SubFolders).reduce((acc, v) => acc.concat(v), []));\n  }\n  public transform(a: Account, folderId: string): boolean {\n    if (!a || folderId == ALL_MAIL) {\n      return false;\n    }\n\n    return this._search(a.FoldersOrder);\n  }\n}\n\n@Pipe({name: 'foldersFlatList'})\nexport class FoldersFlatList extends BaseClass {\n  public transform(account: Account): Observable<Array<SelectItem>> {\n    return account.Folders$.pipe(\n      map(folders => {\n        if (!Array.isArray(folders)) {\n          return [];\n        }\n        const result: Array<SelectItem> = [{value: '', label: 'Current folder'}];\n        result.push(...Utils.foldersFlatList2(folders).map(f => <SelectItem>{value: f.Id, label: account.AccountID == COMBINED_ACCOUNT_ID ? f.Name : f.Id}));\n        return result;\n      })\n    );\n  }\n}\n\n@Pipe({name: 'isOfType'})\nexport class IsOfType extends BaseClass {\n  public transform(x: any, type: string): boolean {\n    console.log('analyze', x, type, typeof(x));\n    return typeof(x) == type;\n  }\n}\n","import {Routes} from '@angular/router';\nimport {Home} from './pages/home';\nimport {Playground} from './pages/playground';\n\nexport const routes: Routes = [\n  {path: 'playground', component: Playground, data: {withToolbar: true}},\n  {path: ':action', component: Home, data: {withToolbar: true}},\n  {path: '', component: Home, data: {withToolbar: true}},\n];\n","import {EventEmitter, Injectable, Type} from '@angular/core';\nimport {FilesystemDirectory, FileWriteResult, Plugins} from '@capacitor/core';\nimport {HTTP} from '@ionic-native/http/ngx';\nimport {Platform} from '@ionic/angular';\nimport {ReplaySubject} from 'rxjs';\nimport {filter, map, take} from 'rxjs/operators';\nimport {BaseClass} from '../base';\nimport {NgInject} from '../decorators';\nimport {Account, Attachment, Authentication, COMBINED_ACCOUNT_ID, FileResult, Folder, FoldersInfoResult, FolderType, HttpResponse, Message, MessageBody, MessageCompose, Messages, MessageSave, ModelFactory, ObjectType, SaveMessageResponse, ServerSetting, to, UploadResult, UserSetting, ALL_MAIL} from '../models';\nimport {Settings} from './settings';\nimport {Utils} from './utils';\nimport {Nextcloud} from '../nextcloud/nextcloud';\n\nconst {Filesystem} = Plugins;\ntype PayloadInfoType = {account: Account, folder: string, msgs: Array<Message>};\n\n\n@Injectable()\nexport class Api extends BaseClass {\n  @NgInject(Settings) private _settings: Settings;\n  @NgInject(Platform) private _platform: Platform;\n  @NgInject(HTTP) private _http: HTTP;\n  @NgInject(Nextcloud) private _nc: Nextcloud;\n  public ready$: ReplaySubject<boolean> = new ReplaySubject<boolean>(1);\n  public lastSearchResults: number = 0;\n  public folderUpdated$: EventEmitter<Folder> = new EventEmitter<Folder>();\n  public messagesDeleted$: EventEmitter<Array<Message>> = new EventEmitter<Array<Message>>();\n  public messagesMoved$: EventEmitter<Array<Message>> = new EventEmitter<Array<Message>>();\n  public messagesUpdated$: EventEmitter<Array<Message>> = new EventEmitter<Array<Message>>();\n  public sessionExpired$: EventEmitter<UserSetting> = new EventEmitter<UserSetting>();\n\n  private _ready: boolean = false;\n  private _server: ServerSetting;\n  private _url: string = null;\n  private _accounts: Array<Account> = [];\n\n  private async _init() {\n    this._server = await this._settings.getServer();\n    if (!!this._server) {\n      this._url = `${this._server.url}?/Api/`;\n      this._ready = true;\n      this.ready$.next(true);\n      return ;\n    }\n    this._ready = false;\n    this.ready$.next(false);\n  }\n\n  constructor() {\n    super();\n    this._init();\n    this._settings.serverSet$.subscribe(() => this._init());\n  }\n\n  private _checkReady() {\n    if (!this._ready) {\n      throw new Error('API_NOT_READY');\n    }\n  }\n\n  private async _passRequest<T>(token: string, module: string, method: string, parameters: Object, type?: Type<ObjectType<T>>, file?: FileResult): Promise<T> {\n    this._checkReady();\n    let data: string | FormData | Object;\n    const headers = {'Content-Type': 'application/x-www-form-urlencoded'};\n\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    if (!file) {\n      data = this._platform.is('desktop') ? \n        `Module=${module}&Method=${method}&Parameters=${encodeURIComponent(JSON.stringify(parameters))}`\n        : {Module: module, Method: method, Parameters: JSON.stringify(parameters)};\n    }\n    else  {\n      data = new FormData();\n      console.log('content is', file, file.content);\n      (data as FormData).append('Module', module);\n      (data as FormData).append('Method', method);\n      (data as FormData).append('jua-post-type', 'ajax');\n      (data as FormData).append('Parameters', JSON.stringify(parameters));\n      (data as FormData).append('jua-uploader', file.content);\n      delete headers['Content-Type'];\n    }\n\n    let json: ObjectType<Object>;\n    if (this._platform.is('desktop') || file) {\n      const result = await fetch(this._url, {\n        method: 'POST',\n        body: data as (string | FormData),\n        headers: headers,\n      });\n      json = await result.json();\n    }\n    else {\n      console.log('posting request', data, headers);\n      const result = await this._http.sendRequest(this._url, {\n        method: 'post', data: data as Object, headers: headers, responseType: 'json',\n      });\n      json = result.data;\n    }\n\n    const response = ModelFactory.instance(json, HttpResponse) as HttpResponse;\n\n    if (typeof(response.ErrorCode) != 'undefined' && response.ErrorCode != null) {\n      console.log(\"throwing\", `${[102, 108].indexOf(response.ErrorCode) != -1 ? 'AUTH_ERROR' : 'HTTP_ERROR'} ${response.ErrorMessage || response.ErrorCode}`);\n      throw Error(`${[102, 108].indexOf(response.ErrorCode) != -1 ? 'AUTH_ERROR' : 'HTTP_ERROR'} ${response.ErrorMessage || response.ErrorCode}`);\n    }\n\n    return ModelFactory.instance(response.Result, type) as T;\n  }\n\n  private async _login(u: UserSetting): Promise<boolean> {\n    const result: Authentication = await this._passRequest(null, 'Core', 'Login', {Login: u.email, Password: u.pass, SignMe: false}, Authentication);\n    if (!result || !result.AuthToken) {\n      return false;\n    }\n    u.token = result.AuthToken;\n\n    return true;\n  }\n\n  public async login(users: Array<UserSetting>): Promise<boolean> {\n    const p: Array<Promise<boolean>> = [];\n\n    users.forEach(u => p.push(this._login(u)));\n\n    const results = await Promise.all(p);\n\n    return results.filter(r => !r).length == 0;\n  }\n\n  private _handleUserExpired(u: UserSetting) {\n      this.sessionExpired$.emit(u);\n      console.log('user expired', u);\n      throw Error('USER_EXPIRED');\n  }\n\n  private async _request<T>(\n    email: string, module: string,\n    method: string, parameters: Object,\n    type?: Type<ObjectType<T>>, file?: FileResult\n  ): Promise<T | Array<T>> {\n    const u = this._userByEmail(email);\n    if (!u) {\n      throw {\n        message: 'Could not find user for request',\n        user: email, \n        method: method, \n        parameters: parameters,\n        type: type, \n        file: file,\n      }\n    }\n    if (!u.token) {\n      this._handleUserExpired(u);\n      return null;\n    }\n    const [err, result] = await to(this._passRequest(u.token, module, method, parameters, type, file));\n\n    if (err) {\n      if (err.message.match(/^AUTH_ERROR/)) {\n        this._handleUserExpired(u);\n        return ;\n      }\n      throw err;\n    }\n\n    return result;\n  }\n\n  private _userByEmail(email: string): UserSetting {\n    this._checkReady();\n    return this._server.users.find(u => u.email == email);\n  }\n\n  // Patched\n  public async getAccounts(): Promise<Array<Account>> {\n    let p = [];\n\n    this._server.users.forEach(u => p.push(this._request(u.email, 'Mail', 'GetAccounts', null, Account)))\n\n    const accounts: Array<Account> = await Promise.all(p);\n    const result: Array<Account> = accounts.reduce((acc, v) => acc.concat(v), []);\n    this._accounts = result;\n    result.forEach(async a => {\n      a.Folders$ = new ReplaySubject<Array<Folder>>(1);\n      const u = this._userByEmail(a.Email);\n      if (!u) {\n        a.Folders$.next([]);\n        return ;\n      }\n      const list: Array<Folder> = [];\n      Utils.foldersFlatList(a.FoldersOrder, list);\n      console.log('set folder types 1');\n      await this._setFoldersTypes(a, a.FoldersOrder);\n      list.forEach(l => l.AccountID = a.AccountID);\n      a.Folders$.next(a.FoldersOrder);\n    });\n    const r = result.reduce((acc, v) => acc.concat(v), []);\n    if (accounts.length > 1) {\n      const a = new Account();\n      a.Email = accounts.reduce((acc, v) => acc.concat(v), []).map(a => a.Email).join(\",\");\n      a.AccountID = COMBINED_ACCOUNT_ID;\n      a.FriendlyName = 'Composed view';\n      a.FoldersOrder = [\n        {AccountID: a.AccountID, SubFolders: [], Type: FolderType.Inbox, Name: 'Inbox', Id: FolderType.Inbox.toString()},\n        {AccountID: a.AccountID, SubFolders: [], Type: FolderType.Sent, Name: 'Sent mails', Id: FolderType.Sent.toString()},\n        {AccountID: a.AccountID, SubFolders: [], Type: FolderType.Drafts, Name: 'Drafts', Id: FolderType.Drafts.toString()},\n        {AccountID: a.AccountID, SubFolders: [], Type: FolderType.Spam, Name: 'Spam', Id: FolderType.Spam.toString()},\n        {AccountID: a.AccountID, SubFolders: [], Type: FolderType.Trash, Name: 'Trash', Id: FolderType.Trash.toString()},\n      ];\n      a.TypesSet = true;\n      a.Folders$.next(a.FoldersOrder);\n      r.push(a);\n    }\n    return r;\n  }\n\n  // Patched\n  public async getFoldersInfo(account: Account, list: Array<Folder>, auto: boolean): Promise<FoldersInfoResult | Array<FoldersInfoResult>>{\n    if (account.AccountID != COMBINED_ACCOUNT_ID) {\n      return this._request(\n        account.Email, 'Mail', 'GetRelevantFoldersInformation',\n        {AccountID: account.AccountID, Folders: list.map(x => x.Id)}, FoldersInfoResult,\n        undefined,\n      ) as Promise<FoldersInfoResult>;\n    }\n\n    const p = [];\n    account.Email.split(',').forEach(e => {\n      const a = this._accounts.find(a => a.Email.toLowerCase() == e.toLowerCase());\n      if (!a) {\n        return ;\n      }\n\n      const list: Array<Folder> = [];\n      Utils.foldersFlatList(a.FoldersOrder, list);\n      p.push(this.getFoldersInfo(a, list, auto));\n    });\n\n    const result = await Promise.all(p);\n    return result;\n  }\n\n  private async _combinedFoldersResult(account: Account, result: Array<FoldersInfoResult>) {\n    account.FoldersOrder.forEach(f => {\n      f.Count = 0;\n      f.Unread = 0;\n      account.Email.split(\",\").forEach((e, idx) => {\n        const a = this._accounts.find(a => a.Email == e);\n        if (!a) {\n          return ;\n        }\n\n        const _f = Utils.folderByType(f.Type, a.FoldersOrder);\n        if (!_f) {\n          return;\n        }\n        f.Count += result[idx].Counts[_f.Id][0] as number;\n        f.Unread += result[idx].Counts[_f.Id][1] as number;\n      });\n\n      this.folderUpdated$.emit(f);\n    });\n  }\n\n  private _processMessages(account: Account, msgs: Messages) {\n    msgs.Collection.forEach(m => m.AccountID = account.AccountID);\n    return msgs;\n  }\n\n  private async _waitFoldersLoaded() {\n    const p = [];\n    this._accounts.forEach(a => p.push(a.Folders$.pipe(take(1)).toPromise()));\n    await Promise.all(p);\n  }\n\n  // Patched\n  private async _getMessages(\n    account: Account, folder: string, offset: number, pageSize: number,\n    search: string, filters: string, withThreads: boolean, auto: boolean, lastUid: string,\n  ): Promise<Messages> {\n    if (account.AccountID != COMBINED_ACCOUNT_ID) {\n      const params = {\n        AccountID: account.AccountID, Folder: folder, Offset: offset,\n        Limit: pageSize, Search: search, Filters: filters, UseThreading: withThreads\n      };\n      if (lastUid) {\n        params['InboxUixnext'] = lastUid;\n      }\n      return this._request(\n        account.Email, 'Mail', 'GetMessages', params, Messages, undefined,\n      ).then(msgs => this._processMessages(account, msgs as Messages)) as Promise<Messages>;\n    }\n\n    await this._waitFoldersLoaded();\n    const _folder = account.FoldersOrder.find(f => f.Id == folder);\n    if (!_folder) {\n      return ModelFactory.instance({\n        Filters: filters, Search: search, Limit: pageSize, Offset: offset, Count: 0, \n        Collection: [], MessageResultCount: 0, Uids: [], MessageCount: 0, MessageUnseenCount: 0,\n        FolderName: _folder.Name,\n      }, Messages) as Messages;\n    }\n\n    const p = [];\n    account.Email.split(',').forEach(e => {\n      const a = this._accounts.find(a => a.Email == e);\n      if (!a) {\n        return ;\n      }\n\n      const f = Utils.folderByType(_folder.Type, a.FoldersOrder);\n\n      const result = this._getMessages(a, f.Id, offset, pageSize, search, filters, withThreads, auto, lastUid).then(msgs => this._processMessages(a, msgs as Messages));\n      p.push(result);\n    });\n\n    const result = await Promise.all(p);\n    return (result as Array<Messages>)\n    .reduce((acc: Messages, v) => {\n      if (!acc) {\n        return v;\n      }\n      acc.MessageResultCount += v.MessageResultCount;\n      acc.Count += v.Count;\n      acc.Collection = acc.Collection.concat(v.Collection);\n      return acc;\n    }, null);\n  }\n\n  public async getMessages(\n    account: Account,\n    folder: string,\n    offset: number, \n    pageSize: number,\n    search: string = '',\n    filters: string = '',\n    auto: boolean = false,\n    lastUid: string = null,\n  ): Promise<Array<Message>> {\n    if (pageSize != 1) account.Folders$.pipe(take(1)).subscribe(async folders => {\n      const list: Array<Folder> = [];\n      Utils.foldersFlatList(folders, list);\n      const result = await this.getFoldersInfo(account, list, auto);\n      if (Array.isArray(result)) {\n        await this._combinedFoldersResult(account, result);\n        return ;\n      }\n      Object.keys(result.Counts).forEach(k => {\n        const f = list.find(l => l.Id == k);\n        if (!f) {\n          return ;\n        }\n\n        f.Count = result.Counts[k][0] as number;\n        f.Unread = result.Counts[k][1] as number;\n        this.folderUpdated$.emit(f);\n      });\n    });\n\n    const result = await this._getMessages(account, folder, offset, pageSize, search, filters, false, auto, lastUid);\n\n    this.lastSearchResults = result.MessageResultCount;\n\n    this.messagesUpdated$.emit(result.Collection);\n    return result.Collection;\n  }\n\n  // Patched\n  public async getMessageBody(account: Account, msg: Message): Promise<MessageBody> {\n    const id = msg.AccountID ? msg.AccountID : account.AccountID;\n    const a = this._accounts.find(a => a.AccountID == id);\n    if (!a) {\n      return null;\n    }\n    const result: Array<MessageBody> = await this._request(\n      a.Email, 'Mail', 'GetMessagesBodies', \n      {AccountID: a.AccountID, Folder: msg.Folder, Uids: [msg.Uid]}, MessageBody\n    ) as Array<MessageBody>\n\n    if (!Array.isArray(result) || result.length != 1) {\n      return null;\n    }\n\n    result[0].AccountID = id;\n\n    // const draft = await this._getFolder(FolderType.Drafts, account);\n    // result[0].IsDraft = folder == draft.Id;\n\n    return result[0];\n  }\n\n  // For a combined folder, when we perform an operation on a collection of messages, \n  // we need to separate each message and each account and each folder\n  private _getPayloadInfos(account: Account, folder: string, msgs: Array<Message>): Array<PayloadInfoType> {\n    const result: Array<PayloadInfoType> = [];\n    // Get the original folder if it is a special folder.\n    const _folder = Utils.isCombinedFolder(folder) ? Utils.folderById(account.FoldersOrder, folder) : null;\n    Array.from(new Set(msgs.map(m => m.AccountID))).forEach(async accountId => {\n      const a = this._accounts.find(a => a.AccountID == accountId);\n      if (!a) {\n        return ;\n      }\n      // Search the folder of the given type inside the original account\n      const f = _folder == null ? {Id: folder} : Utils.folderByType(_folder.Type, a.FoldersOrder);\n      result.push({account: a, folder: f.Id, msgs: msgs.filter(m => m.AccountID == a.AccountID)});\n    });\n\n    return result;\n  }\n\n  private async _executeCombinedAccount(account: Account, folder: string, msgs: Array<Message>, operation: Function) {\n    const promises = [];\n    // Get the original folder if it is a special folder.\n    this._getPayloadInfos(account, folder, msgs).forEach(p => {\n      promises.push(operation(p.account, p.folder, p.msgs));\n    });\n\n    return Promise.all(promises);\n  }\n\n  // Patched\n  private async _doFlag(flag: string, account: Account, folder: string, msgs: Array<Message>, action: boolean) {\n    if (account.AccountID != COMBINED_ACCOUNT_ID) {\n      await this._request(\n        account.Email, 'Mail', flag,\n        {AccountID: account.AccountID, Folder: folder, Uids: msgs.map(m => m.Uid).join(\",\"), SetAction: action}\n      );\n      return ;\n    }\n\n    const callback = (account: Account, folder: string, msgs: Array<Message>) => {\n      return this._doFlag(flag, account, folder, msgs, action);\n    }\n\n    await this._executeCombinedAccount(account, folder, msgs, callback.bind(this));\n  }\n\n  // Patched\n  public async markRead(account: Account, folder: string, messages: Array<Message>, action: boolean) {\n    await this._doFlag('SetMessagesSeen', account, folder, messages, action);\n    account.Folders$.pipe(\n      take(1),\n      map(folders => Utils.folderById(folders, folder)),\n      filter(f => !!f),\n    ).subscribe(folder => {\n      const factor = action ? -1 : 1\n      folder.Unread += factor * messages.length;\n      folder.Count -= factor * messages.length;\n      this.folderUpdated$.emit(folder);\n    });\n    messages.forEach(m => m.IsSeen = action);\n  }\n\n  // Patched\n  public async flag(account: Account, folder: string, messages: Array<Message>, action: boolean) {\n    await this._doFlag('SetMessageFlagged', account, folder, messages, action);\n    messages.forEach(m => m.IsFlagged = action);\n  }\n\n  private async _doDeleteMessages(account: Account, folder: string, messages: Array<Message>) {\n    if (account.AccountID != COMBINED_ACCOUNT_ID) {\n      return this._request(\n        account.Email,\n        'Mail', 'DeleteMessages',\n        {AccountID: account.AccountID, Folder: folder, Uids: messages.map(m => m.Uid).join(\",\")}\n      );\n    }\n\n    const callback = (account: Account, folder: string, msgs: Array<Message>) => {\n      return this._doDeleteMessages(account, folder, msgs);\n    }\n\n    return this._executeCombinedAccount(account, folder, messages, callback.bind(this));\n  }\n\n  public async _doMoveMessages(account: Account, folder: string, toFolder: string, messages: Array<Message>) {\n    if (account.AccountID != COMBINED_ACCOUNT_ID) {\n      const params = {AccountID: account.AccountID, Folder: folder, ToFolder: toFolder, Uids: messages.map(m => m.Uid).join(',')};\n      await this._request(account.Email, 'Mail', 'MoveMessages', params);\n      return ;\n    }\n\n    const callback = (account: Account, toFolder: string, msgs: Array<Message>) => {\n      if (!Array.isArray(msgs) || msgs.length == 0) {\n        return ;\n      }\n      const x = msgs[0].Folder;\n      const folder = Utils.isCombinedFolder(x) ? Utils.folderByType(<any>x, account.FoldersOrder).Id : x;\n      return this._doMoveMessages(account, folder, toFolder, msgs);\n    };\n\n    return this._executeCombinedAccount(account, toFolder, messages, callback);\n  }\n\n  // Patched\n  public async deleteMessages(account: Account, folder: string, messages: Array<Message>) {\n    await this._doDeleteMessages(account, folder, messages);\n    this.messagesDeleted$.emit(messages);\n  }\n\n  // Patched\n  public async moveMessages(account: Account, folder: string, toFolder: string, messages: Array<Message>) {\n    await this._doMoveMessages(account, folder, toFolder, messages);\n    this.messagesMoved$.emit(messages);\n  }\n\n  public static openUrl(url: string, fileName?: string) {\n    const a = document.createElement('a');\n    if (fileName) {\n      a.download = fileName;\n    }\n    a.target = '_blank';\n    a.href = url;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  }\n\n  // Patched\n  public async downloadUrl(\n    account: Account, url: string, fileName: string,\n    where: FilesystemDirectory, msg?: Message, preview: boolean = false\n  ): Promise<FileWriteResult> {\n    this._checkReady();\n    if (msg) {\n      account = this._accounts.find(a => a.AccountID == msg.AccountID);\n    }\n    if (!account) {\n      throw {message: \"ACCOUNT_NOT_FOUND\", msg: msg};\n    }\n    const fileData = await this.getAttachmentContent(account, url);\n    if (preview && this._nc.isNextcloud) {\n      const basePath = '/tmp';\n      if (!(await this._nc.exists(basePath))) {\n        const [err, ] = await to(this._nc.mkdir(basePath));\n        if (err) {\n          console.error(basePath);\n          throw \"COULD_NOT_CREATE_PREVIEW_FOLDER\";\n        }\n      }\n\n      const path = `${basePath}/${fileName}`;\n      const [err, ] = await to(this._nc.upload(path, fileData));\n      if (err) {\n        console.error('Path is', path);\n        throw `ERROR_UPLOADING_FOR_PREVIEW`;\n      }\n\n      const [shareErr, share] = await to(this._nc.share(path));\n      if (shareErr) {\n        console.error(shareErr);\n        throw 'ERROR_SHARE';\n      }\n\n      setTimeout(() => this._nc.unshare(share.id), 60 * 1000);\n\n      Api.openUrl(share.url);\n      return null;\n    }\n\n    if (this._platform.is('desktop')) {\n      const buf = await fileData.arrayBuffer();\n      const blob = new Blob([buf], {type: 'application/octet-stream'});\n      const url = URL.createObjectURL(blob);\n      Api.openUrl(url, fileName);\n      return null;\n    }\n\n    const content = await new Promise(async (resolve, reject) => {\n      const reader = new FileReader();\n      const r: FileReader = reader['__zone_symbol__originalInstance'] || reader;\n      r.onloadend = () => {\n        resolve(r.result as string);\n      };\n      r.onerror = () => reject(reader.error);\n      r.readAsBinaryString(fileData);\n    }) as string;\n\n    const result = await Filesystem.writeFile({\n      path: fileName,\n      data: btoa(content),\n      directory: where,\n    });\n    return result;\n  }\n\n  public async getAttachmentContent(account: Account, url: string): Promise<Blob> {\n    this._checkReady();\n    const user = this._userByEmail(account.Email);\n    const data = await fetch(url, {headers: {Authorization: `Bearer ${user.token}`}});\n    return data.blob();\n  }\n\n  // Patched\n  public async downloadAttachment(\n    account: Account, att: Attachment, fileName: string,\n    where: FilesystemDirectory, msg?: Message, preview: boolean = false\n  ): Promise<FileWriteResult> {\n    this._checkReady();\n    if (!att.Actions || !att.Actions.download) {\n      return null;\n    }\n    return this.downloadUrl(account, `${this._server.url}/${att.Actions.download}`, fileName, where, msg, preview);\n  }\n\n  // Patched\n  public async uploadAttachment(account: Account, file: FileResult): Promise<UploadResult> {\n    return this._request(account.Email, 'Mail', 'UploadAttachment', {AccountID: account.AccountID}, UploadResult, file) as Promise<UploadResult>;\n  }\n\n  public async uploadData(account: Account, data: any): Promise<UploadResult> {\n    return this._request(account.Email, 'Mail', 'UploadAttachment', {AccountID: account.AccountID}, UploadResult, data) as Promise<UploadResult>;\n  }\n\n  private async _setFoldersTypes(account: Account, folders: Array<Folder>) {\n    const result = await this._request(account.Email, 'Mail', 'GetFolders', {AccountID: account.AccountID}, Object) as Object;\n    Utils.setFolderTypes(result['Folders']['@Collection'], folders);\n    account.TypesSet = true;\n  }\n\n  private _getFolders(account: Account): Promise<Array<Folder>> {\n    return new Promise<Array<Folder>>(resolve => account.Folders$.pipe(take(1)).subscribe(folders => resolve(folders)));\n  }\n\n  public async folderByType(type: FolderType, account: Account): Promise<Folder> {\n    const folders = await this._getFolders(account);\n    if (!account.TypesSet) {\n      console.log('set folder types 2');\n      await this._setFoldersTypes(account, folders);\n    }\n    return Utils.folderByType(type, folders);\n  }\n\n  public isSpamFolder(f: Folder): boolean {\n    return f.Type == FolderType.Spam;\n  }\n\n  // Patched\n  public async saveMessage(account: Account, msg: MessageSave): Promise<SaveMessageResponse> {\n    const draft = await this.folderByType(FolderType.Drafts, account);\n    const params = <Object>msg;\n    params['AccountID'] = account.AccountID;\n    params['DraftFolder'] = draft.Id;\n    return this._request(account.Email, 'Mail', 'SaveMessage', params, SaveMessageResponse) as Promise<SaveMessageResponse>;\n  }\n\n  // Patched\n  public async sendMessage(account: Account, msg: MessageSave): Promise<boolean> {\n    const sent = await this.folderByType(FolderType.Sent, account);\n    const draft = await this.folderByType(FolderType.Drafts, account);\n    const params = <Object>msg;\n    params['AccountID'] = account.AccountID;\n    params['DraftFolder'] = draft.Id;\n    params['SentFolder'] = sent.Id;\n    return this._request(account.Email, 'Mail', 'SendMessage', params) as Promise<boolean>;\n  }\n\n  // Patched\n  public async reloadAttachments(account: Account, attachments: Array<Attachment>) {\n    if (!Array.isArray(attachments) || attachments.length == 0) {\n      return ;\n    }\n    const result: Object = await this._request(\n      account.Email, 'Mail', 'SaveAttachmentsAsTempFiles',\n      {Attachments: attachments.map(a => a.Hash), AccountID: account.AccountID},\n      Object\n    ) as Object;\n\n    Object.keys(result).forEach(k => {\n      const a = attachments.find(a => a.Hash == result[k]);\n      if (!a) {\n        return ;\n      }\n\n      a.TempName = k;\n    });\n  }\n\n  // Patched\n  public getOriginalDraftReply(account: Account, msg: MessageCompose): Promise<MessageBody> {\n    const m = ModelFactory.instance({Uid: msg.DraftInfo[1], Folder: msg.DraftInfo[2]}, Message);\n    return this.getMessageBody(account, m as Message);\n  }\n\n  // Patched\n  public async moveOrDeleteMessages(account: Account, folder: string, messages: Array<Message>) {\n    const trash = await this.folderByType(FolderType.Trash, account);\n\n    if (trash.Id == folder) {\n      await this.deleteMessages(account, folder, messages);\n    }\n    else {\n      await this.moveMessages(account, folder, trash.Id, messages);\n    }\n  }\n\n  public async archive(account: Account, folder: string, messages: Array<Message>) {\n    return this.moveMessages(account, folder, ALL_MAIL, messages);\n  }\n\n  // Patched\n  public async markSpam(account: Account, folder: string, messages: Array<Message>) {\n    const spam = await this.folderByType(FolderType.Spam, account);\n    const to = spam.Id == folder ? 'inbox' : spam.Id;\n    await this.moveMessages(account, folder, to, messages);\n  }\n}\n","import {Injectable, NgZone} from '@angular/core';\nimport {BaseClass} from '../base';\nimport {NgInject} from '../decorators';\nimport {Platform} from '@ionic/angular';\nimport {merge, interval} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {Settings} from './settings';\nimport {to} from '../models';\n\nconst MAX_BACKGROUND_RETRIES = 3;\nconst MAX_INTERVAL = 60 * 1000 * 15;\n\n@Injectable()\nexport class Background extends BaseClass {\n  @NgInject(NgZone) private _zone: NgZone;\n  @NgInject(Platform) private _platform: Platform;\n  @NgInject(Settings) private _settings: Settings;\n\n  private _backgroundTimer: any;\n  private _callback: Function;\n  private _errors: number = 0;\n  private _checkInterval: number = null;\n\n  constructor() {\n    super();\n  }\n\n  public async configure(callback: Function) {\n    this._callback = callback;\n    this._checkInterval = await this._settings.getCheckoutEmailInterval();\n    if (this._checkInterval == 0) {\n      return ;\n    }\n    if (this._platform.is('desktop')) {\n      this._startMailsCheck();\n      return ;\n    }\n    this._backgroundTimer = window['BackgroundTimer'];\n    console.log('background timer is', this._backgroundTimer);\n    if (!this._backgroundTimer) {\n      return ;\n    }\n    this._backgroundTimer.onTimerEvent(this._backgroundRun.bind(this));\n\n    const obs = merge(this._platform.pause.pipe(map(() => 'pause')), this._platform.resume.pipe(map(() => 'resume')));\n    obs.subscribe(async ev => {\n      if (ev == 'resume') {\n        console.log('stopping the interval');\n        this._stopBackgroundTimer();\n        // this._zone.run(() => this._loadMessages({first: this._table.first}));\n        if (this._errors >= MAX_BACKGROUND_RETRIES) {\n          this._checkInterval = await this._settings.getCheckoutEmailInterval();\n        }\n      }\n\n      if (ev == 'pause') {\n        this._startBackgroundTimer();\n      }\n    });\n  }\n\n  private async _startBackgroundTimer() {\n    this._stopBackgroundTimer();\n    console.log('starting the interval');\n    this._backgroundTimer.start(this._backgroundSuccess.bind(this), this._backgroundFailure.bind(this), {\n      timerInterval: this._checkInterval,\n      startOnBoot: false,\n      stopOnTerminate: true,\n    });\n  }\n\n  private _backgroundSuccess() {\n    console.log('executed background thing successfully');\n  }\n\n  private _backgroundFailure(e: Error) {\n    console.log('error with background timer', e);\n  }\n\n  private _stopBackgroundTimer() {\n    this._backgroundTimer.stop(this._backgroundSuccess.bind(this), this._backgroundFailure.bind(this));\n  }\n\n  private _backgroundRun() {\n    return new Promise(resolve => {\n      this._zone.run(async () => {\n        await this._run();\n        resolve();\n      });\n    });\n  }\n\n  private async _run() {\n    const [err] = await to(this._callback());\n    console.log('err is', err);\n\n    if (err && ++this._errors >= MAX_BACKGROUND_RETRIES && this._checkInterval < MAX_INTERVAL) {\n      console.log('setting the interval to max, due to 3 errors in a row', err);\n      this._checkInterval = MAX_INTERVAL;\n      this._startBackgroundTimer();\n      console.log('set done');\n      return ;\n    }\n\n    if (err) {\n      console.log('no action taken due to error', err);\n      return ;\n    }\n    else if (this._errors >= MAX_BACKGROUND_RETRIES) {\n      this._checkInterval = await this._settings.getCheckoutEmailInterval();\n      console.log('setting the interval back to', this._checkInterval, 'due to no error now');\n      this._startBackgroundTimer();\n      console.log('set done');\n    }\n\n    this._errors = 0;\n  }\n\n  private async _startMailsCheck() {\n    interval(this._checkInterval).subscribe(() => this._callback());\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseClass} from '../base';\nimport {NgInject} from '../decorators';\nimport {Store} from './store';\nimport {Contact, Message, Contacts as Model} from '../models';\nimport {Api} from './api';\n\nconst CONTACTS_KEY = 'contacts';\n\n@Injectable()\nexport class Contacts extends BaseClass {\n  @NgInject(Store) private _store: Store;\n  @NgInject(Api) private _api: Api;\n  public contacts: Array<Contact> = [];\n\n  private _getCollection(a: Model): Array<Contact> {\n    if (!a || !Array.isArray(a.Collection)) {\n      return [];\n    }\n\n    return a.Collection;\n  }\n  \n  private async _init() {\n    this.contacts = await this._store.load(CONTACTS_KEY, Contact, []) as Array<Contact>;\n    this._api.messagesUpdated$.subscribe((messages: Array<Message>) => {\n      const list = messages.map(m => this._getCollection(m.From)\n        .concat(this._getCollection(m.To))\n        .concat(this._getCollection(m.Bcc))\n        .concat(this._getCollection(m.Cc)))\n        .reduce((acc, v) => acc.concat(v), []);\n\n      this.add(list);\n    })\n  }\n\n  constructor() {\n    super();\n    this._init();\n  }\n\n  public async add(what: Contact | Array<Contact>) {\n    (Array.isArray(what) ? what : [what])\n      .forEach(c => {\n        if (this.contacts.map(c => c.Email).indexOf(c.Email) == -1) {\n          this.contacts.push(c);\n          return ;\n        }\n\n        const contact = this.contacts.find(_c => _c.Email == c.Email);\n        contact.DisplayName = c.DisplayName;\n      });\n    await this._store.save(CONTACTS_KEY, this.contacts);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {fromEvent} from 'rxjs';\nimport {take} from 'rxjs/operators';\nimport {BaseClass} from '../base';\nimport {FileResult, FormDataSerialized, ModelFactory} from '../models';\n\n@Injectable()\nexport class FileService extends BaseClass {\n  private _callback: Function = null;\n\n  public async read(f: Blob): Promise<string>{\n    const reader = new FileReader();\n    const r: FileReader = reader['__zone_symbol__originalInstance'] || reader;\n\n    return new Promise((resolve, reject) => {\n      r.onloadend = function() {\n        resolve(this.result as string);\n      }\n      r.onerror = async function() {\n        reject(this.error);\n      }\n      r.readAsBinaryString(f);\n    })\n  }\n\n  public async get(el: HTMLInputElement): Promise<Array<FileResult>> {\n    if (this._callback) {\n      this._callback([]);\n    }\n    el.click();\n    const files: FileList = await new Promise(resolve => {\n      this._callback = resolve;\n      fromEvent(el, 'change').pipe(take(1)).subscribe(() => {\n        console.log('files are', el.files);\n        resolve(<any>el.files);\n      });\n    });\n\n    const result = Array.from(files).map(f => ModelFactory.instance(<FileResult>{content: f}, FileResult) as FileResult);\n    el.value = '';\n    return result;\n  }\n\n  public async serialize(form: FormData): Promise<FormDataSerialized> {\n    const result = new FormDataSerialized();\n    result.boundary = '------WebKitFormBoundaryt32h1LxhGa2YJU6X';\n    result.data = '';\n    let fileKey: string;\n    form.forEach((value, key) => {\n      if (value instanceof File) {\n        fileKey = key;\n        return ;\n      }\n      result.data += `${result.boundary}\\x0d\\x0aContent-Disposition: form-data; name=\"${key}\"\\x0d\\x0a\\x0d\\x0a${value}\\x0d\\x0a`;\n    });\n\n    const f = form.get(fileKey) as File;\n    const content = await this.read(f);\n    result.data += `${result.boundary}\\x0d\\x0aContent-Disposition: form-data; name=\"${fileKey}\"; filename=\"${f.name}\"\\x0d\\x0aContent-Type: ${f.type}\\x0d\\x0a\\x0d\\x0a${content}\\x0d\\x0a${result.boundary}--\\x0d\\x0a`;\n\n    return result;\n  }\n}\n","import { BaseClass } from '../base';\nimport {Injectable} from '@angular/core';\nimport {NgInject} from '../decorators';\nimport {Platform} from '@ionic/angular';\n\n@Injectable()\nexport class Layout extends BaseClass {\n  @NgInject(Platform) private _platform: Platform;\n\n  public get isMobile() {\n    return (this._platform.is('desktop') && this._platform.width() < 1024) || this._platform.is('mobile');\n  }\n}\n","import {EventEmitter, ErrorHandler} from '@angular/core';\nimport {environment} from '../../environments/environment';\nimport {LogLevel} from '../models';\n\nexport type LogEvent = {\n  stack: Array<string>;\n  args: any;\n  level: LogLevel;\n}\n\nexport class Logger implements ErrorHandler {\n  public level: LogLevel = typeof(environment.logLevel) == 'undefined' ? LogLevel.ERROR : environment.logLevel;\n  public includeStack: boolean = environment.logStack;\n\n  public logged: EventEmitter<LogEvent> = new EventEmitter<LogEvent>();\n\n  // private _sysLog: LoggingService;\n\n  private _log(level: LogLevel, ...args: any[]) {\n    if (level >= this.level) {\n      let stack = [];\n      if (environment.production) {\n\n      }\n      else {\n        if (this.includeStack) {\n          stack = Error().stack.split(\"\\n\");\n          console.trace();\n          console.log(stack);\n        }\n\n        console.log.apply(console, args[0]);\n        this.logged.emit({stack: stack, args: args, level: level});\n      }\n    }\n  }\n\n  public handleError(error: any) {\n    console.log('error is', error);\n    this._log(LogLevel.ERROR, [error.message, (error.stack || '').split(\"\\n\")]);\n  }\n\n  public debug(...args: any[]) {\n    this._log(LogLevel.DEBUG, args);\n  }\n\n  public info(...args: any) {\n    this._log(LogLevel.INFO, args);\n  }\n\n  public error(...args: any[]) {\n    this._log(LogLevel.ERROR, args);\n  }\n}\n\nexport class LoggingInstance {\n  public static logger = new Logger();\n}\n","import {EventEmitter, Injectable} from '@angular/core';\nimport {combineLatest, from, Observable, ReplaySubject} from 'rxjs';\nimport {filter, map, mergeMap, shareReplay, take, tap} from 'rxjs/operators';\nimport {BaseClass} from '../base';\nimport {NgInject} from '../decorators';\nimport {Account, COMBINED_ACCOUNT_ID, DisplayContact, Folder, Message} from '../models';\nimport {Api} from './api';\nimport {Store} from './store';\nimport { Platform } from '@ionic/angular';\nimport {Plugins, LocalNotification} from '@capacitor/core';\nimport {Utils} from './utils';\nimport { Router } from '@angular/router';\n\nconst {LocalNotifications} = Plugins;\n\n@Injectable()\nexport class Mails extends BaseClass {\n  @NgInject(Api) private _api: Api;\n  @NgInject(Store) private _store: Store;\n  @NgInject(Platform) private _platform: Platform;\n  @NgInject(Router) private _router: Router;\n\n  public refresh$ = new EventEmitter();\n  public refreshed$ = new EventEmitter();\n  public newEmails$ = new EventEmitter();\n  public folderChanged$: EventEmitter<Folder> = new EventEmitter<Folder>();\n  public currentAccount$: ReplaySubject<Account> = new ReplaySubject<Account>(1);\n\n  private _accounts: Array<Account> = null;\n  private _subscription: Observable<Array<Account>> = null;\n\n  constructor() {\n    super();\n    this.setCurrentAccount(null);\n\n    LocalNotifications.addListener('localNotificationActionPerformed', async n => {\n      this._messageClicked(n.notification.extra);\n      const pending = await LocalNotifications.getPending();\n      if (pending.notifications.length > 0) {\n        LocalNotifications.cancel(pending);\n      }\n    });\n  }\n\n  public get accounts$(): Observable<Array<Account>> {\n    if (this._subscription) {\n      return this._subscription;\n    }\n\n    this._subscription = this._api.ready$.pipe(\n      filter(result => result), \n      mergeMap(() => from(this._api.getAccounts())),\n      tap(accounts => this._accounts = accounts),\n      shareReplay(),\n    );\n\n    return this._subscription;\n  }\n\n  public accountById(id: string): Account {\n    if (!Array.isArray(this._accounts)) {\n      return null;\n    }\n\n    return this._accounts.find(a => a.AccountID == id) || null;\n  }\n\n  private _retrieveFolderById(id: string, folders: Array<Folder>): Folder {\n    if (folders.length == 0) {\n      return null;\n    }\n    const folder = folders.find(f => f.Id.toLowerCase() == id.toLowerCase());\n    if (folder) {\n      return folder;\n    }\n\n    const subFolders = folders.map(f => f.SubFolders).reduce((acc, v) => acc.concat(v), []);\n    return this._retrieveFolderById(id, subFolders);\n  }\n\n  public folderById$(account: Account, id: string): Observable<Folder> {\n    return account.Folders$.pipe(\n      take(1),\n      map(folders => this._retrieveFolderById(id, folders))\n    );\n  }\n\n  public async setCurrentAccount(email: string) {\n    if (email != null) {\n      await this._store.setCurrentAccount(email);\n    }\n\n    return new Promise(resolve => {\n      combineLatest(from(this._store.getCurrentAccount()), this.accounts$).pipe(\n        map(([email, accounts]) => accounts.length > 0 ? (accounts.find(a => a.Email == email || (email == COMBINED_ACCOUNT_ID && a.AccountID == email)) || accounts[0]) : null),\n        take(1),\n        tap(account => this.currentAccount$.next(account)),\n        tap(() => resolve()),\n      ).toPromise();\n    });\n  }\n\n  public validate(addresses: Array<DisplayContact>): boolean {\n    if (!Array.isArray(addresses)) {\n      return true;\n    }\n    return addresses.reduce((acc, v) => !acc ? acc : <any>v.Email.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i), true);\n  }\n\n  private _messageClicked(m: Message) {\n    this._router.navigateByUrl(`readmail:${m.Uid}`);\n  }\n\n  private _getFrom(m: Message): string {\n    const from = m.From && Array.isArray(m.From.Collection) && m.From.Collection.length > 0 ? m.From.Collection[0] : null;\n    if (!from) {\n      return 'New message';\n    }\n\n    return from.DisplayName || from.Email;\n  }\n\n  private async _doNotify(messages: Array<Message>) {\n    const callback = this._messageClicked.bind(this);\n    if (this._platform.is('desktop')) {\n      if (window.Notification.permission != 'granted') {\n        const perm = await window.Notification.requestPermission();\n        if (perm != 'granted') {\n          return ;\n        }\n      }\n      const notifications: Array<Notification> = [];\n      messages.forEach(m => {\n        const x = new window.Notification(this._getFrom(m), {body: m.Subject});\n        x.onclick = () => {\n          callback(m);\n          notifications.forEach(n => n.close());\n        };\n        notifications.push(x);\n      });\n\n      return ;\n    }\n\n    const perm = await LocalNotifications.requestPermission();\n    if (!perm.granted) {\n      return ;\n    }\n\n    await LocalNotifications.schedule({\n      notifications: messages.map(m => <LocalNotification>{\n        title: this._getFrom(m),\n        body: m.Subject,\n        id: parseInt(m.Uid),\n        extra: m,\n      }),\n    });\n  }\n\n  public showNotifications(lastMsg: Message, messages: Array<Message>) {\n    const ts = (lastMsg && lastMsg.TimeStampInUTC) || 1;\n    if (messages[0].TimeStampInUTC <= ts) {\n      return ;\n    }\n\n    this._doNotify(messages.filter(m => m.TimeStampInUTC > ts));\n  }\n\n  public messageInComposedFolder(msg: Message, folder: Folder): boolean {\n    if (!Utils.isCombinedFolder(folder.Id)) {\n      return msg.Folder == folder.Id;\n    }\n\n    if (!this._accounts) {\n      return false;\n    }\n\n    const a = this._accounts.find(a => a.AccountID == msg.AccountID);\n\n    if (!a) {\n      return false;\n    }\n\n    const f = a.FoldersOrder.find(f => f.Id == msg.Folder);\n    if (!f) {\n      return false;\n    }\n\n    return f.Type == folder.Type;\n  }\n}\n","import {Injectable, NgZone, EventEmitter} from '@angular/core';\nimport {ActivatedRoute, NavigationEnd, Router} from '@angular/router';\nimport {ReplaySubject} from 'rxjs';\nimport {distinctUntilChanged, filter, map} from 'rxjs/operators';\nimport {BaseClass} from '../base';\nimport {NgInject} from '../decorators';\n\n@Injectable()\nexport class Navigation extends BaseClass {\n  @NgInject(Router) private _router: Router;\n  @NgInject(ActivatedRoute) private _route: ActivatedRoute;\n  @NgInject(NgZone) private _zone: NgZone;\n\n  public routeData$: ReplaySubject<Object> = new ReplaySubject<Object>(1);\n  public routeParams$: ReplaySubject<Object> = new ReplaySubject<Object>(1);\n  public backButton$ = new EventEmitter();\n\n  constructor() {\n    super();\n    this._router.events.pipe(filter(ev => ev instanceof NavigationEnd)).subscribe(() => {\n      this.routeData$.next(this._route.root.firstChild.snapshot.data);\n      this.routeParams$.next(this._route.firstChild.snapshot.params);\n    });\n    document.addEventListener('backbutton', ev => {\n      ev.stopPropagation();\n      ev.preventDefault();\n      this._zone.run(() => {\n        this.backButton$.emit();\n      });\n    }, false);\n  }\n\n  public connectToRoute(key: string) {\n    return this.routeParams$.pipe(\n      filter(p => Object.keys(p).indexOf(key) != -1),\n      map(p => p[key]),\n      distinctUntilChanged(), \n    );\n\n  }\n}\n","import {RouteReuseStrategy, ActivatedRouteSnapshot, DetachedRouteHandle} from '@angular/router';\n\nexport class DefaultRouteReuseStrategy implements RouteReuseStrategy {\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    return false;\n  }\n  store(route: ActivatedRouteSnapshot, detachedTree: DetachedRouteHandle): void {}\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    return false;\n  }\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle|null {\n    return null;\n  }\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    return true;\n  }\n}\n","import {Injectable, EventEmitter} from '@angular/core';\nimport {BaseClass} from '../base';\nimport {NgInject} from '../decorators';\nimport {Store} from './store';\nimport {ServerSetting, MessageComposeType, AppSettings, LabelValue, AppSetting, UserSetting, ThemeType} from '../models';\nimport {NextcloudCredentials} from '../nextcloud/models';\nimport {Nextcloud} from '../nextcloud/nextcloud';\n\nconst SERVER_KEY = 'server';\nconst PAGE_SIZE_KEY = 'page-size';\nconst MESSAGE_TYPE_KEY = 'message-type';\nconst CHECK_INTERVAL = 'check-emails-interval';\nconst NEXTCLOUD_CREDENTIALS = 'nextcloud-credentials';\nconst CLOUD_PREVIEW = 'preview-in-cloud';\nconst NEXTCLOUD_URL = 'nextcloud-url';\nconst THEME = 'theme';\n\nconst EMAIL_INTERVAL_OPTIONS: Array<LabelValue> = [\n  {label: '1 minute', value: 60 * 1000}, \n  {label: '5 minutes', value: 60 * 1000 * 5},\n  {label: '10 minutes', value: 60 * 1000 * 10},\n  {label: '15 minutes', value: 60 * 1000 * 15},\n  {label: 'Never', value: 0},\n];\n\nconst MESSAGE_TYPE_OPTIONS: Array<LabelValue> = [\n  {label: 'Html', value: 'HTML'},\n  {label: 'Plain text', value: 'TEXT'},\n];\n\nconst PAGE_SIZE: Array<LabelValue> = [\n  {label: '20 messages', value: 20},\n  {label: '50 messages', value: 50},\n  {label: '100 messages', value: 100},\n];\n\nconst THEME_OPTIONS: Array<LabelValue> = [\n  {label: 'Light', value: <ThemeType>'light'},\n  {label: 'Dark', value: <ThemeType>'dark'},\n];\n\n@Injectable()\nexport class Settings extends BaseClass {\n  @NgInject(Store) private _store: Store;\n  @NgInject(Nextcloud) private _nc: Nextcloud;\n  public serverSet$ = new EventEmitter();\n\n  public async initTheme() {\n    const theme = await this.getTheme();\n    if (theme == 'dark') {\n      document.body.style.backgroundColor = '#323232';\n      document.querySelector('#theme-link').setAttribute('href', 'assets/themes/luna-pink/theme.css');\n      return ;\n    }\n\n    document.body.style.backgroundColor = 'inherit';\n    document.querySelector('#theme-link').setAttribute('href', 'assets/themes/nova-light/theme.css');\n  }\n  \n  constructor() {\n    super();\n    this.initTheme();\n    this._initNextcloud();\n  }\n\n  private async _initNextcloud() {\n    const c = await this.getNextcloudLogin();\n    if (!c) {\n      return ;\n    }\n\n    this._nc.credentials = c;\n  }\n\n  public getServer(): Promise<ServerSetting> {\n    return this._store.load(SERVER_KEY, ServerSetting) as Promise<ServerSetting>;\n  }\n\n  public async setServer(servers: ServerSetting) {\n    servers.users.forEach(u => u.pass = null);\n    const result = await this._store.save(SERVER_KEY, servers);\n    this.serverSet$.emit();\n    return result;\n  }\n\n  public async getPageSize(): Promise<number> {\n    return this._store.load(PAGE_SIZE_KEY, undefined, 20) as Promise<number>;\n  }\n\n  public setPageSize(s: number) {\n    return this._store.save(PAGE_SIZE_KEY, s);\n  }\n\n  public getMessageType(): Promise<MessageComposeType> {\n    return this._store.load(MESSAGE_TYPE_KEY, undefined, 'HTML') as Promise<MessageComposeType>;\n  }\n\n  public setMessageType(type: MessageComposeType) {\n    return this._store.save(MESSAGE_TYPE_KEY, type);\n  }\n\n  public getCheckoutEmailInterval(): Promise<number> {\n    return this._store.load(CHECK_INTERVAL, undefined, 60 * 1000 * 15) as Promise<number>;\n  }\n\n  public setCheckoutEmailInterval(value: number) {\n    return this._store.save(CHECK_INTERVAL, value);\n  }\n\n  public getNextcloudLogin(): Promise<NextcloudCredentials> {\n    return this._store.load(NEXTCLOUD_CREDENTIALS, NextcloudCredentials) as Promise<NextcloudCredentials>;\n  }\n\n  public setNextcloudLogin(x: NextcloudCredentials) {\n    return this._store.save(NEXTCLOUD_CREDENTIALS, x);\n  }\n\n  public getNextcloudUrl(): Promise<string> {\n    return this._store.load(NEXTCLOUD_URL) as Promise<string>;\n  }\n\n  public setNextcloudUrl(x: string): Promise<void> {\n    return this._store.save(NEXTCLOUD_URL, x);\n  }\n\n  public getTheme(): Promise<ThemeType> {\n    return this._store.load(THEME) as Promise<ThemeType>;\n  }\n\n  public setTheme(x: ThemeType): Promise<void> {\n    return this._store.save(THEME, x);\n  }\n\n  public async getCloudPreview(): Promise<boolean> {\n    const result = await (this._store.load(CLOUD_PREVIEW) as Promise<boolean>);\n    if (result == null) {\n      return false;\n    }\n    return result;\n  }\n\n  public setCloudPreview(x: boolean): Promise<void> { return this._store.save(CLOUD_PREVIEW, x); }\n\n  private _toAppSetting(x: number | string, options: Array<LabelValue>): AppSetting {\n    const result = new AppSetting();\n    result.model = options.find(o => o.value == x);\n    result.options = options;\n    return result;\n  }\n\n  public get appSettings(): Promise<AppSettings> {\n    return new Promise(resolve => {\n      const model = new AppSettings();\n      const p = [];\n      p.push(this.getCheckoutEmailInterval().then(x => model.checkEmailInterval = this._toAppSetting(x, EMAIL_INTERVAL_OPTIONS)));\n      p.push(this.getMessageType().then(x => model.composeType = this._toAppSetting(x, MESSAGE_TYPE_OPTIONS)));\n      p.push(this.getPageSize().then(x => model.pageSize = this._toAppSetting(x, PAGE_SIZE)));\n      p.push(this.getServer().then(x => model.server = x));\n      p.push(this.getNextcloudUrl().then(x => model.nextcloudUrl = x));\n      p.push(this.getCloudPreview().then(x => model.previewInCloud = x));\n      p.push(this.getTheme().then(x => model.theme = this._toAppSetting(x, THEME_OPTIONS)));\n\n      Promise.all(p).then(() => resolve(model));\n    });\n  }\n\n  public async saveSettings(settings: AppSettings): Promise<void> {\n    const p = [];\n    p.push(this.setServer(settings.server));\n    p.push(this.setCheckoutEmailInterval(settings.checkEmailInterval.model.value as number));\n    p.push(this.setMessageType(settings.composeType.model.value as MessageComposeType));\n    p.push(this.setPageSize(settings.pageSize.model.value as number));\n    p.push(this.setNextcloudUrl(settings.nextcloudUrl));\n    p.push(this.setCloudPreview(settings.previewInCloud));\n    p.push(this.setTheme(settings.theme.model.value as ThemeType));\n    await Promise.all(p);\n    this.initTheme();\n  }\n\n  public async needAuthenticating(server: ServerSetting): Promise<Array<UserSetting>>{\n    if (!server) {\n      return [];\n    }\n\n    const current = await this.getServer();\n\n    if (!current || current.url != server.url) {\n      return server.users;\n    }\n\n    return server.users.filter(u => !u.token || u.pass);\n  }\n}\n","import {Injectable, Type} from '@angular/core';\nimport {Plugins} from '@capacitor/core';\nimport {BaseClass} from '../base';\nimport {ModelFactory, ObjectType} from '../models';\nimport {Nextcloud} from '../nextcloud/nextcloud';\nimport {Storage as NCStorage} from '../nextcloud/storage';\n\nconst Storage = Nextcloud.isOC ? NCStorage : Plugins.Storage;\n\nconst PREFIX = 'afterlogic-client-';\nconst CURRENT_ACCOUNT = 'current-account'\nconst FOLDER_SEARCH = 'last-folder-searched';\n\n@Injectable()\nexport class Store extends BaseClass {\n  public async load<T>(key: string, type?: Type<T>, defValue?: T | Array<T>): Promise<ObjectType<T>> {\n    const result = await Storage.get({key: PREFIX + key});\n    if (!result.value) {\n      return defValue ? defValue : null;\n    }\n    return ModelFactory.instance(JSON.parse(result.value).data, type);\n  }\n\n  public async save(key: string, data: any): Promise<void> {\n    return Storage.set({key: PREFIX + key, value: JSON.stringify({data: data, date: new Date()})});\n  }\n\n  public async getCurrentAccount(): Promise<string> {\n    return this.load(CURRENT_ACCOUNT) as Promise<string>;\n  }\n\n  public async setCurrentAccount(email: string) {\n    return this.save(CURRENT_ACCOUNT, email);\n  }\n\n  public async getFolderSearch(): Promise<string> {\n    return this.load(FOLDER_SEARCH) as Promise<string>;\n  }\n\n  public async setFolderSearch(f: string) {\n    this.save(FOLDER_SEARCH, f);\n  }\n}\n","import {MenuItem} from 'primeng/api';\nimport {Collection, COMBINED_ACCOUNT_ID, ComposedResult, Contact, Folder, FolderType, MessageCompose, SearchModel, ServerSetting, UserSetting} from '../models';\n\nexport class Utils {\n  public static avatarColor(contact: Contact): string {\n    const name = contact.Email;\n    let hash = 0;\n    for (var i = 0; i < name.length; i++) {\n      hash = name.charCodeAt(i) + ((hash << 5) - hash);\n    }\n\n    let h = hash % 360;\n    return 'hsl('+h+', 50%, 50%)';\n  }\n\n  public static extractCollection<T>(c: Collection<T>): Array<T> {\n    if (!c || !Array.isArray(c.Collection)) {\n      return [];\n    }\n\n    return c.Collection;\n  }\n\n  public static userByEmail(users: Array<UserSetting>, email: string): UserSetting {\n    return users.find(u => u.email == email);\n  }\n\n  private static _searchFolder(folders: Array<Folder>, predicate: (f: Folder) => boolean): Folder {\n    if (!Array.isArray(folders) || folders.length == 0) {\n      return null;\n    }\n    const result = folders.find(predicate);\n\n    return result || Utils._searchFolder(folders.map(f => f.SubFolders).reduce((acc, v) => acc.concat(v), []), predicate);\n\n  }\n\n  public static folderByType(type: FolderType, folders: Array<Folder>): Folder {\n    return Utils._searchFolder(folders, (f => f.Type == type));\n  }\n\n  public static setFolderTypes(data: Array<Object>, folders: Array<Folder>) {\n    if (data.length == 0) {\n      return ;\n    }\n\n    data.forEach(_f => {\n      const f = Utils.folderById(folders, _f['FullName']);\n      if (!f) {\n        return ;\n      }\n\n      f.Type = _f['Type'];\n    });\n\n    this.setFolderTypes(\n      data\n        .filter(d => !!d['SubFolders'] && Array.isArray(d['SubFolders']['@Collection']))\n        .map(d => d['SubFolders']['@Collection'])\n        .reduce((acc, v) => acc.concat(v), []),\n      folders\n    );\n  }\n\n  public static folderById(folders: Array<Folder>, id: string): Folder {\n    return Utils._searchFolder(folders, (f => f.Id == id));\n  }\n\n  public static isDraftReply(msg: MessageCompose): boolean {\n    return !!msg.DraftUid && msg.DraftInfo && Array.isArray(msg.DraftInfo) && msg.DraftInfo.length >= 3;\n  }\n\n  public static emptySearch(model: SearchModel): boolean {\n    return !model.from && !model.to && !model.text && !model.till\n      && !model.since && !model.simple && !model.subject && !model.attachments;\n  }\n\n  public static buildUserMenu(server: ServerSetting, callback: Function): Array<MenuItem> {\n    if (!server || !Array.isArray(server.users)) {\n      return [];\n    }\n    const f = (ev: any) => callback(ev.item);\n    const result = server.users.map(u => <MenuItem>{\n      label: u.email, icon: \"fa fa-user\", command: f, id: u.email,\n    });\n    if (server.users.length > 1) {\n      result.push({label: 'Combined view', icon: 'fa fa-users', command: f, id: COMBINED_ACCOUNT_ID});\n    }\n    result.push({label: 'Settings', icon: 'fa fa-cog', command: f, id: 'settings'});\n\n    return result;\n  }\n\n  public static isComposedResult<T>(x: T): boolean {\n    return Array.isArray(x) && x.length > 0 && x[0] instanceof ComposedResult;\n  }\n\n  public static isCombinedFolder(id: string): boolean {\n    if (!id.match(/^[0-9]+$/)) {\n      return false;\n    }\n    return [FolderType.Sent, FolderType.Spam, FolderType.Inbox, FolderType.Trash, FolderType.Drafts].indexOf(parseInt(id)) != -1;\n  }\n\n  public static foldersFlatList(folders: Array<Folder>, result: Array<Folder>){\n    result.push.apply(result, folders);\n    folders.forEach(f => Utils.foldersFlatList(f.SubFolders, result));\n  }\n\n  public static foldersFlatList2(folders: Array<Folder>): Array<Folder> {\n    const result = [];\n    folders.forEach(f => {\n      result.push(f);\n      result.push(...Utils.foldersFlatList2(f.SubFolders));\n    });\n\n    return result;\n  }\n\n  public static foldersDiff(f1: string, f2: string) {\n    if (f1.toLowerCase() == f2.toLowerCase()) {\n      return false;\n    }\n\n    if (f1.toLowerCase() == \"inbox\" && f2.toLowerCase() == FolderType.Inbox.toString()) {\n      return false;\n    }\n\n    return f1.toLowerCase() != f2.toLowerCase();\n  }\n\n  public static transformMessageBody(clientWidth: number, el: HTMLElement): string {\n    if (el.scrollWidth <= clientWidth) {\n      return null;\n    }\n\n    const scale = clientWidth / el.scrollWidth;\n    const x = (el.scrollWidth - clientWidth) / 2;\n    const height = el.scrollHeight * scale;\n    const y = (el.scrollHeight - height) / 2;\n    return `transform: scale(${scale}) translate(-${x}px, -${y}px); max-height: ${height}px`;\n  }\n\n  /**\n   * Returns an array. First result is the txt being searched\n   * and the second one is the folder (if it is set in the criterias)\n   */\n  public static searchFolder(txt: string): Array<string> {\n    if (!txt) {\n      return ['', null];\n    }\n    const p = /^(.*) folder:\"([^\"]+)\"$/;\n    if (!txt.match(p)) {\n      return [txt, null];\n    }\n\n    return [txt.replace(p, '$1'), txt.replace(p, '$2')];\n  }\n}\n"]}